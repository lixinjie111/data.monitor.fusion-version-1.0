webpackJsonp([0],{"2v/C":function(t,e){},"3IRH":function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},"6Bgf":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADsAAAA8CAYAAADYIMILAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ1IDc5LjE2MzQ5OSwgMjAxOC8wOC8xMy0xNjo0MDoyMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkQ0RTdDRDZCQzdBQjExRTk5N0I1ODYxNEZDNDhBRjdCIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkQ0RTdDRDZDQzdBQjExRTk5N0I1ODYxNEZDNDhBRjdCIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RDRFN0NENjlDN0FCMTFFOTk3QjU4NjE0RkM0OEFGN0IiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RDRFN0NENkFDN0FCMTFFOTk3QjU4NjE0RkM0OEFGN0IiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4NAM7BAAAHhElEQVR42uybB1RTZxTHyU4ISQgjoiCJWERUKlZw0zpQFAd1gNra2mM5oFRx1FHnsVQtHu2pVKHHVRGtWour7oGKUkfFBVSCIAQwMiSEDDJI8tL7hQQRZXiq0cS8cwLvJe/jvd+79/v/7/0AXFRUlN7uPdmI6MvWrVsDrB00Ojo6E2/3Hm02WBusDdYGa4N9Z3zWnJs0/xhbln+cR6CwVAR7F4Vjt8/KSCxunVXCkujt1VJ+6mydWtITHVdcXobhiNRyApV9j+LUJdN14MrLDrxhUqtIY1qHPgpuxKlYiGyW6R70WlUHrbwstLYkfZVg//Az/F/c4svOx3a3ijlr7zGg1jP8eCyezMh68VM9WVtbESzK3Lybn8DZUHXzp44WL1D0jkFybsRJBJzT3DlaxdMh5ZcWHyhM6R+hxzQ4i1ZjI/DsxsB4sgPf0W96NIHmdL0+0BhFIbyxOC+Ru7ZOXEC2aOtpBPwAQPM8x6fGeIxJvu07TzTHgRe8Aocj1BqiLC8b8WhXQJKy/I69RfusETgGQGc5eIU0KDFv6vkz7Yasn4Yn0fPRMSi4v2Df0ASNpJhssbAm4Magps2l77elvCnnIk3qDcC9CvcMXG61FVSDepPsC9CxRiYcXbT343FWWy6iyLcbHL8A5rAMHSseX1tQk53Csdra2DlgzhM6d/AGg0jrdQ4V6ctmWnUjwJt64RSB6phpTOcxr1J0WGTXw/AO2266/+o7iVPeaiNQfSepQ03O3v6YRsEEUZGyfCffcA6cKzR9XpkR5yXNOxzUeAyOSFHR3Hrnug2Oz8FTmFhLPx/5sDTvUC5WJ/fVSEpCIcKbSAx3jdlh87d1m6kW8WfArGrIGoXwOgYPIMU7Om+L4bj0ahdV5f05Tccqn/xjV5OVXMz0Df/RY8zuzJauQ+X4H1Y8zlgOc5dRdmFeoOf4P6+ZNY0F+4ND1aLcSLRPcfbZxfAet5Di7PsbxM1OXf3wq+KDocNetJWB6+zd+62H83biiTQBplVya7L3bCk5Ej6gRbEKjE1HOoX2VeV3+pk9jZUVd0ei72THTge9o/iJxrcv8xPa8bSKyqHKintD4Tit8RivLzIOm/Z1StG2/B1+q6E0HCV7eDSutvTqp8hyXnYtVtfwaiGRVgQPxwsahh5mFyi3IRvWtA/eFOYxds+vz12Ewnxi2MG0tJbGE2jOOigZ4+1weIUe0zpWXFoyssWbpzrmGWwIssHskWX3nFHZ9D2IjoNWJhxkiDi78422VEsEqtNtnbIqqK6mMBDeSm123rp0v6bSYyRDo1BbQSTS22nNrsayghOOwlOR30F7RtKpxH4QJSe4kXO8yWdT2zKeQGGUAawdqLlby557/jR8O/1WrUcjf0JFqw0NtoIjKKiuPTJas5RnPkRQ1feyOso7v+DG8pn4VK9RhmF1MrKs8Ky/QnhtvlyQFlf0+xB8p88vnWhtvF6nZhiY8SSF2WFzNzlvxlSS7ngKI893vnhWq2kIQmMqIlwHrigq2OnvCL76jbI8E1U7rcLqVDUfGFctis0OiyNQJGDeTEwt82npvIIdfjP0ujo6q9uUk5yg7wsbLmLvWl4fMY1Ta9dC1RVkhGFlkeLqd/11wrbJeoj2nAJjp8EU3Upwb3auSksHQfEwXZy167l6VVX176D6SNGLWroOKuqrbqyPR6ei3hXKwotmjyytfe8sSEPDvoSf2gdS9MhLbcPzk92y/L82AvSE3J/ZHeEh5UIx0Q3SMgDyA2N0Hp3cdAxaI673ShVHp5ZCRPUEyKRKyIzFrVnJG4ksJygu29Q0q0UPhjV3HnfSsXRG51FL4WbLADAQovwlAsURqUKG99hFHmNTbjUdg1QbvXRqyYc4HF5JYnEPeYzbM82l78KS1y2cbYos6iiIDm7pqH/UKav7oHnFGbSq8KXAEacu6DFNWtXNjZ514kI2me0lRjcOytrwhyps/8hbRDon5tkjJ+nILK7YOSC2GInbm2oN22w90EMegs5lDLo18f0dUwF2bbOCBmCu/ZciJX2pmkLLJ0Ivc/fBba6NO4QkZptW+DTSx+Mq0pd7W1rT/0qNALPrpM1G2ydU305ciqmleKuFdQ/dcZfo0P6cwfhBUB4lB8ZYLWw98M71MCefGpQZPFWwf/goq4UFa5Gwe0UtAhlCvy3HQc27WnAgZIRVwhrEasSWHEbnkStRoYDmr7zo3BpDqdjk14qyR6dZJYcmfGzRsEY/TQPgZcYI41VPc2L4CZxE0zouAi09GpEkfXh0o+DAiBCLhjUVEOyeX8fg8MRqY7fSp/ziooN5SbwlCBSrk/ugVUZ50YUf3oVU/9/W4R66/Z5H2L4p0NlcMdoSSSMpDq8HbehQAfj8GsEfo4ZbNKxppa/r3MoFTJ+Jc/FEWjOdDQAXnl1bfDA02KJhTZvnhNS/u86rmsz0DltAoLlkwHzWNgWWPTqz7m0Bv/ZlGehDMc9JR1FKX0EiVX17c4BaxP9IpxJ7YRqlpx2mpQPw2pLDk1TwcDIsGrapJ8MLLYqnWbwaW3UjYIO1wdpgbbA22Dfps+i/md4H2P8EGACbuzme40VKeAAAAABJRU5ErkJggg=="},"6WPV":function(t,e){},Cdx3:function(t,e,n){var i=n("sB3e"),r=n("lktj");n("uqUo")("keys",function(){return function(t){return r(i(t))}})},M4fF:function(t,e,n){(function(t,i){var r;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var o,s=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",u="Expected a function",l="__lodash_hash_undefined__",c=500,h="__lodash_placeholder__",f=1,p=2,d=4,v=1,g=2,m=1,y=2,_=4,w=8,b=16,x=32,E=64,C=128,j=256,S=512,T=30,R="...",I=800,O=16,A=1,L=2,k=1/0,M=9007199254740991,P=1.7976931348623157e308,D=NaN,F=4294967295,N=F-1,G=F>>>1,W=[["ary",C],["bind",m],["bindKey",y],["curry",w],["curryRight",b],["flip",S],["partial",x],["partialRight",E],["rearg",j]],B="[object Arguments]",z="[object Array]",U="[object AsyncFunction]",Y="[object Boolean]",V="[object Date]",X="[object DOMException]",H="[object Error]",Z="[object Function]",K="[object GeneratorFunction]",q="[object Map]",J="[object Number]",Q="[object Null]",$="[object Object]",tt="[object Proxy]",et="[object RegExp]",nt="[object Set]",it="[object String]",rt="[object Symbol]",ot="[object Undefined]",st="[object WeakMap]",at="[object WeakSet]",ut="[object ArrayBuffer]",lt="[object DataView]",ct="[object Float32Array]",ht="[object Float64Array]",ft="[object Int8Array]",pt="[object Int16Array]",dt="[object Int32Array]",vt="[object Uint8Array]",gt="[object Uint8ClampedArray]",mt="[object Uint16Array]",yt="[object Uint32Array]",_t=/\b__p \+= '';/g,wt=/\b(__p \+=) '' \+/g,bt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,xt=/&(?:amp|lt|gt|quot|#39);/g,Et=/[&<>"']/g,Ct=RegExp(xt.source),jt=RegExp(Et.source),St=/<%-([\s\S]+?)%>/g,Tt=/<%([\s\S]+?)%>/g,Rt=/<%=([\s\S]+?)%>/g,It=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ot=/^\w*$/,At=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Lt=/[\\^$.*+?()[\]{}|]/g,kt=RegExp(Lt.source),Mt=/^\s+|\s+$/g,Pt=/^\s+/,Dt=/\s+$/,Ft=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Nt=/\{\n\/\* \[wrapped with (.+)\] \*/,Gt=/,? & /,Wt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Bt=/\\(\\)?/g,zt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ut=/\w*$/,Yt=/^[-+]0x[0-9a-f]+$/i,Vt=/^0b[01]+$/i,Xt=/^\[object .+?Constructor\]$/,Ht=/^0o[0-7]+$/i,Zt=/^(?:0|[1-9]\d*)$/,Kt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,qt=/($^)/,Jt=/['\n\r\u2028\u2029\\]/g,Qt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",$t="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",te="[\\ud800-\\udfff]",ee="["+$t+"]",ne="["+Qt+"]",ie="\\d+",re="[\\u2700-\\u27bf]",oe="[a-z\\xdf-\\xf6\\xf8-\\xff]",se="[^\\ud800-\\udfff"+$t+ie+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",ae="\\ud83c[\\udffb-\\udfff]",ue="[^\\ud800-\\udfff]",le="(?:\\ud83c[\\udde6-\\uddff]){2}",ce="[\\ud800-\\udbff][\\udc00-\\udfff]",he="[A-Z\\xc0-\\xd6\\xd8-\\xde]",fe="(?:"+oe+"|"+se+")",pe="(?:"+he+"|"+se+")",de="(?:"+ne+"|"+ae+")"+"?",ve="[\\ufe0e\\ufe0f]?"+de+("(?:\\u200d(?:"+[ue,le,ce].join("|")+")[\\ufe0e\\ufe0f]?"+de+")*"),ge="(?:"+[re,le,ce].join("|")+")"+ve,me="(?:"+[ue+ne+"?",ne,le,ce,te].join("|")+")",ye=RegExp("['’]","g"),_e=RegExp(ne,"g"),we=RegExp(ae+"(?="+ae+")|"+me+ve,"g"),be=RegExp([he+"?"+oe+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[ee,he,"$"].join("|")+")",pe+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[ee,he+fe,"$"].join("|")+")",he+"?"+fe+"+(?:['’](?:d|ll|m|re|s|t|ve))?",he+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ie,ge].join("|"),"g"),xe=RegExp("[\\u200d\\ud800-\\udfff"+Qt+"\\ufe0e\\ufe0f]"),Ee=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ce=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],je=-1,Se={};Se[ct]=Se[ht]=Se[ft]=Se[pt]=Se[dt]=Se[vt]=Se[gt]=Se[mt]=Se[yt]=!0,Se[B]=Se[z]=Se[ut]=Se[Y]=Se[lt]=Se[V]=Se[H]=Se[Z]=Se[q]=Se[J]=Se[$]=Se[et]=Se[nt]=Se[it]=Se[st]=!1;var Te={};Te[B]=Te[z]=Te[ut]=Te[lt]=Te[Y]=Te[V]=Te[ct]=Te[ht]=Te[ft]=Te[pt]=Te[dt]=Te[q]=Te[J]=Te[$]=Te[et]=Te[nt]=Te[it]=Te[rt]=Te[vt]=Te[gt]=Te[mt]=Te[yt]=!0,Te[H]=Te[Z]=Te[st]=!1;var Re={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ie=parseFloat,Oe=parseInt,Ae="object"==typeof t&&t&&t.Object===Object&&t,Le="object"==typeof self&&self&&self.Object===Object&&self,ke=Ae||Le||Function("return this")(),Me="object"==typeof e&&e&&!e.nodeType&&e,Pe=Me&&"object"==typeof i&&i&&!i.nodeType&&i,De=Pe&&Pe.exports===Me,Fe=De&&Ae.process,Ne=function(){try{var t=Pe&&Pe.require&&Pe.require("util").types;return t||Fe&&Fe.binding&&Fe.binding("util")}catch(t){}}(),Ge=Ne&&Ne.isArrayBuffer,We=Ne&&Ne.isDate,Be=Ne&&Ne.isMap,ze=Ne&&Ne.isRegExp,Ue=Ne&&Ne.isSet,Ye=Ne&&Ne.isTypedArray;function Ve(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function Xe(t,e,n,i){for(var r=-1,o=null==t?0:t.length;++r<o;){var s=t[r];e(i,s,n(s),t)}return i}function He(t,e){for(var n=-1,i=null==t?0:t.length;++n<i&&!1!==e(t[n],n,t););return t}function Ze(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function Ke(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(!e(t[n],n,t))return!1;return!0}function qe(t,e){for(var n=-1,i=null==t?0:t.length,r=0,o=[];++n<i;){var s=t[n];e(s,n,t)&&(o[r++]=s)}return o}function Je(t,e){return!!(null==t?0:t.length)&&un(t,e,0)>-1}function Qe(t,e,n){for(var i=-1,r=null==t?0:t.length;++i<r;)if(n(e,t[i]))return!0;return!1}function $e(t,e){for(var n=-1,i=null==t?0:t.length,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}function tn(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}function en(t,e,n,i){var r=-1,o=null==t?0:t.length;for(i&&o&&(n=t[++r]);++r<o;)n=e(n,t[r],r,t);return n}function nn(t,e,n,i){var r=null==t?0:t.length;for(i&&r&&(n=t[--r]);r--;)n=e(n,t[r],r,t);return n}function rn(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}var on=fn("length");function sn(t,e,n){var i;return n(t,function(t,n,r){if(e(t,n,r))return i=n,!1}),i}function an(t,e,n,i){for(var r=t.length,o=n+(i?1:-1);i?o--:++o<r;)if(e(t[o],o,t))return o;return-1}function un(t,e,n){return e==e?function(t,e,n){var i=n-1,r=t.length;for(;++i<r;)if(t[i]===e)return i;return-1}(t,e,n):an(t,cn,n)}function ln(t,e,n,i){for(var r=n-1,o=t.length;++r<o;)if(i(t[r],e))return r;return-1}function cn(t){return t!=t}function hn(t,e){var n=null==t?0:t.length;return n?vn(t,e)/n:D}function fn(t){return function(e){return null==e?o:e[t]}}function pn(t){return function(e){return null==t?o:t[e]}}function dn(t,e,n,i,r){return r(t,function(t,r,o){n=i?(i=!1,t):e(n,t,r,o)}),n}function vn(t,e){for(var n,i=-1,r=t.length;++i<r;){var s=e(t[i]);s!==o&&(n=n===o?s:n+s)}return n}function gn(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}function mn(t){return function(e){return t(e)}}function yn(t,e){return $e(e,function(e){return t[e]})}function _n(t,e){return t.has(e)}function wn(t,e){for(var n=-1,i=t.length;++n<i&&un(e,t[n],0)>-1;);return n}function bn(t,e){for(var n=t.length;n--&&un(e,t[n],0)>-1;);return n}var xn=pn({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),En=pn({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Cn(t){return"\\"+Re[t]}function jn(t){return xe.test(t)}function Sn(t){var e=-1,n=Array(t.size);return t.forEach(function(t,i){n[++e]=[i,t]}),n}function Tn(t,e){return function(n){return t(e(n))}}function Rn(t,e){for(var n=-1,i=t.length,r=0,o=[];++n<i;){var s=t[n];s!==e&&s!==h||(t[n]=h,o[r++]=n)}return o}function In(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function On(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}function An(t){return jn(t)?function(t){var e=we.lastIndex=0;for(;we.test(t);)++e;return e}(t):on(t)}function Ln(t){return jn(t)?function(t){return t.match(we)||[]}(t):function(t){return t.split("")}(t)}var kn=pn({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Mn=function t(e){var n,i=(e=null==e?ke:Mn.defaults(ke.Object(),e,Mn.pick(ke,Ce))).Array,r=e.Date,Qt=e.Error,$t=e.Function,te=e.Math,ee=e.Object,ne=e.RegExp,ie=e.String,re=e.TypeError,oe=i.prototype,se=$t.prototype,ae=ee.prototype,ue=e["__core-js_shared__"],le=se.toString,ce=ae.hasOwnProperty,he=0,fe=(n=/[^.]+$/.exec(ue&&ue.keys&&ue.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",pe=ae.toString,de=le.call(ee),ve=ke._,ge=ne("^"+le.call(ce).replace(Lt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),me=De?e.Buffer:o,we=e.Symbol,xe=e.Uint8Array,Re=me?me.allocUnsafe:o,Ae=Tn(ee.getPrototypeOf,ee),Le=ee.create,Me=ae.propertyIsEnumerable,Pe=oe.splice,Fe=we?we.isConcatSpreadable:o,Ne=we?we.iterator:o,on=we?we.toStringTag:o,pn=function(){try{var t=Go(ee,"defineProperty");return t({},"",{}),t}catch(t){}}(),Pn=e.clearTimeout!==ke.clearTimeout&&e.clearTimeout,Dn=r&&r.now!==ke.Date.now&&r.now,Fn=e.setTimeout!==ke.setTimeout&&e.setTimeout,Nn=te.ceil,Gn=te.floor,Wn=ee.getOwnPropertySymbols,Bn=me?me.isBuffer:o,zn=e.isFinite,Un=oe.join,Yn=Tn(ee.keys,ee),Vn=te.max,Xn=te.min,Hn=r.now,Zn=e.parseInt,Kn=te.random,qn=oe.reverse,Jn=Go(e,"DataView"),Qn=Go(e,"Map"),$n=Go(e,"Promise"),ti=Go(e,"Set"),ei=Go(e,"WeakMap"),ni=Go(ee,"create"),ii=ei&&new ei,ri={},oi=hs(Jn),si=hs(Qn),ai=hs($n),ui=hs(ti),li=hs(ei),ci=we?we.prototype:o,hi=ci?ci.valueOf:o,fi=ci?ci.toString:o;function pi(t){if(Ra(t)&&!ma(t)&&!(t instanceof mi)){if(t instanceof gi)return t;if(ce.call(t,"__wrapped__"))return fs(t)}return new gi(t)}var di=function(){function t(){}return function(e){if(!Ta(e))return{};if(Le)return Le(e);t.prototype=e;var n=new t;return t.prototype=o,n}}();function vi(){}function gi(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=o}function mi(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=F,this.__views__=[]}function yi(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function _i(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function wi(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function bi(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new wi;++e<n;)this.add(t[e])}function xi(t){var e=this.__data__=new _i(t);this.size=e.size}function Ei(t,e){var n=ma(t),i=!n&&ga(t),r=!n&&!i&&ba(t),o=!n&&!i&&!r&&Da(t),s=n||i||r||o,a=s?gn(t.length,ie):[],u=a.length;for(var l in t)!e&&!ce.call(t,l)||s&&("length"==l||r&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Xo(l,u))||a.push(l);return a}function Ci(t){var e=t.length;return e?t[br(0,e-1)]:o}function ji(t,e){return us(no(t),Mi(e,0,t.length))}function Si(t){return us(no(t))}function Ti(t,e,n){(n===o||pa(t[e],n))&&(n!==o||e in t)||Li(t,e,n)}function Ri(t,e,n){var i=t[e];ce.call(t,e)&&pa(i,n)&&(n!==o||e in t)||Li(t,e,n)}function Ii(t,e){for(var n=t.length;n--;)if(pa(t[n][0],e))return n;return-1}function Oi(t,e,n,i){return Gi(t,function(t,r,o){e(i,t,n(t),o)}),i}function Ai(t,e){return t&&io(e,ru(e),t)}function Li(t,e,n){"__proto__"==e&&pn?pn(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function ki(t,e){for(var n=-1,r=e.length,s=i(r),a=null==t;++n<r;)s[n]=a?o:$a(t,e[n]);return s}function Mi(t,e,n){return t==t&&(n!==o&&(t=t<=n?t:n),e!==o&&(t=t>=e?t:e)),t}function Pi(t,e,n,i,r,s){var a,u=e&f,l=e&p,c=e&d;if(n&&(a=r?n(t,i,r,s):n(t)),a!==o)return a;if(!Ta(t))return t;var h=ma(t);if(h){if(a=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&ce.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!u)return no(t,a)}else{var v=zo(t),g=v==Z||v==K;if(ba(t))return qr(t,u);if(v==$||v==B||g&&!r){if(a=l||g?{}:Yo(t),!u)return l?function(t,e){return io(t,Bo(t),e)}(t,function(t,e){return t&&io(e,ou(e),t)}(a,t)):function(t,e){return io(t,Wo(t),e)}(t,Ai(a,t))}else{if(!Te[v])return r?t:{};a=function(t,e,n){var i,r,o,s=t.constructor;switch(e){case ut:return Jr(t);case Y:case V:return new s(+t);case lt:return function(t,e){var n=e?Jr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case ct:case ht:case ft:case pt:case dt:case vt:case gt:case mt:case yt:return Qr(t,n);case q:return new s;case J:case it:return new s(t);case et:return(o=new(r=t).constructor(r.source,Ut.exec(r))).lastIndex=r.lastIndex,o;case nt:return new s;case rt:return i=t,hi?ee(hi.call(i)):{}}}(t,v,u)}}s||(s=new xi);var m=s.get(t);if(m)return m;s.set(t,a),ka(t)?t.forEach(function(i){a.add(Pi(i,e,n,i,t,s))}):Ia(t)&&t.forEach(function(i,r){a.set(r,Pi(i,e,n,r,t,s))});var y=h?o:(c?l?Lo:Ao:l?ou:ru)(t);return He(y||t,function(i,r){y&&(i=t[r=i]),Ri(a,r,Pi(i,e,n,r,t,s))}),a}function Di(t,e,n){var i=n.length;if(null==t)return!i;for(t=ee(t);i--;){var r=n[i],s=e[r],a=t[r];if(a===o&&!(r in t)||!s(a))return!1}return!0}function Fi(t,e,n){if("function"!=typeof t)throw new re(u);return rs(function(){t.apply(o,n)},e)}function Ni(t,e,n,i){var r=-1,o=Je,a=!0,u=t.length,l=[],c=e.length;if(!u)return l;n&&(e=$e(e,mn(n))),i?(o=Qe,a=!1):e.length>=s&&(o=_n,a=!1,e=new bi(e));t:for(;++r<u;){var h=t[r],f=null==n?h:n(h);if(h=i||0!==h?h:0,a&&f==f){for(var p=c;p--;)if(e[p]===f)continue t;l.push(h)}else o(e,f,i)||l.push(h)}return l}pi.templateSettings={escape:St,evaluate:Tt,interpolate:Rt,variable:"",imports:{_:pi}},pi.prototype=vi.prototype,pi.prototype.constructor=pi,gi.prototype=di(vi.prototype),gi.prototype.constructor=gi,mi.prototype=di(vi.prototype),mi.prototype.constructor=mi,yi.prototype.clear=function(){this.__data__=ni?ni(null):{},this.size=0},yi.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},yi.prototype.get=function(t){var e=this.__data__;if(ni){var n=e[t];return n===l?o:n}return ce.call(e,t)?e[t]:o},yi.prototype.has=function(t){var e=this.__data__;return ni?e[t]!==o:ce.call(e,t)},yi.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=ni&&e===o?l:e,this},_i.prototype.clear=function(){this.__data__=[],this.size=0},_i.prototype.delete=function(t){var e=this.__data__,n=Ii(e,t);return!(n<0||(n==e.length-1?e.pop():Pe.call(e,n,1),--this.size,0))},_i.prototype.get=function(t){var e=this.__data__,n=Ii(e,t);return n<0?o:e[n][1]},_i.prototype.has=function(t){return Ii(this.__data__,t)>-1},_i.prototype.set=function(t,e){var n=this.__data__,i=Ii(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this},wi.prototype.clear=function(){this.size=0,this.__data__={hash:new yi,map:new(Qn||_i),string:new yi}},wi.prototype.delete=function(t){var e=Fo(this,t).delete(t);return this.size-=e?1:0,e},wi.prototype.get=function(t){return Fo(this,t).get(t)},wi.prototype.has=function(t){return Fo(this,t).has(t)},wi.prototype.set=function(t,e){var n=Fo(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this},bi.prototype.add=bi.prototype.push=function(t){return this.__data__.set(t,l),this},bi.prototype.has=function(t){return this.__data__.has(t)},xi.prototype.clear=function(){this.__data__=new _i,this.size=0},xi.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},xi.prototype.get=function(t){return this.__data__.get(t)},xi.prototype.has=function(t){return this.__data__.has(t)},xi.prototype.set=function(t,e){var n=this.__data__;if(n instanceof _i){var i=n.__data__;if(!Qn||i.length<s-1)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new wi(i)}return n.set(t,e),this.size=n.size,this};var Gi=so(Hi),Wi=so(Zi,!0);function Bi(t,e){var n=!0;return Gi(t,function(t,i,r){return n=!!e(t,i,r)}),n}function zi(t,e,n){for(var i=-1,r=t.length;++i<r;){var s=t[i],a=e(s);if(null!=a&&(u===o?a==a&&!Pa(a):n(a,u)))var u=a,l=s}return l}function Ui(t,e){var n=[];return Gi(t,function(t,i,r){e(t,i,r)&&n.push(t)}),n}function Yi(t,e,n,i,r){var o=-1,s=t.length;for(n||(n=Vo),r||(r=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?Yi(a,e-1,n,i,r):tn(r,a):i||(r[r.length]=a)}return r}var Vi=ao(),Xi=ao(!0);function Hi(t,e){return t&&Vi(t,e,ru)}function Zi(t,e){return t&&Xi(t,e,ru)}function Ki(t,e){return qe(e,function(e){return Ca(t[e])})}function qi(t,e){for(var n=0,i=(e=Xr(e,t)).length;null!=t&&n<i;)t=t[cs(e[n++])];return n&&n==i?t:o}function Ji(t,e,n){var i=e(t);return ma(t)?i:tn(i,n(t))}function Qi(t){return null==t?t===o?ot:Q:on&&on in ee(t)?function(t){var e=ce.call(t,on),n=t[on];try{t[on]=o;var i=!0}catch(t){}var r=pe.call(t);return i&&(e?t[on]=n:delete t[on]),r}(t):function(t){return pe.call(t)}(t)}function $i(t,e){return t>e}function tr(t,e){return null!=t&&ce.call(t,e)}function er(t,e){return null!=t&&e in ee(t)}function nr(t,e,n){for(var r=n?Qe:Je,s=t[0].length,a=t.length,u=a,l=i(a),c=1/0,h=[];u--;){var f=t[u];u&&e&&(f=$e(f,mn(e))),c=Xn(f.length,c),l[u]=!n&&(e||s>=120&&f.length>=120)?new bi(u&&f):o}f=t[0];var p=-1,d=l[0];t:for(;++p<s&&h.length<c;){var v=f[p],g=e?e(v):v;if(v=n||0!==v?v:0,!(d?_n(d,g):r(h,g,n))){for(u=a;--u;){var m=l[u];if(!(m?_n(m,g):r(t[u],g,n)))continue t}d&&d.push(g),h.push(v)}}return h}function ir(t,e,n){var i=null==(t=es(t,e=Xr(e,t)))?t:t[cs(Es(e))];return null==i?o:Ve(i,t,n)}function rr(t){return Ra(t)&&Qi(t)==B}function or(t,e,n,i,r){return t===e||(null==t||null==e||!Ra(t)&&!Ra(e)?t!=t&&e!=e:function(t,e,n,i,r,s){var a=ma(t),u=ma(e),l=a?z:zo(t),c=u?z:zo(e),h=(l=l==B?$:l)==$,f=(c=c==B?$:c)==$,p=l==c;if(p&&ba(t)){if(!ba(e))return!1;a=!0,h=!1}if(p&&!h)return s||(s=new xi),a||Da(t)?Io(t,e,n,i,r,s):function(t,e,n,i,r,o,s){switch(n){case lt:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case ut:return!(t.byteLength!=e.byteLength||!o(new xe(t),new xe(e)));case Y:case V:case J:return pa(+t,+e);case H:return t.name==e.name&&t.message==e.message;case et:case it:return t==e+"";case q:var a=Sn;case nt:var u=i&v;if(a||(a=In),t.size!=e.size&&!u)return!1;var l=s.get(t);if(l)return l==e;i|=g,s.set(t,e);var c=Io(a(t),a(e),i,r,o,s);return s.delete(t),c;case rt:if(hi)return hi.call(t)==hi.call(e)}return!1}(t,e,l,n,i,r,s);if(!(n&v)){var d=h&&ce.call(t,"__wrapped__"),m=f&&ce.call(e,"__wrapped__");if(d||m){var y=d?t.value():t,_=m?e.value():e;return s||(s=new xi),r(y,_,n,i,s)}}return!!p&&(s||(s=new xi),function(t,e,n,i,r,s){var a=n&v,u=Ao(t),l=u.length,c=Ao(e).length;if(l!=c&&!a)return!1;for(var h=l;h--;){var f=u[h];if(!(a?f in e:ce.call(e,f)))return!1}var p=s.get(t);if(p&&s.get(e))return p==e;var d=!0;s.set(t,e),s.set(e,t);for(var g=a;++h<l;){f=u[h];var m=t[f],y=e[f];if(i)var _=a?i(y,m,f,e,t,s):i(m,y,f,t,e,s);if(!(_===o?m===y||r(m,y,n,i,s):_)){d=!1;break}g||(g="constructor"==f)}if(d&&!g){var w=t.constructor,b=e.constructor;w!=b&&"constructor"in t&&"constructor"in e&&!("function"==typeof w&&w instanceof w&&"function"==typeof b&&b instanceof b)&&(d=!1)}return s.delete(t),s.delete(e),d}(t,e,n,i,r,s))}(t,e,n,i,or,r))}function sr(t,e,n,i){var r=n.length,s=r,a=!i;if(null==t)return!s;for(t=ee(t);r--;){var u=n[r];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++r<s;){var l=(u=n[r])[0],c=t[l],h=u[1];if(a&&u[2]){if(c===o&&!(l in t))return!1}else{var f=new xi;if(i)var p=i(c,h,l,t,e,f);if(!(p===o?or(h,c,v|g,i,f):p))return!1}}return!0}function ar(t){return!(!Ta(t)||fe&&fe in t)&&(Ca(t)?ge:Xt).test(hs(t))}function ur(t){return"function"==typeof t?t:null==t?Ou:"object"==typeof t?ma(t)?dr(t[0],t[1]):pr(t):Gu(t)}function lr(t){if(!Jo(t))return Yn(t);var e=[];for(var n in ee(t))ce.call(t,n)&&"constructor"!=n&&e.push(n);return e}function cr(t){if(!Ta(t))return function(t){var e=[];if(null!=t)for(var n in ee(t))e.push(n);return e}(t);var e=Jo(t),n=[];for(var i in t)("constructor"!=i||!e&&ce.call(t,i))&&n.push(i);return n}function hr(t,e){return t<e}function fr(t,e){var n=-1,r=_a(t)?i(t.length):[];return Gi(t,function(t,i,o){r[++n]=e(t,i,o)}),r}function pr(t){var e=No(t);return 1==e.length&&e[0][2]?$o(e[0][0],e[0][1]):function(n){return n===t||sr(n,t,e)}}function dr(t,e){return Zo(t)&&Qo(e)?$o(cs(t),e):function(n){var i=$a(n,t);return i===o&&i===e?tu(n,t):or(e,i,v|g)}}function vr(t,e,n,i,r){t!==e&&Vi(e,function(s,a){if(r||(r=new xi),Ta(s))!function(t,e,n,i,r,s,a){var u=ns(t,n),l=ns(e,n),c=a.get(l);if(c)Ti(t,n,c);else{var h=s?s(u,l,n+"",t,e,a):o,f=h===o;if(f){var p=ma(l),d=!p&&ba(l),v=!p&&!d&&Da(l);h=l,p||d||v?ma(u)?h=u:wa(u)?h=no(u):d?(f=!1,h=qr(l,!0)):v?(f=!1,h=Qr(l,!0)):h=[]:Aa(l)||ga(l)?(h=u,ga(u)?h=Ya(u):Ta(u)&&!Ca(u)||(h=Yo(l))):f=!1}f&&(a.set(l,h),r(h,l,i,s,a),a.delete(l)),Ti(t,n,h)}}(t,e,a,n,vr,i,r);else{var u=i?i(ns(t,a),s,a+"",t,e,r):o;u===o&&(u=s),Ti(t,a,u)}},ou)}function gr(t,e){var n=t.length;if(n)return Xo(e+=e<0?n:0,n)?t[e]:o}function mr(t,e,n){var i=-1;return e=$e(e.length?e:[Ou],mn(Do())),function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(fr(t,function(t,n,r){return{criteria:$e(e,function(e){return e(t)}),index:++i,value:t}}),function(t,e){return function(t,e,n){for(var i=-1,r=t.criteria,o=e.criteria,s=r.length,a=n.length;++i<s;){var u=$r(r[i],o[i]);if(u){if(i>=a)return u;var l=n[i];return u*("desc"==l?-1:1)}}return t.index-e.index}(t,e,n)})}function yr(t,e,n){for(var i=-1,r=e.length,o={};++i<r;){var s=e[i],a=qi(t,s);n(a,s)&&Sr(o,Xr(s,t),a)}return o}function _r(t,e,n,i){var r=i?ln:un,o=-1,s=e.length,a=t;for(t===e&&(e=no(e)),n&&(a=$e(t,mn(n)));++o<s;)for(var u=0,l=e[o],c=n?n(l):l;(u=r(a,c,u,i))>-1;)a!==t&&Pe.call(a,u,1),Pe.call(t,u,1);return t}function wr(t,e){for(var n=t?e.length:0,i=n-1;n--;){var r=e[n];if(n==i||r!==o){var o=r;Xo(r)?Pe.call(t,r,1):Nr(t,r)}}return t}function br(t,e){return t+Gn(Kn()*(e-t+1))}function xr(t,e){var n="";if(!t||e<1||e>M)return n;do{e%2&&(n+=t),(e=Gn(e/2))&&(t+=t)}while(e);return n}function Er(t,e){return os(ts(t,e,Ou),t+"")}function Cr(t){return Ci(pu(t))}function jr(t,e){var n=pu(t);return us(n,Mi(e,0,n.length))}function Sr(t,e,n,i){if(!Ta(t))return t;for(var r=-1,s=(e=Xr(e,t)).length,a=s-1,u=t;null!=u&&++r<s;){var l=cs(e[r]),c=n;if(r!=a){var h=u[l];(c=i?i(h,l,u):o)===o&&(c=Ta(h)?h:Xo(e[r+1])?[]:{})}Ri(u,l,c),u=u[l]}return t}var Tr=ii?function(t,e){return ii.set(t,e),t}:Ou,Rr=pn?function(t,e){return pn(t,"toString",{configurable:!0,enumerable:!1,value:Tu(e),writable:!0})}:Ou;function Ir(t){return us(pu(t))}function Or(t,e,n){var r=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var s=i(o);++r<o;)s[r]=t[r+e];return s}function Ar(t,e){var n;return Gi(t,function(t,i,r){return!(n=e(t,i,r))}),!!n}function Lr(t,e,n){var i=0,r=null==t?i:t.length;if("number"==typeof e&&e==e&&r<=G){for(;i<r;){var o=i+r>>>1,s=t[o];null!==s&&!Pa(s)&&(n?s<=e:s<e)?i=o+1:r=o}return r}return kr(t,e,Ou,n)}function kr(t,e,n,i){e=n(e);for(var r=0,s=null==t?0:t.length,a=e!=e,u=null===e,l=Pa(e),c=e===o;r<s;){var h=Gn((r+s)/2),f=n(t[h]),p=f!==o,d=null===f,v=f==f,g=Pa(f);if(a)var m=i||v;else m=c?v&&(i||p):u?v&&p&&(i||!d):l?v&&p&&!d&&(i||!g):!d&&!g&&(i?f<=e:f<e);m?r=h+1:s=h}return Xn(s,N)}function Mr(t,e){for(var n=-1,i=t.length,r=0,o=[];++n<i;){var s=t[n],a=e?e(s):s;if(!n||!pa(a,u)){var u=a;o[r++]=0===s?0:s}}return o}function Pr(t){return"number"==typeof t?t:Pa(t)?D:+t}function Dr(t){if("string"==typeof t)return t;if(ma(t))return $e(t,Dr)+"";if(Pa(t))return fi?fi.call(t):"";var e=t+"";return"0"==e&&1/t==-k?"-0":e}function Fr(t,e,n){var i=-1,r=Je,o=t.length,a=!0,u=[],l=u;if(n)a=!1,r=Qe;else if(o>=s){var c=e?null:Eo(t);if(c)return In(c);a=!1,r=_n,l=new bi}else l=e?[]:u;t:for(;++i<o;){var h=t[i],f=e?e(h):h;if(h=n||0!==h?h:0,a&&f==f){for(var p=l.length;p--;)if(l[p]===f)continue t;e&&l.push(f),u.push(h)}else r(l,f,n)||(l!==u&&l.push(f),u.push(h))}return u}function Nr(t,e){return null==(t=es(t,e=Xr(e,t)))||delete t[cs(Es(e))]}function Gr(t,e,n,i){return Sr(t,e,n(qi(t,e)),i)}function Wr(t,e,n,i){for(var r=t.length,o=i?r:-1;(i?o--:++o<r)&&e(t[o],o,t););return n?Or(t,i?0:o,i?o+1:r):Or(t,i?o+1:0,i?r:o)}function Br(t,e){var n=t;return n instanceof mi&&(n=n.value()),en(e,function(t,e){return e.func.apply(e.thisArg,tn([t],e.args))},n)}function zr(t,e,n){var r=t.length;if(r<2)return r?Fr(t[0]):[];for(var o=-1,s=i(r);++o<r;)for(var a=t[o],u=-1;++u<r;)u!=o&&(s[o]=Ni(s[o]||a,t[u],e,n));return Fr(Yi(s,1),e,n)}function Ur(t,e,n){for(var i=-1,r=t.length,s=e.length,a={};++i<r;){var u=i<s?e[i]:o;n(a,t[i],u)}return a}function Yr(t){return wa(t)?t:[]}function Vr(t){return"function"==typeof t?t:Ou}function Xr(t,e){return ma(t)?t:Zo(t,e)?[t]:ls(Va(t))}var Hr=Er;function Zr(t,e,n){var i=t.length;return n=n===o?i:n,!e&&n>=i?t:Or(t,e,n)}var Kr=Pn||function(t){return ke.clearTimeout(t)};function qr(t,e){if(e)return t.slice();var n=t.length,i=Re?Re(n):new t.constructor(n);return t.copy(i),i}function Jr(t){var e=new t.constructor(t.byteLength);return new xe(e).set(new xe(t)),e}function Qr(t,e){var n=e?Jr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function $r(t,e){if(t!==e){var n=t!==o,i=null===t,r=t==t,s=Pa(t),a=e!==o,u=null===e,l=e==e,c=Pa(e);if(!u&&!c&&!s&&t>e||s&&a&&l&&!u&&!c||i&&a&&l||!n&&l||!r)return 1;if(!i&&!s&&!c&&t<e||c&&n&&r&&!i&&!s||u&&n&&r||!a&&r||!l)return-1}return 0}function to(t,e,n,r){for(var o=-1,s=t.length,a=n.length,u=-1,l=e.length,c=Vn(s-a,0),h=i(l+c),f=!r;++u<l;)h[u]=e[u];for(;++o<a;)(f||o<s)&&(h[n[o]]=t[o]);for(;c--;)h[u++]=t[o++];return h}function eo(t,e,n,r){for(var o=-1,s=t.length,a=-1,u=n.length,l=-1,c=e.length,h=Vn(s-u,0),f=i(h+c),p=!r;++o<h;)f[o]=t[o];for(var d=o;++l<c;)f[d+l]=e[l];for(;++a<u;)(p||o<s)&&(f[d+n[a]]=t[o++]);return f}function no(t,e){var n=-1,r=t.length;for(e||(e=i(r));++n<r;)e[n]=t[n];return e}function io(t,e,n,i){var r=!n;n||(n={});for(var s=-1,a=e.length;++s<a;){var u=e[s],l=i?i(n[u],t[u],u,n,t):o;l===o&&(l=t[u]),r?Li(n,u,l):Ri(n,u,l)}return n}function ro(t,e){return function(n,i){var r=ma(n)?Xe:Oi,o=e?e():{};return r(n,t,Do(i,2),o)}}function oo(t){return Er(function(e,n){var i=-1,r=n.length,s=r>1?n[r-1]:o,a=r>2?n[2]:o;for(s=t.length>3&&"function"==typeof s?(r--,s):o,a&&Ho(n[0],n[1],a)&&(s=r<3?o:s,r=1),e=ee(e);++i<r;){var u=n[i];u&&t(e,u,i,s)}return e})}function so(t,e){return function(n,i){if(null==n)return n;if(!_a(n))return t(n,i);for(var r=n.length,o=e?r:-1,s=ee(n);(e?o--:++o<r)&&!1!==i(s[o],o,s););return n}}function ao(t){return function(e,n,i){for(var r=-1,o=ee(e),s=i(e),a=s.length;a--;){var u=s[t?a:++r];if(!1===n(o[u],u,o))break}return e}}function uo(t){return function(e){var n=jn(e=Va(e))?Ln(e):o,i=n?n[0]:e.charAt(0),r=n?Zr(n,1).join(""):e.slice(1);return i[t]()+r}}function lo(t){return function(e){return en(Cu(gu(e).replace(ye,"")),t,"")}}function co(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=di(t.prototype),i=t.apply(n,e);return Ta(i)?i:n}}function ho(t){return function(e,n,i){var r=ee(e);if(!_a(e)){var s=Do(n,3);e=ru(e),n=function(t){return s(r[t],t,r)}}var a=t(e,n,i);return a>-1?r[s?e[a]:a]:o}}function fo(t){return Oo(function(e){var n=e.length,i=n,r=gi.prototype.thru;for(t&&e.reverse();i--;){var s=e[i];if("function"!=typeof s)throw new re(u);if(r&&!a&&"wrapper"==Mo(s))var a=new gi([],!0)}for(i=a?i:n;++i<n;){var l=Mo(s=e[i]),c="wrapper"==l?ko(s):o;a=c&&Ko(c[0])&&c[1]==(C|w|x|j)&&!c[4].length&&1==c[9]?a[Mo(c[0])].apply(a,c[3]):1==s.length&&Ko(s)?a[l]():a.thru(s)}return function(){var t=arguments,i=t[0];if(a&&1==t.length&&ma(i))return a.plant(i).value();for(var r=0,o=n?e[r].apply(this,t):i;++r<n;)o=e[r].call(this,o);return o}})}function po(t,e,n,r,s,a,u,l,c,h){var f=e&C,p=e&m,d=e&y,v=e&(w|b),g=e&S,_=d?o:co(t);return function m(){for(var y=arguments.length,w=i(y),b=y;b--;)w[b]=arguments[b];if(v)var x=Po(m),E=function(t,e){for(var n=t.length,i=0;n--;)t[n]===e&&++i;return i}(w,x);if(r&&(w=to(w,r,s,v)),a&&(w=eo(w,a,u,v)),y-=E,v&&y<h){var C=Rn(w,x);return bo(t,e,po,m.placeholder,n,w,C,l,c,h-y)}var j=p?n:this,S=d?j[t]:t;return y=w.length,l?w=function(t,e){for(var n=t.length,i=Xn(e.length,n),r=no(t);i--;){var s=e[i];t[i]=Xo(s,n)?r[s]:o}return t}(w,l):g&&y>1&&w.reverse(),f&&c<y&&(w.length=c),this&&this!==ke&&this instanceof m&&(S=_||co(S)),S.apply(j,w)}}function vo(t,e){return function(n,i){return function(t,e,n,i){return Hi(t,function(t,r,o){e(i,n(t),r,o)}),i}(n,t,e(i),{})}}function go(t,e){return function(n,i){var r;if(n===o&&i===o)return e;if(n!==o&&(r=n),i!==o){if(r===o)return i;"string"==typeof n||"string"==typeof i?(n=Dr(n),i=Dr(i)):(n=Pr(n),i=Pr(i)),r=t(n,i)}return r}}function mo(t){return Oo(function(e){return e=$e(e,mn(Do())),Er(function(n){var i=this;return t(e,function(t){return Ve(t,i,n)})})})}function yo(t,e){var n=(e=e===o?" ":Dr(e)).length;if(n<2)return n?xr(e,t):e;var i=xr(e,Nn(t/An(e)));return jn(e)?Zr(Ln(i),0,t).join(""):i.slice(0,t)}function _o(t){return function(e,n,r){return r&&"number"!=typeof r&&Ho(e,n,r)&&(n=r=o),e=Wa(e),n===o?(n=e,e=0):n=Wa(n),function(t,e,n,r){for(var o=-1,s=Vn(Nn((e-t)/(n||1)),0),a=i(s);s--;)a[r?s:++o]=t,t+=n;return a}(e,n,r=r===o?e<n?1:-1:Wa(r),t)}}function wo(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=Ua(e),n=Ua(n)),t(e,n)}}function bo(t,e,n,i,r,s,a,u,l,c){var h=e&w;e|=h?x:E,(e&=~(h?E:x))&_||(e&=~(m|y));var f=[t,e,r,h?s:o,h?a:o,h?o:s,h?o:a,u,l,c],p=n.apply(o,f);return Ko(t)&&is(p,f),p.placeholder=i,ss(p,t,e)}function xo(t){var e=te[t];return function(t,n){if(t=Ua(t),(n=null==n?0:Xn(Ba(n),292))&&zn(t)){var i=(Va(t)+"e").split("e");return+((i=(Va(e(i[0]+"e"+(+i[1]+n)))+"e").split("e"))[0]+"e"+(+i[1]-n))}return e(t)}}var Eo=ti&&1/In(new ti([,-0]))[1]==k?function(t){return new ti(t)}:Pu;function Co(t){return function(e){var n=zo(e);return n==q?Sn(e):n==nt?On(e):function(t,e){return $e(e,function(e){return[e,t[e]]})}(e,t(e))}}function jo(t,e,n,r,s,a,l,c){var f=e&y;if(!f&&"function"!=typeof t)throw new re(u);var p=r?r.length:0;if(p||(e&=~(x|E),r=s=o),l=l===o?l:Vn(Ba(l),0),c=c===o?c:Ba(c),p-=s?s.length:0,e&E){var d=r,v=s;r=s=o}var g=f?o:ko(t),S=[t,e,n,r,s,d,v,a,l,c];if(g&&function(t,e){var n=t[1],i=e[1],r=n|i,o=r<(m|y|C),s=i==C&&n==w||i==C&&n==j&&t[7].length<=e[8]||i==(C|j)&&e[7].length<=e[8]&&n==w;if(!o&&!s)return t;i&m&&(t[2]=e[2],r|=n&m?0:_);var a=e[3];if(a){var u=t[3];t[3]=u?to(u,a,e[4]):a,t[4]=u?Rn(t[3],h):e[4]}(a=e[5])&&(u=t[5],t[5]=u?eo(u,a,e[6]):a,t[6]=u?Rn(t[5],h):e[6]),(a=e[7])&&(t[7]=a),i&C&&(t[8]=null==t[8]?e[8]:Xn(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=r}(S,g),t=S[0],e=S[1],n=S[2],r=S[3],s=S[4],!(c=S[9]=S[9]===o?f?0:t.length:Vn(S[9]-p,0))&&e&(w|b)&&(e&=~(w|b)),e&&e!=m)T=e==w||e==b?function(t,e,n){var r=co(t);return function s(){for(var a=arguments.length,u=i(a),l=a,c=Po(s);l--;)u[l]=arguments[l];var h=a<3&&u[0]!==c&&u[a-1]!==c?[]:Rn(u,c);return(a-=h.length)<n?bo(t,e,po,s.placeholder,o,u,h,o,o,n-a):Ve(this&&this!==ke&&this instanceof s?r:t,this,u)}}(t,e,c):e!=x&&e!=(m|x)||s.length?po.apply(o,S):function(t,e,n,r){var o=e&m,s=co(t);return function e(){for(var a=-1,u=arguments.length,l=-1,c=r.length,h=i(c+u),f=this&&this!==ke&&this instanceof e?s:t;++l<c;)h[l]=r[l];for(;u--;)h[l++]=arguments[++a];return Ve(f,o?n:this,h)}}(t,e,n,r);else var T=function(t,e,n){var i=e&m,r=co(t);return function e(){return(this&&this!==ke&&this instanceof e?r:t).apply(i?n:this,arguments)}}(t,e,n);return ss((g?Tr:is)(T,S),t,e)}function So(t,e,n,i){return t===o||pa(t,ae[n])&&!ce.call(i,n)?e:t}function To(t,e,n,i,r,s){return Ta(t)&&Ta(e)&&(s.set(e,t),vr(t,e,o,To,s),s.delete(e)),t}function Ro(t){return Aa(t)?o:t}function Io(t,e,n,i,r,s){var a=n&v,u=t.length,l=e.length;if(u!=l&&!(a&&l>u))return!1;var c=s.get(t);if(c&&s.get(e))return c==e;var h=-1,f=!0,p=n&g?new bi:o;for(s.set(t,e),s.set(e,t);++h<u;){var d=t[h],m=e[h];if(i)var y=a?i(m,d,h,e,t,s):i(d,m,h,t,e,s);if(y!==o){if(y)continue;f=!1;break}if(p){if(!rn(e,function(t,e){if(!_n(p,e)&&(d===t||r(d,t,n,i,s)))return p.push(e)})){f=!1;break}}else if(d!==m&&!r(d,m,n,i,s)){f=!1;break}}return s.delete(t),s.delete(e),f}function Oo(t){return os(ts(t,o,ys),t+"")}function Ao(t){return Ji(t,ru,Wo)}function Lo(t){return Ji(t,ou,Bo)}var ko=ii?function(t){return ii.get(t)}:Pu;function Mo(t){for(var e=t.name+"",n=ri[e],i=ce.call(ri,e)?n.length:0;i--;){var r=n[i],o=r.func;if(null==o||o==t)return r.name}return e}function Po(t){return(ce.call(pi,"placeholder")?pi:t).placeholder}function Do(){var t=pi.iteratee||Au;return t=t===Au?ur:t,arguments.length?t(arguments[0],arguments[1]):t}function Fo(t,e){var n,i,r=t.__data__;return("string"==(i=typeof(n=e))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?r["string"==typeof e?"string":"hash"]:r.map}function No(t){for(var e=ru(t),n=e.length;n--;){var i=e[n],r=t[i];e[n]=[i,r,Qo(r)]}return e}function Go(t,e){var n=function(t,e){return null==t?o:t[e]}(t,e);return ar(n)?n:o}var Wo=Wn?function(t){return null==t?[]:(t=ee(t),qe(Wn(t),function(e){return Me.call(t,e)}))}:zu,Bo=Wn?function(t){for(var e=[];t;)tn(e,Wo(t)),t=Ae(t);return e}:zu,zo=Qi;function Uo(t,e,n){for(var i=-1,r=(e=Xr(e,t)).length,o=!1;++i<r;){var s=cs(e[i]);if(!(o=null!=t&&n(t,s)))break;t=t[s]}return o||++i!=r?o:!!(r=null==t?0:t.length)&&Sa(r)&&Xo(s,r)&&(ma(t)||ga(t))}function Yo(t){return"function"!=typeof t.constructor||Jo(t)?{}:di(Ae(t))}function Vo(t){return ma(t)||ga(t)||!!(Fe&&t&&t[Fe])}function Xo(t,e){var n=typeof t;return!!(e=null==e?M:e)&&("number"==n||"symbol"!=n&&Zt.test(t))&&t>-1&&t%1==0&&t<e}function Ho(t,e,n){if(!Ta(n))return!1;var i=typeof e;return!!("number"==i?_a(n)&&Xo(e,n.length):"string"==i&&e in n)&&pa(n[e],t)}function Zo(t,e){if(ma(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Pa(t))||Ot.test(t)||!It.test(t)||null!=e&&t in ee(e)}function Ko(t){var e=Mo(t),n=pi[e];if("function"!=typeof n||!(e in mi.prototype))return!1;if(t===n)return!0;var i=ko(n);return!!i&&t===i[0]}(Jn&&zo(new Jn(new ArrayBuffer(1)))!=lt||Qn&&zo(new Qn)!=q||$n&&"[object Promise]"!=zo($n.resolve())||ti&&zo(new ti)!=nt||ei&&zo(new ei)!=st)&&(zo=function(t){var e=Qi(t),n=e==$?t.constructor:o,i=n?hs(n):"";if(i)switch(i){case oi:return lt;case si:return q;case ai:return"[object Promise]";case ui:return nt;case li:return st}return e});var qo=ue?Ca:Uu;function Jo(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||ae)}function Qo(t){return t==t&&!Ta(t)}function $o(t,e){return function(n){return null!=n&&n[t]===e&&(e!==o||t in ee(n))}}function ts(t,e,n){return e=Vn(e===o?t.length-1:e,0),function(){for(var r=arguments,o=-1,s=Vn(r.length-e,0),a=i(s);++o<s;)a[o]=r[e+o];o=-1;for(var u=i(e+1);++o<e;)u[o]=r[o];return u[e]=n(a),Ve(t,this,u)}}function es(t,e){return e.length<2?t:qi(t,Or(e,0,-1))}function ns(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var is=as(Tr),rs=Fn||function(t,e){return ke.setTimeout(t,e)},os=as(Rr);function ss(t,e,n){var i=e+"";return os(t,function(t,e){var n=e.length;if(!n)return t;var i=n-1;return e[i]=(n>1?"& ":"")+e[i],e=e.join(n>2?", ":" "),t.replace(Ft,"{\n/* [wrapped with "+e+"] */\n")}(i,function(t,e){return He(W,function(n){var i="_."+n[0];e&n[1]&&!Je(t,i)&&t.push(i)}),t.sort()}(function(t){var e=t.match(Nt);return e?e[1].split(Gt):[]}(i),n)))}function as(t){var e=0,n=0;return function(){var i=Hn(),r=O-(i-n);if(n=i,r>0){if(++e>=I)return arguments[0]}else e=0;return t.apply(o,arguments)}}function us(t,e){var n=-1,i=t.length,r=i-1;for(e=e===o?i:e;++n<e;){var s=br(n,r),a=t[s];t[s]=t[n],t[n]=a}return t.length=e,t}var ls=function(t){var e=aa(t,function(t){return n.size===c&&n.clear(),t}),n=e.cache;return e}(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(At,function(t,n,i,r){e.push(i?r.replace(Bt,"$1"):n||t)}),e});function cs(t){if("string"==typeof t||Pa(t))return t;var e=t+"";return"0"==e&&1/t==-k?"-0":e}function hs(t){if(null!=t){try{return le.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function fs(t){if(t instanceof mi)return t.clone();var e=new gi(t.__wrapped__,t.__chain__);return e.__actions__=no(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var ps=Er(function(t,e){return wa(t)?Ni(t,Yi(e,1,wa,!0)):[]}),ds=Er(function(t,e){var n=Es(e);return wa(n)&&(n=o),wa(t)?Ni(t,Yi(e,1,wa,!0),Do(n,2)):[]}),vs=Er(function(t,e){var n=Es(e);return wa(n)&&(n=o),wa(t)?Ni(t,Yi(e,1,wa,!0),o,n):[]});function gs(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:Ba(n);return r<0&&(r=Vn(i+r,0)),an(t,Do(e,3),r)}function ms(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=i-1;return n!==o&&(r=Ba(n),r=n<0?Vn(i+r,0):Xn(r,i-1)),an(t,Do(e,3),r,!0)}function ys(t){return null!=t&&t.length?Yi(t,1):[]}function _s(t){return t&&t.length?t[0]:o}var ws=Er(function(t){var e=$e(t,Yr);return e.length&&e[0]===t[0]?nr(e):[]}),bs=Er(function(t){var e=Es(t),n=$e(t,Yr);return e===Es(n)?e=o:n.pop(),n.length&&n[0]===t[0]?nr(n,Do(e,2)):[]}),xs=Er(function(t){var e=Es(t),n=$e(t,Yr);return(e="function"==typeof e?e:o)&&n.pop(),n.length&&n[0]===t[0]?nr(n,o,e):[]});function Es(t){var e=null==t?0:t.length;return e?t[e-1]:o}var Cs=Er(js);function js(t,e){return t&&t.length&&e&&e.length?_r(t,e):t}var Ss=Oo(function(t,e){var n=null==t?0:t.length,i=ki(t,e);return wr(t,$e(e,function(t){return Xo(t,n)?+t:t}).sort($r)),i});function Ts(t){return null==t?t:qn.call(t)}var Rs=Er(function(t){return Fr(Yi(t,1,wa,!0))}),Is=Er(function(t){var e=Es(t);return wa(e)&&(e=o),Fr(Yi(t,1,wa,!0),Do(e,2))}),Os=Er(function(t){var e=Es(t);return e="function"==typeof e?e:o,Fr(Yi(t,1,wa,!0),o,e)});function As(t){if(!t||!t.length)return[];var e=0;return t=qe(t,function(t){if(wa(t))return e=Vn(t.length,e),!0}),gn(e,function(e){return $e(t,fn(e))})}function Ls(t,e){if(!t||!t.length)return[];var n=As(t);return null==e?n:$e(n,function(t){return Ve(e,o,t)})}var ks=Er(function(t,e){return wa(t)?Ni(t,e):[]}),Ms=Er(function(t){return zr(qe(t,wa))}),Ps=Er(function(t){var e=Es(t);return wa(e)&&(e=o),zr(qe(t,wa),Do(e,2))}),Ds=Er(function(t){var e=Es(t);return e="function"==typeof e?e:o,zr(qe(t,wa),o,e)}),Fs=Er(As);var Ns=Er(function(t){var e=t.length,n=e>1?t[e-1]:o;return Ls(t,n="function"==typeof n?(t.pop(),n):o)});function Gs(t){var e=pi(t);return e.__chain__=!0,e}function Ws(t,e){return e(t)}var Bs=Oo(function(t){var e=t.length,n=e?t[0]:0,i=this.__wrapped__,r=function(e){return ki(e,t)};return!(e>1||this.__actions__.length)&&i instanceof mi&&Xo(n)?((i=i.slice(n,+n+(e?1:0))).__actions__.push({func:Ws,args:[r],thisArg:o}),new gi(i,this.__chain__).thru(function(t){return e&&!t.length&&t.push(o),t})):this.thru(r)});var zs=ro(function(t,e,n){ce.call(t,n)?++t[n]:Li(t,n,1)});var Us=ho(gs),Ys=ho(ms);function Vs(t,e){return(ma(t)?He:Gi)(t,Do(e,3))}function Xs(t,e){return(ma(t)?Ze:Wi)(t,Do(e,3))}var Hs=ro(function(t,e,n){ce.call(t,n)?t[n].push(e):Li(t,n,[e])});var Zs=Er(function(t,e,n){var r=-1,o="function"==typeof e,s=_a(t)?i(t.length):[];return Gi(t,function(t){s[++r]=o?Ve(e,t,n):ir(t,e,n)}),s}),Ks=ro(function(t,e,n){Li(t,n,e)});function qs(t,e){return(ma(t)?$e:fr)(t,Do(e,3))}var Js=ro(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]});var Qs=Er(function(t,e){if(null==t)return[];var n=e.length;return n>1&&Ho(t,e[0],e[1])?e=[]:n>2&&Ho(e[0],e[1],e[2])&&(e=[e[0]]),mr(t,Yi(e,1),[])}),$s=Dn||function(){return ke.Date.now()};function ta(t,e,n){return e=n?o:e,e=t&&null==e?t.length:e,jo(t,C,o,o,o,o,e)}function ea(t,e){var n;if("function"!=typeof e)throw new re(u);return t=Ba(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=o),n}}var na=Er(function(t,e,n){var i=m;if(n.length){var r=Rn(n,Po(na));i|=x}return jo(t,i,e,n,r)}),ia=Er(function(t,e,n){var i=m|y;if(n.length){var r=Rn(n,Po(ia));i|=x}return jo(e,i,t,n,r)});function ra(t,e,n){var i,r,s,a,l,c,h=0,f=!1,p=!1,d=!0;if("function"!=typeof t)throw new re(u);function v(e){var n=i,s=r;return i=r=o,h=e,a=t.apply(s,n)}function g(t){var n=t-c;return c===o||n>=e||n<0||p&&t-h>=s}function m(){var t=$s();if(g(t))return y(t);l=rs(m,function(t){var n=e-(t-c);return p?Xn(n,s-(t-h)):n}(t))}function y(t){return l=o,d&&i?v(t):(i=r=o,a)}function _(){var t=$s(),n=g(t);if(i=arguments,r=this,c=t,n){if(l===o)return function(t){return h=t,l=rs(m,e),f?v(t):a}(c);if(p)return Kr(l),l=rs(m,e),v(c)}return l===o&&(l=rs(m,e)),a}return e=Ua(e)||0,Ta(n)&&(f=!!n.leading,s=(p="maxWait"in n)?Vn(Ua(n.maxWait)||0,e):s,d="trailing"in n?!!n.trailing:d),_.cancel=function(){l!==o&&Kr(l),h=0,i=c=r=l=o},_.flush=function(){return l===o?a:y($s())},_}var oa=Er(function(t,e){return Fi(t,1,e)}),sa=Er(function(t,e,n){return Fi(t,Ua(e)||0,n)});function aa(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new re(u);var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var s=t.apply(this,i);return n.cache=o.set(r,s)||o,s};return n.cache=new(aa.Cache||wi),n}function ua(t){if("function"!=typeof t)throw new re(u);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}aa.Cache=wi;var la=Hr(function(t,e){var n=(e=1==e.length&&ma(e[0])?$e(e[0],mn(Do())):$e(Yi(e,1),mn(Do()))).length;return Er(function(i){for(var r=-1,o=Xn(i.length,n);++r<o;)i[r]=e[r].call(this,i[r]);return Ve(t,this,i)})}),ca=Er(function(t,e){var n=Rn(e,Po(ca));return jo(t,x,o,e,n)}),ha=Er(function(t,e){var n=Rn(e,Po(ha));return jo(t,E,o,e,n)}),fa=Oo(function(t,e){return jo(t,j,o,o,o,e)});function pa(t,e){return t===e||t!=t&&e!=e}var da=wo($i),va=wo(function(t,e){return t>=e}),ga=rr(function(){return arguments}())?rr:function(t){return Ra(t)&&ce.call(t,"callee")&&!Me.call(t,"callee")},ma=i.isArray,ya=Ge?mn(Ge):function(t){return Ra(t)&&Qi(t)==ut};function _a(t){return null!=t&&Sa(t.length)&&!Ca(t)}function wa(t){return Ra(t)&&_a(t)}var ba=Bn||Uu,xa=We?mn(We):function(t){return Ra(t)&&Qi(t)==V};function Ea(t){if(!Ra(t))return!1;var e=Qi(t);return e==H||e==X||"string"==typeof t.message&&"string"==typeof t.name&&!Aa(t)}function Ca(t){if(!Ta(t))return!1;var e=Qi(t);return e==Z||e==K||e==U||e==tt}function ja(t){return"number"==typeof t&&t==Ba(t)}function Sa(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=M}function Ta(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Ra(t){return null!=t&&"object"==typeof t}var Ia=Be?mn(Be):function(t){return Ra(t)&&zo(t)==q};function Oa(t){return"number"==typeof t||Ra(t)&&Qi(t)==J}function Aa(t){if(!Ra(t)||Qi(t)!=$)return!1;var e=Ae(t);if(null===e)return!0;var n=ce.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&le.call(n)==de}var La=ze?mn(ze):function(t){return Ra(t)&&Qi(t)==et};var ka=Ue?mn(Ue):function(t){return Ra(t)&&zo(t)==nt};function Ma(t){return"string"==typeof t||!ma(t)&&Ra(t)&&Qi(t)==it}function Pa(t){return"symbol"==typeof t||Ra(t)&&Qi(t)==rt}var Da=Ye?mn(Ye):function(t){return Ra(t)&&Sa(t.length)&&!!Se[Qi(t)]};var Fa=wo(hr),Na=wo(function(t,e){return t<=e});function Ga(t){if(!t)return[];if(_a(t))return Ma(t)?Ln(t):no(t);if(Ne&&t[Ne])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[Ne]());var e=zo(t);return(e==q?Sn:e==nt?In:pu)(t)}function Wa(t){return t?(t=Ua(t))===k||t===-k?(t<0?-1:1)*P:t==t?t:0:0===t?t:0}function Ba(t){var e=Wa(t),n=e%1;return e==e?n?e-n:e:0}function za(t){return t?Mi(Ba(t),0,F):0}function Ua(t){if("number"==typeof t)return t;if(Pa(t))return D;if(Ta(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Ta(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Mt,"");var n=Vt.test(t);return n||Ht.test(t)?Oe(t.slice(2),n?2:8):Yt.test(t)?D:+t}function Ya(t){return io(t,ou(t))}function Va(t){return null==t?"":Dr(t)}var Xa=oo(function(t,e){if(Jo(e)||_a(e))io(e,ru(e),t);else for(var n in e)ce.call(e,n)&&Ri(t,n,e[n])}),Ha=oo(function(t,e){io(e,ou(e),t)}),Za=oo(function(t,e,n,i){io(e,ou(e),t,i)}),Ka=oo(function(t,e,n,i){io(e,ru(e),t,i)}),qa=Oo(ki);var Ja=Er(function(t,e){t=ee(t);var n=-1,i=e.length,r=i>2?e[2]:o;for(r&&Ho(e[0],e[1],r)&&(i=1);++n<i;)for(var s=e[n],a=ou(s),u=-1,l=a.length;++u<l;){var c=a[u],h=t[c];(h===o||pa(h,ae[c])&&!ce.call(t,c))&&(t[c]=s[c])}return t}),Qa=Er(function(t){return t.push(o,To),Ve(au,o,t)});function $a(t,e,n){var i=null==t?o:qi(t,e);return i===o?n:i}function tu(t,e){return null!=t&&Uo(t,e,er)}var eu=vo(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=pe.call(e)),t[e]=n},Tu(Ou)),nu=vo(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=pe.call(e)),ce.call(t,e)?t[e].push(n):t[e]=[n]},Do),iu=Er(ir);function ru(t){return _a(t)?Ei(t):lr(t)}function ou(t){return _a(t)?Ei(t,!0):cr(t)}var su=oo(function(t,e,n){vr(t,e,n)}),au=oo(function(t,e,n,i){vr(t,e,n,i)}),uu=Oo(function(t,e){var n={};if(null==t)return n;var i=!1;e=$e(e,function(e){return e=Xr(e,t),i||(i=e.length>1),e}),io(t,Lo(t),n),i&&(n=Pi(n,f|p|d,Ro));for(var r=e.length;r--;)Nr(n,e[r]);return n});var lu=Oo(function(t,e){return null==t?{}:function(t,e){return yr(t,e,function(e,n){return tu(t,n)})}(t,e)});function cu(t,e){if(null==t)return{};var n=$e(Lo(t),function(t){return[t]});return e=Do(e),yr(t,n,function(t,n){return e(t,n[0])})}var hu=Co(ru),fu=Co(ou);function pu(t){return null==t?[]:yn(t,ru(t))}var du=lo(function(t,e,n){return e=e.toLowerCase(),t+(n?vu(e):e)});function vu(t){return Eu(Va(t).toLowerCase())}function gu(t){return(t=Va(t))&&t.replace(Kt,xn).replace(_e,"")}var mu=lo(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),yu=lo(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),_u=uo("toLowerCase");var wu=lo(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()});var bu=lo(function(t,e,n){return t+(n?" ":"")+Eu(e)});var xu=lo(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),Eu=uo("toUpperCase");function Cu(t,e,n){return t=Va(t),(e=n?o:e)===o?function(t){return Ee.test(t)}(t)?function(t){return t.match(be)||[]}(t):function(t){return t.match(Wt)||[]}(t):t.match(e)||[]}var ju=Er(function(t,e){try{return Ve(t,o,e)}catch(t){return Ea(t)?t:new Qt(t)}}),Su=Oo(function(t,e){return He(e,function(e){e=cs(e),Li(t,e,na(t[e],t))}),t});function Tu(t){return function(){return t}}var Ru=fo(),Iu=fo(!0);function Ou(t){return t}function Au(t){return ur("function"==typeof t?t:Pi(t,f))}var Lu=Er(function(t,e){return function(n){return ir(n,t,e)}}),ku=Er(function(t,e){return function(n){return ir(t,n,e)}});function Mu(t,e,n){var i=ru(e),r=Ki(e,i);null!=n||Ta(e)&&(r.length||!i.length)||(n=e,e=t,t=this,r=Ki(e,ru(e)));var o=!(Ta(n)&&"chain"in n&&!n.chain),s=Ca(t);return He(r,function(n){var i=e[n];t[n]=i,s&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__);return(n.__actions__=no(this.__actions__)).push({func:i,args:arguments,thisArg:t}),n.__chain__=e,n}return i.apply(t,tn([this.value()],arguments))})}),t}function Pu(){}var Du=mo($e),Fu=mo(Ke),Nu=mo(rn);function Gu(t){return Zo(t)?fn(cs(t)):function(t){return function(e){return qi(e,t)}}(t)}var Wu=_o(),Bu=_o(!0);function zu(){return[]}function Uu(){return!1}var Yu=go(function(t,e){return t+e},0),Vu=xo("ceil"),Xu=go(function(t,e){return t/e},1),Hu=xo("floor");var Zu,Ku=go(function(t,e){return t*e},1),qu=xo("round"),Ju=go(function(t,e){return t-e},0);return pi.after=function(t,e){if("function"!=typeof e)throw new re(u);return t=Ba(t),function(){if(--t<1)return e.apply(this,arguments)}},pi.ary=ta,pi.assign=Xa,pi.assignIn=Ha,pi.assignInWith=Za,pi.assignWith=Ka,pi.at=qa,pi.before=ea,pi.bind=na,pi.bindAll=Su,pi.bindKey=ia,pi.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return ma(t)?t:[t]},pi.chain=Gs,pi.chunk=function(t,e,n){e=(n?Ho(t,e,n):e===o)?1:Vn(Ba(e),0);var r=null==t?0:t.length;if(!r||e<1)return[];for(var s=0,a=0,u=i(Nn(r/e));s<r;)u[a++]=Or(t,s,s+=e);return u},pi.compact=function(t){for(var e=-1,n=null==t?0:t.length,i=0,r=[];++e<n;){var o=t[e];o&&(r[i++]=o)}return r},pi.concat=function(){var t=arguments.length;if(!t)return[];for(var e=i(t-1),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return tn(ma(n)?no(n):[n],Yi(e,1))},pi.cond=function(t){var e=null==t?0:t.length,n=Do();return t=e?$e(t,function(t){if("function"!=typeof t[1])throw new re(u);return[n(t[0]),t[1]]}):[],Er(function(n){for(var i=-1;++i<e;){var r=t[i];if(Ve(r[0],this,n))return Ve(r[1],this,n)}})},pi.conforms=function(t){return function(t){var e=ru(t);return function(n){return Di(n,t,e)}}(Pi(t,f))},pi.constant=Tu,pi.countBy=zs,pi.create=function(t,e){var n=di(t);return null==e?n:Ai(n,e)},pi.curry=function t(e,n,i){var r=jo(e,w,o,o,o,o,o,n=i?o:n);return r.placeholder=t.placeholder,r},pi.curryRight=function t(e,n,i){var r=jo(e,b,o,o,o,o,o,n=i?o:n);return r.placeholder=t.placeholder,r},pi.debounce=ra,pi.defaults=Ja,pi.defaultsDeep=Qa,pi.defer=oa,pi.delay=sa,pi.difference=ps,pi.differenceBy=ds,pi.differenceWith=vs,pi.drop=function(t,e,n){var i=null==t?0:t.length;return i?Or(t,(e=n||e===o?1:Ba(e))<0?0:e,i):[]},pi.dropRight=function(t,e,n){var i=null==t?0:t.length;return i?Or(t,0,(e=i-(e=n||e===o?1:Ba(e)))<0?0:e):[]},pi.dropRightWhile=function(t,e){return t&&t.length?Wr(t,Do(e,3),!0,!0):[]},pi.dropWhile=function(t,e){return t&&t.length?Wr(t,Do(e,3),!0):[]},pi.fill=function(t,e,n,i){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&Ho(t,e,n)&&(n=0,i=r),function(t,e,n,i){var r=t.length;for((n=Ba(n))<0&&(n=-n>r?0:r+n),(i=i===o||i>r?r:Ba(i))<0&&(i+=r),i=n>i?0:za(i);n<i;)t[n++]=e;return t}(t,e,n,i)):[]},pi.filter=function(t,e){return(ma(t)?qe:Ui)(t,Do(e,3))},pi.flatMap=function(t,e){return Yi(qs(t,e),1)},pi.flatMapDeep=function(t,e){return Yi(qs(t,e),k)},pi.flatMapDepth=function(t,e,n){return n=n===o?1:Ba(n),Yi(qs(t,e),n)},pi.flatten=ys,pi.flattenDeep=function(t){return null!=t&&t.length?Yi(t,k):[]},pi.flattenDepth=function(t,e){return null!=t&&t.length?Yi(t,e=e===o?1:Ba(e)):[]},pi.flip=function(t){return jo(t,S)},pi.flow=Ru,pi.flowRight=Iu,pi.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,i={};++e<n;){var r=t[e];i[r[0]]=r[1]}return i},pi.functions=function(t){return null==t?[]:Ki(t,ru(t))},pi.functionsIn=function(t){return null==t?[]:Ki(t,ou(t))},pi.groupBy=Hs,pi.initial=function(t){return null!=t&&t.length?Or(t,0,-1):[]},pi.intersection=ws,pi.intersectionBy=bs,pi.intersectionWith=xs,pi.invert=eu,pi.invertBy=nu,pi.invokeMap=Zs,pi.iteratee=Au,pi.keyBy=Ks,pi.keys=ru,pi.keysIn=ou,pi.map=qs,pi.mapKeys=function(t,e){var n={};return e=Do(e,3),Hi(t,function(t,i,r){Li(n,e(t,i,r),t)}),n},pi.mapValues=function(t,e){var n={};return e=Do(e,3),Hi(t,function(t,i,r){Li(n,i,e(t,i,r))}),n},pi.matches=function(t){return pr(Pi(t,f))},pi.matchesProperty=function(t,e){return dr(t,Pi(e,f))},pi.memoize=aa,pi.merge=su,pi.mergeWith=au,pi.method=Lu,pi.methodOf=ku,pi.mixin=Mu,pi.negate=ua,pi.nthArg=function(t){return t=Ba(t),Er(function(e){return gr(e,t)})},pi.omit=uu,pi.omitBy=function(t,e){return cu(t,ua(Do(e)))},pi.once=function(t){return ea(2,t)},pi.orderBy=function(t,e,n,i){return null==t?[]:(ma(e)||(e=null==e?[]:[e]),ma(n=i?o:n)||(n=null==n?[]:[n]),mr(t,e,n))},pi.over=Du,pi.overArgs=la,pi.overEvery=Fu,pi.overSome=Nu,pi.partial=ca,pi.partialRight=ha,pi.partition=Js,pi.pick=lu,pi.pickBy=cu,pi.property=Gu,pi.propertyOf=function(t){return function(e){return null==t?o:qi(t,e)}},pi.pull=Cs,pi.pullAll=js,pi.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?_r(t,e,Do(n,2)):t},pi.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?_r(t,e,o,n):t},pi.pullAt=Ss,pi.range=Wu,pi.rangeRight=Bu,pi.rearg=fa,pi.reject=function(t,e){return(ma(t)?qe:Ui)(t,ua(Do(e,3)))},pi.remove=function(t,e){var n=[];if(!t||!t.length)return n;var i=-1,r=[],o=t.length;for(e=Do(e,3);++i<o;){var s=t[i];e(s,i,t)&&(n.push(s),r.push(i))}return wr(t,r),n},pi.rest=function(t,e){if("function"!=typeof t)throw new re(u);return Er(t,e=e===o?e:Ba(e))},pi.reverse=Ts,pi.sampleSize=function(t,e,n){return e=(n?Ho(t,e,n):e===o)?1:Ba(e),(ma(t)?ji:jr)(t,e)},pi.set=function(t,e,n){return null==t?t:Sr(t,e,n)},pi.setWith=function(t,e,n,i){return i="function"==typeof i?i:o,null==t?t:Sr(t,e,n,i)},pi.shuffle=function(t){return(ma(t)?Si:Ir)(t)},pi.slice=function(t,e,n){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&Ho(t,e,n)?(e=0,n=i):(e=null==e?0:Ba(e),n=n===o?i:Ba(n)),Or(t,e,n)):[]},pi.sortBy=Qs,pi.sortedUniq=function(t){return t&&t.length?Mr(t):[]},pi.sortedUniqBy=function(t,e){return t&&t.length?Mr(t,Do(e,2)):[]},pi.split=function(t,e,n){return n&&"number"!=typeof n&&Ho(t,e,n)&&(e=n=o),(n=n===o?F:n>>>0)?(t=Va(t))&&("string"==typeof e||null!=e&&!La(e))&&!(e=Dr(e))&&jn(t)?Zr(Ln(t),0,n):t.split(e,n):[]},pi.spread=function(t,e){if("function"!=typeof t)throw new re(u);return e=null==e?0:Vn(Ba(e),0),Er(function(n){var i=n[e],r=Zr(n,0,e);return i&&tn(r,i),Ve(t,this,r)})},pi.tail=function(t){var e=null==t?0:t.length;return e?Or(t,1,e):[]},pi.take=function(t,e,n){return t&&t.length?Or(t,0,(e=n||e===o?1:Ba(e))<0?0:e):[]},pi.takeRight=function(t,e,n){var i=null==t?0:t.length;return i?Or(t,(e=i-(e=n||e===o?1:Ba(e)))<0?0:e,i):[]},pi.takeRightWhile=function(t,e){return t&&t.length?Wr(t,Do(e,3),!1,!0):[]},pi.takeWhile=function(t,e){return t&&t.length?Wr(t,Do(e,3)):[]},pi.tap=function(t,e){return e(t),t},pi.throttle=function(t,e,n){var i=!0,r=!0;if("function"!=typeof t)throw new re(u);return Ta(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),ra(t,e,{leading:i,maxWait:e,trailing:r})},pi.thru=Ws,pi.toArray=Ga,pi.toPairs=hu,pi.toPairsIn=fu,pi.toPath=function(t){return ma(t)?$e(t,cs):Pa(t)?[t]:no(ls(Va(t)))},pi.toPlainObject=Ya,pi.transform=function(t,e,n){var i=ma(t),r=i||ba(t)||Da(t);if(e=Do(e,4),null==n){var o=t&&t.constructor;n=r?i?new o:[]:Ta(t)&&Ca(o)?di(Ae(t)):{}}return(r?He:Hi)(t,function(t,i,r){return e(n,t,i,r)}),n},pi.unary=function(t){return ta(t,1)},pi.union=Rs,pi.unionBy=Is,pi.unionWith=Os,pi.uniq=function(t){return t&&t.length?Fr(t):[]},pi.uniqBy=function(t,e){return t&&t.length?Fr(t,Do(e,2)):[]},pi.uniqWith=function(t,e){return e="function"==typeof e?e:o,t&&t.length?Fr(t,o,e):[]},pi.unset=function(t,e){return null==t||Nr(t,e)},pi.unzip=As,pi.unzipWith=Ls,pi.update=function(t,e,n){return null==t?t:Gr(t,e,Vr(n))},pi.updateWith=function(t,e,n,i){return i="function"==typeof i?i:o,null==t?t:Gr(t,e,Vr(n),i)},pi.values=pu,pi.valuesIn=function(t){return null==t?[]:yn(t,ou(t))},pi.without=ks,pi.words=Cu,pi.wrap=function(t,e){return ca(Vr(e),t)},pi.xor=Ms,pi.xorBy=Ps,pi.xorWith=Ds,pi.zip=Fs,pi.zipObject=function(t,e){return Ur(t||[],e||[],Ri)},pi.zipObjectDeep=function(t,e){return Ur(t||[],e||[],Sr)},pi.zipWith=Ns,pi.entries=hu,pi.entriesIn=fu,pi.extend=Ha,pi.extendWith=Za,Mu(pi,pi),pi.add=Yu,pi.attempt=ju,pi.camelCase=du,pi.capitalize=vu,pi.ceil=Vu,pi.clamp=function(t,e,n){return n===o&&(n=e,e=o),n!==o&&(n=(n=Ua(n))==n?n:0),e!==o&&(e=(e=Ua(e))==e?e:0),Mi(Ua(t),e,n)},pi.clone=function(t){return Pi(t,d)},pi.cloneDeep=function(t){return Pi(t,f|d)},pi.cloneDeepWith=function(t,e){return Pi(t,f|d,e="function"==typeof e?e:o)},pi.cloneWith=function(t,e){return Pi(t,d,e="function"==typeof e?e:o)},pi.conformsTo=function(t,e){return null==e||Di(t,e,ru(e))},pi.deburr=gu,pi.defaultTo=function(t,e){return null==t||t!=t?e:t},pi.divide=Xu,pi.endsWith=function(t,e,n){t=Va(t),e=Dr(e);var i=t.length,r=n=n===o?i:Mi(Ba(n),0,i);return(n-=e.length)>=0&&t.slice(n,r)==e},pi.eq=pa,pi.escape=function(t){return(t=Va(t))&&jt.test(t)?t.replace(Et,En):t},pi.escapeRegExp=function(t){return(t=Va(t))&&kt.test(t)?t.replace(Lt,"\\$&"):t},pi.every=function(t,e,n){var i=ma(t)?Ke:Bi;return n&&Ho(t,e,n)&&(e=o),i(t,Do(e,3))},pi.find=Us,pi.findIndex=gs,pi.findKey=function(t,e){return sn(t,Do(e,3),Hi)},pi.findLast=Ys,pi.findLastIndex=ms,pi.findLastKey=function(t,e){return sn(t,Do(e,3),Zi)},pi.floor=Hu,pi.forEach=Vs,pi.forEachRight=Xs,pi.forIn=function(t,e){return null==t?t:Vi(t,Do(e,3),ou)},pi.forInRight=function(t,e){return null==t?t:Xi(t,Do(e,3),ou)},pi.forOwn=function(t,e){return t&&Hi(t,Do(e,3))},pi.forOwnRight=function(t,e){return t&&Zi(t,Do(e,3))},pi.get=$a,pi.gt=da,pi.gte=va,pi.has=function(t,e){return null!=t&&Uo(t,e,tr)},pi.hasIn=tu,pi.head=_s,pi.identity=Ou,pi.includes=function(t,e,n,i){t=_a(t)?t:pu(t),n=n&&!i?Ba(n):0;var r=t.length;return n<0&&(n=Vn(r+n,0)),Ma(t)?n<=r&&t.indexOf(e,n)>-1:!!r&&un(t,e,n)>-1},pi.indexOf=function(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:Ba(n);return r<0&&(r=Vn(i+r,0)),un(t,e,r)},pi.inRange=function(t,e,n){return e=Wa(e),n===o?(n=e,e=0):n=Wa(n),function(t,e,n){return t>=Xn(e,n)&&t<Vn(e,n)}(t=Ua(t),e,n)},pi.invoke=iu,pi.isArguments=ga,pi.isArray=ma,pi.isArrayBuffer=ya,pi.isArrayLike=_a,pi.isArrayLikeObject=wa,pi.isBoolean=function(t){return!0===t||!1===t||Ra(t)&&Qi(t)==Y},pi.isBuffer=ba,pi.isDate=xa,pi.isElement=function(t){return Ra(t)&&1===t.nodeType&&!Aa(t)},pi.isEmpty=function(t){if(null==t)return!0;if(_a(t)&&(ma(t)||"string"==typeof t||"function"==typeof t.splice||ba(t)||Da(t)||ga(t)))return!t.length;var e=zo(t);if(e==q||e==nt)return!t.size;if(Jo(t))return!lr(t).length;for(var n in t)if(ce.call(t,n))return!1;return!0},pi.isEqual=function(t,e){return or(t,e)},pi.isEqualWith=function(t,e,n){var i=(n="function"==typeof n?n:o)?n(t,e):o;return i===o?or(t,e,o,n):!!i},pi.isError=Ea,pi.isFinite=function(t){return"number"==typeof t&&zn(t)},pi.isFunction=Ca,pi.isInteger=ja,pi.isLength=Sa,pi.isMap=Ia,pi.isMatch=function(t,e){return t===e||sr(t,e,No(e))},pi.isMatchWith=function(t,e,n){return n="function"==typeof n?n:o,sr(t,e,No(e),n)},pi.isNaN=function(t){return Oa(t)&&t!=+t},pi.isNative=function(t){if(qo(t))throw new Qt(a);return ar(t)},pi.isNil=function(t){return null==t},pi.isNull=function(t){return null===t},pi.isNumber=Oa,pi.isObject=Ta,pi.isObjectLike=Ra,pi.isPlainObject=Aa,pi.isRegExp=La,pi.isSafeInteger=function(t){return ja(t)&&t>=-M&&t<=M},pi.isSet=ka,pi.isString=Ma,pi.isSymbol=Pa,pi.isTypedArray=Da,pi.isUndefined=function(t){return t===o},pi.isWeakMap=function(t){return Ra(t)&&zo(t)==st},pi.isWeakSet=function(t){return Ra(t)&&Qi(t)==at},pi.join=function(t,e){return null==t?"":Un.call(t,e)},pi.kebabCase=mu,pi.last=Es,pi.lastIndexOf=function(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=i;return n!==o&&(r=(r=Ba(n))<0?Vn(i+r,0):Xn(r,i-1)),e==e?function(t,e,n){for(var i=n+1;i--;)if(t[i]===e)return i;return i}(t,e,r):an(t,cn,r,!0)},pi.lowerCase=yu,pi.lowerFirst=_u,pi.lt=Fa,pi.lte=Na,pi.max=function(t){return t&&t.length?zi(t,Ou,$i):o},pi.maxBy=function(t,e){return t&&t.length?zi(t,Do(e,2),$i):o},pi.mean=function(t){return hn(t,Ou)},pi.meanBy=function(t,e){return hn(t,Do(e,2))},pi.min=function(t){return t&&t.length?zi(t,Ou,hr):o},pi.minBy=function(t,e){return t&&t.length?zi(t,Do(e,2),hr):o},pi.stubArray=zu,pi.stubFalse=Uu,pi.stubObject=function(){return{}},pi.stubString=function(){return""},pi.stubTrue=function(){return!0},pi.multiply=Ku,pi.nth=function(t,e){return t&&t.length?gr(t,Ba(e)):o},pi.noConflict=function(){return ke._===this&&(ke._=ve),this},pi.noop=Pu,pi.now=$s,pi.pad=function(t,e,n){t=Va(t);var i=(e=Ba(e))?An(t):0;if(!e||i>=e)return t;var r=(e-i)/2;return yo(Gn(r),n)+t+yo(Nn(r),n)},pi.padEnd=function(t,e,n){t=Va(t);var i=(e=Ba(e))?An(t):0;return e&&i<e?t+yo(e-i,n):t},pi.padStart=function(t,e,n){t=Va(t);var i=(e=Ba(e))?An(t):0;return e&&i<e?yo(e-i,n)+t:t},pi.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),Zn(Va(t).replace(Pt,""),e||0)},pi.random=function(t,e,n){if(n&&"boolean"!=typeof n&&Ho(t,e,n)&&(e=n=o),n===o&&("boolean"==typeof e?(n=e,e=o):"boolean"==typeof t&&(n=t,t=o)),t===o&&e===o?(t=0,e=1):(t=Wa(t),e===o?(e=t,t=0):e=Wa(e)),t>e){var i=t;t=e,e=i}if(n||t%1||e%1){var r=Kn();return Xn(t+r*(e-t+Ie("1e-"+((r+"").length-1))),e)}return br(t,e)},pi.reduce=function(t,e,n){var i=ma(t)?en:dn,r=arguments.length<3;return i(t,Do(e,4),n,r,Gi)},pi.reduceRight=function(t,e,n){var i=ma(t)?nn:dn,r=arguments.length<3;return i(t,Do(e,4),n,r,Wi)},pi.repeat=function(t,e,n){return e=(n?Ho(t,e,n):e===o)?1:Ba(e),xr(Va(t),e)},pi.replace=function(){var t=arguments,e=Va(t[0]);return t.length<3?e:e.replace(t[1],t[2])},pi.result=function(t,e,n){var i=-1,r=(e=Xr(e,t)).length;for(r||(r=1,t=o);++i<r;){var s=null==t?o:t[cs(e[i])];s===o&&(i=r,s=n),t=Ca(s)?s.call(t):s}return t},pi.round=qu,pi.runInContext=t,pi.sample=function(t){return(ma(t)?Ci:Cr)(t)},pi.size=function(t){if(null==t)return 0;if(_a(t))return Ma(t)?An(t):t.length;var e=zo(t);return e==q||e==nt?t.size:lr(t).length},pi.snakeCase=wu,pi.some=function(t,e,n){var i=ma(t)?rn:Ar;return n&&Ho(t,e,n)&&(e=o),i(t,Do(e,3))},pi.sortedIndex=function(t,e){return Lr(t,e)},pi.sortedIndexBy=function(t,e,n){return kr(t,e,Do(n,2))},pi.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var i=Lr(t,e);if(i<n&&pa(t[i],e))return i}return-1},pi.sortedLastIndex=function(t,e){return Lr(t,e,!0)},pi.sortedLastIndexBy=function(t,e,n){return kr(t,e,Do(n,2),!0)},pi.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var n=Lr(t,e,!0)-1;if(pa(t[n],e))return n}return-1},pi.startCase=bu,pi.startsWith=function(t,e,n){return t=Va(t),n=null==n?0:Mi(Ba(n),0,t.length),e=Dr(e),t.slice(n,n+e.length)==e},pi.subtract=Ju,pi.sum=function(t){return t&&t.length?vn(t,Ou):0},pi.sumBy=function(t,e){return t&&t.length?vn(t,Do(e,2)):0},pi.template=function(t,e,n){var i=pi.templateSettings;n&&Ho(t,e,n)&&(e=o),t=Va(t),e=Za({},e,i,So);var r,s,a=Za({},e.imports,i.imports,So),u=ru(a),l=yn(a,u),c=0,h=e.interpolate||qt,f="__p += '",p=ne((e.escape||qt).source+"|"+h.source+"|"+(h===Rt?zt:qt).source+"|"+(e.evaluate||qt).source+"|$","g"),d="//# sourceURL="+(ce.call(e,"sourceURL")?(e.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++je+"]")+"\n";t.replace(p,function(e,n,i,o,a,u){return i||(i=o),f+=t.slice(c,u).replace(Jt,Cn),n&&(r=!0,f+="' +\n__e("+n+") +\n'"),a&&(s=!0,f+="';\n"+a+";\n__p += '"),i&&(f+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),c=u+e.length,e}),f+="';\n";var v=ce.call(e,"variable")&&e.variable;v||(f="with (obj) {\n"+f+"\n}\n"),f=(s?f.replace(_t,""):f).replace(wt,"$1").replace(bt,"$1;"),f="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(r?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var g=ju(function(){return $t(u,d+"return "+f).apply(o,l)});if(g.source=f,Ea(g))throw g;return g},pi.times=function(t,e){if((t=Ba(t))<1||t>M)return[];var n=F,i=Xn(t,F);e=Do(e),t-=F;for(var r=gn(i,e);++n<t;)e(n);return r},pi.toFinite=Wa,pi.toInteger=Ba,pi.toLength=za,pi.toLower=function(t){return Va(t).toLowerCase()},pi.toNumber=Ua,pi.toSafeInteger=function(t){return t?Mi(Ba(t),-M,M):0===t?t:0},pi.toString=Va,pi.toUpper=function(t){return Va(t).toUpperCase()},pi.trim=function(t,e,n){if((t=Va(t))&&(n||e===o))return t.replace(Mt,"");if(!t||!(e=Dr(e)))return t;var i=Ln(t),r=Ln(e);return Zr(i,wn(i,r),bn(i,r)+1).join("")},pi.trimEnd=function(t,e,n){if((t=Va(t))&&(n||e===o))return t.replace(Dt,"");if(!t||!(e=Dr(e)))return t;var i=Ln(t);return Zr(i,0,bn(i,Ln(e))+1).join("")},pi.trimStart=function(t,e,n){if((t=Va(t))&&(n||e===o))return t.replace(Pt,"");if(!t||!(e=Dr(e)))return t;var i=Ln(t);return Zr(i,wn(i,Ln(e))).join("")},pi.truncate=function(t,e){var n=T,i=R;if(Ta(e)){var r="separator"in e?e.separator:r;n="length"in e?Ba(e.length):n,i="omission"in e?Dr(e.omission):i}var s=(t=Va(t)).length;if(jn(t)){var a=Ln(t);s=a.length}if(n>=s)return t;var u=n-An(i);if(u<1)return i;var l=a?Zr(a,0,u).join(""):t.slice(0,u);if(r===o)return l+i;if(a&&(u+=l.length-u),La(r)){if(t.slice(u).search(r)){var c,h=l;for(r.global||(r=ne(r.source,Va(Ut.exec(r))+"g")),r.lastIndex=0;c=r.exec(h);)var f=c.index;l=l.slice(0,f===o?u:f)}}else if(t.indexOf(Dr(r),u)!=u){var p=l.lastIndexOf(r);p>-1&&(l=l.slice(0,p))}return l+i},pi.unescape=function(t){return(t=Va(t))&&Ct.test(t)?t.replace(xt,kn):t},pi.uniqueId=function(t){var e=++he;return Va(t)+e},pi.upperCase=xu,pi.upperFirst=Eu,pi.each=Vs,pi.eachRight=Xs,pi.first=_s,Mu(pi,(Zu={},Hi(pi,function(t,e){ce.call(pi.prototype,e)||(Zu[e]=t)}),Zu),{chain:!1}),pi.VERSION="4.17.15",He(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){pi[t].placeholder=pi}),He(["drop","take"],function(t,e){mi.prototype[t]=function(n){n=n===o?1:Vn(Ba(n),0);var i=this.__filtered__&&!e?new mi(this):this.clone();return i.__filtered__?i.__takeCount__=Xn(n,i.__takeCount__):i.__views__.push({size:Xn(n,F),type:t+(i.__dir__<0?"Right":"")}),i},mi.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),He(["filter","map","takeWhile"],function(t,e){var n=e+1,i=n==A||3==n;mi.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Do(t,3),type:n}),e.__filtered__=e.__filtered__||i,e}}),He(["head","last"],function(t,e){var n="take"+(e?"Right":"");mi.prototype[t]=function(){return this[n](1).value()[0]}}),He(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");mi.prototype[t]=function(){return this.__filtered__?new mi(this):this[n](1)}}),mi.prototype.compact=function(){return this.filter(Ou)},mi.prototype.find=function(t){return this.filter(t).head()},mi.prototype.findLast=function(t){return this.reverse().find(t)},mi.prototype.invokeMap=Er(function(t,e){return"function"==typeof t?new mi(this):this.map(function(n){return ir(n,t,e)})}),mi.prototype.reject=function(t){return this.filter(ua(Do(t)))},mi.prototype.slice=function(t,e){t=Ba(t);var n=this;return n.__filtered__&&(t>0||e<0)?new mi(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==o&&(n=(e=Ba(e))<0?n.dropRight(-e):n.take(e-t)),n)},mi.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},mi.prototype.toArray=function(){return this.take(F)},Hi(mi.prototype,function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),i=/^(?:head|last)$/.test(e),r=pi[i?"take"+("last"==e?"Right":""):e],s=i||/^find/.test(e);r&&(pi.prototype[e]=function(){var e=this.__wrapped__,a=i?[1]:arguments,u=e instanceof mi,l=a[0],c=u||ma(e),h=function(t){var e=r.apply(pi,tn([t],a));return i&&f?e[0]:e};c&&n&&"function"==typeof l&&1!=l.length&&(u=c=!1);var f=this.__chain__,p=!!this.__actions__.length,d=s&&!f,v=u&&!p;if(!s&&c){e=v?e:new mi(this);var g=t.apply(e,a);return g.__actions__.push({func:Ws,args:[h],thisArg:o}),new gi(g,f)}return d&&v?t.apply(this,a):(g=this.thru(h),d?i?g.value()[0]:g.value():g)})}),He(["pop","push","shift","sort","splice","unshift"],function(t){var e=oe[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);pi.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var r=this.value();return e.apply(ma(r)?r:[],t)}return this[n](function(n){return e.apply(ma(n)?n:[],t)})}}),Hi(mi.prototype,function(t,e){var n=pi[e];if(n){var i=n.name+"";ce.call(ri,i)||(ri[i]=[]),ri[i].push({name:e,func:n})}}),ri[po(o,y).name]=[{name:"wrapper",func:o}],mi.prototype.clone=function(){var t=new mi(this.__wrapped__);return t.__actions__=no(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=no(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=no(this.__views__),t},mi.prototype.reverse=function(){if(this.__filtered__){var t=new mi(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},mi.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=ma(t),i=e<0,r=n?t.length:0,o=function(t,e,n){for(var i=-1,r=n.length;++i<r;){var o=n[i],s=o.size;switch(o.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=Xn(e,t+s);break;case"takeRight":t=Vn(t,e-s)}}return{start:t,end:e}}(0,r,this.__views__),s=o.start,a=o.end,u=a-s,l=i?a:s-1,c=this.__iteratees__,h=c.length,f=0,p=Xn(u,this.__takeCount__);if(!n||!i&&r==u&&p==u)return Br(t,this.__actions__);var d=[];t:for(;u--&&f<p;){for(var v=-1,g=t[l+=e];++v<h;){var m=c[v],y=m.iteratee,_=m.type,w=y(g);if(_==L)g=w;else if(!w){if(_==A)continue t;break t}}d[f++]=g}return d},pi.prototype.at=Bs,pi.prototype.chain=function(){return Gs(this)},pi.prototype.commit=function(){return new gi(this.value(),this.__chain__)},pi.prototype.next=function(){this.__values__===o&&(this.__values__=Ga(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?o:this.__values__[this.__index__++]}},pi.prototype.plant=function(t){for(var e,n=this;n instanceof vi;){var i=fs(n);i.__index__=0,i.__values__=o,e?r.__wrapped__=i:e=i;var r=i;n=n.__wrapped__}return r.__wrapped__=t,e},pi.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof mi){var e=t;return this.__actions__.length&&(e=new mi(this)),(e=e.reverse()).__actions__.push({func:Ws,args:[Ts],thisArg:o}),new gi(e,this.__chain__)}return this.thru(Ts)},pi.prototype.toJSON=pi.prototype.valueOf=pi.prototype.value=function(){return Br(this.__wrapped__,this.__actions__)},pi.prototype.first=pi.prototype.head,Ne&&(pi.prototype[Ne]=function(){return this}),pi}();ke._=Mn,(r=function(){return Mn}.call(e,n,e,i))===o||(i.exports=r)}).call(this)}).call(e,n("DuR2"),n("3IRH")(t))},Nchc:function(t,e,n){"use strict";var i=n("Zrlr"),r=n.n(i),o=n("wxAW"),s=n.n(o),a=function(){function t(){r()(this,t),this.view=null,this.stepTime=60,this.recieveCount=0,this.defualtZ=.8,this.pitch=0,this.yaw=0,this.roll=Math.PI*(10/90),this.pmodels={},this.models={},this.cacheTrackCarData=null,this.cacheAndInterpolateDataByVid={},this.cameraDefualtZ=22.86,this.cameraDefualtRadius=10,this.cameraDefualtPitch=-.2,this.mainCarVID="",this.isload=!1,this.x=0,this.processPlatformCarsTrackIntervalId=null}return s()(t,[{key:"onCarMessage",value:function(t,e){this.cacheTrackCarData=t,this.thisMessage(e)}},{key:"thisMessage",value:function(t){var e=this.cacheTrackCarData;if(0==t)for(var n=e.result.vehDataDTO,i=0;i<n.length;i++){var r=n[i];r.heading<0||this.cacheAndInterpolatePlatformCar(r,e.result.vehDataStat)}else{for(var o=e.result.data,s=0;s<o.length;s++){var a=o[s];a.heading<0||this.cacheAndInterpolatePlatformCar(a,null)}var u=e.result.selfVehInfo;null!=u&&(this.mainCarVID=u.vehicleId,this.cacheAndInterpolatePlatformCar(u,null))}}},{key:"cacheAndInterpolatePlatformCar",value:function(t,e){var n=t.vehicleId,i=this.cacheAndInterpolateDataByVid[n];if(null==i){i={cacheData:new Array,intervalid:null,lastRecieveData:null,nowRecieveData:null,lastProcessData:null,nowProcessData:null,plateNo:null,data:e};var r={vehicleId:n,plateNo:t.plateNo,longitude:t.longitude,latitude:t.latitude,gpsTime:t.gpsTime,heading:t.heading};i.cacheData.push(r),i.lastRecieveData=r,i.nowRecieveData=r,this.cacheAndInterpolateDataByVid[n]=i}else{var o={vehicleId:n,longitude:t.longitude,latitude:t.latitude,gpsTime:t.gpsTime,plateNo:t.plateNo,heading:t.heading};if(i.nowRecieveData=o,i.nowRecieveData.gpsTime<i.lastRecieveData.gpsTime&&i.nowRecieveData.gpsTime==i.lastRecieveData.gpsTime)return;var s=i.nowRecieveData.gpsTime-i.lastRecieveData.gpsTime;if(s<=this.stepTime)i.cacheData.push(i.nowRecieveData);else for(var a=i.nowRecieveData.longitude-i.lastRecieveData.longitude,u=i.nowRecieveData.latitude-i.lastRecieveData.latitude,l=Math.ceil(s/this.stepTime),c=s/l,h=a/l,f=u/l,p=1;p<=l;p++){var d={};d.longitude=i.lastRecieveData.longitude+h*p,d.latitude=i.lastRecieveData.latitude+f*p,d.gpsTime=i.lastRecieveData.gpsTime+c*p,d.heading=i.nowRecieveData.heading,d.vehicleId=i.nowRecieveData.vehicleId,d.plateNo=i.nowRecieveData.plateNo,i.cacheData.push(d)}i.lastRecieveData=i.nowRecieveData}}},{key:"processPlatformCarsTrack",value:function(t){var e=this;this.view=t,this.processPlatformCarsTrackIntervalId=setInterval(function(){for(var t in e.cacheAndInterpolateDataByVid){var n=e.cacheAndInterpolateDataByVid[t];if(null!=n&&n.cacheData.length>0){var i=e.cacheAndInterpolateDataByVid[t].cacheData.shift();e.mainCarVID==i.vehicleId?(e.moveCar(i),e.moveTo(i)):e.moveCar(i)}}},this.stepTime)}},{key:"destroyed",value:function(){clearInterval(this.processPlatformCarsTrackIntervalId)}},{key:"moveCar",value:function(t){var e=t.vehicleId,n=t.plateNo;if(null==this.models[e]){var i=Cesium.Cartesian3.fromDegrees(t.longitude,t.latitude,0),r=Cesium.Math.toRadians(0),o=Cesium.Math.toRadians(0),s=0,a=new Cesium.HeadingPitchRoll(r,o,s),u=Cesium.Transforms.headingPitchRollToFixedFrame(i,a);this.view.scene.primitives.add(Cesium.Model.fromGltf({id:e+"car",modelMatrix:u,url:"./static/model/car.glb",minimumPixelSize:1,show:!0,maximumScale:5})),this.models[e]=e;this.view.entities.add({id:e+"labelpt",position:i,point:{color:Cesium.Color.RED,pixelSize:0},label:{fillColor:Cesium.Color.BLACK,backgroundColor:Cesium.Color.fromCssColorString("#fff"),text:"sdfsdf",font:"14px sans-serif",showBackground:!0,horizontalOrigin:Cesium.HorizontalOrigin.CENTER,pixelOffset:new Cesium.Cartesian2(0,0),scaleByDistance:new Cesium.NearFarScalar(100,1,2e3,0)}})}else{for(var l=null,c=this.view.scene.primitives,h=c.length,f=0;f<h;++f){var p=c.get(f);if(p.id==e+"car"){l=p;break}}if(null==l)return;i=Cesium.Cartesian3.fromDegrees(t.longitude,t.latitude,0),r=Cesium.Math.toRadians(t.heading),o=0,s=0,a=new Cesium.HeadingPitchRoll(r,o,s);var d=Cesium.Transforms.headingPitchRollQuaternion(i,a);l.modelMatrix=d;var v=Cesium.Transforms.localFrameToFixedFrameGenerator("north","west");Cesium.Transforms.headingPitchRollToFixedFrame(i,a,Cesium.Ellipsoid.WGS84,v,l.modelMatrix);var g=this.view.entities.getById(e+"labelpt");g.position=Cesium.Cartesian3.fromDegrees(t.longitude,t.latitude,4),g.label.text=n}}},{key:"moveTo",value:function(t){var e=Cesium.Math.toRadians(t.heading),n=new Cesium.HeadingPitchRoll(e,-.2369132859032279,.0029627735803421373);this.view.camera.setView({destination:Cesium.Cartesian3.fromDegrees(t.longitude,t.latitude,10),orientation:n})}}]),t}();e.a=a},OGFP:function(t,e,n){"use strict";var i=n("Zrlr"),r=n.n(i),o=n("wxAW"),s=n.n(o),a=function(){function t(){r()(this,t),this.defualtZ=window.defualtZ,this.cacheModelNum=200,this.carColor=8451962,this.pitch=0,this.yaw=0,this.roll=Math.PI*(10/90),this.deviceModels={cars:{},persons:[],texts:[]},this.cachePerceptionQueue=new Array,this.lastPerceptionMessage=null,this.viewer=null,this.processPerceptionDataIntervalId=null}return s()(t,[{key:"addPerceptionData",value:function(t,e){this.processPerceptionMesage(t,e)}},{key:"processPerceptionMesage",value:function(t,e){if(void 0!=this.deviceModels&&null!=t){var n=void 0,i=0;if((n=0==e?t.result.vehDataDTO:t.result.data).length>0){for(var r=this.viewer.scene.primitives,o=0;o<r.length;o++){for(var s=r.get(o),a=!1,u=0;u<n.length;u++)s instanceof Cesium.Model&&s.id!=n[u].vehicleId+"car"&&(a=!0);a&&(s.show=!1,i++)}i-n.length>=30&&this.removeModelPrimitives()}for(var l=0;l<n.length;l++){var c=n[l];if(1!=c.type&&!(c.heading<0))if(0==c.targetType||1==c.targetType||3==c.targetType)l<this.deviceModels.persons.length&&this.moveModel(c,l,"person");else{var h=this.getModelForPrimitive(c.vehicleId+"car");if(null==h){var f=this.getShowModelPrimitive();null!=f?this.moveModel(f,c):this.addModeCar(c)}else this.moveModel(h,c)}}}}},{key:"addModeCar",value:function(t){var e=Cesium.Cartesian3.fromDegrees(t.longitude,t.latitude,this.defualtZ),n=Cesium.Math.toRadians(t.heading),i=new Cesium.HeadingPitchRoll(n,0,0);t.heading>=360&&(carmodel.color=Cesium.Color.fromAlpha(Cesium.Color.RED,parseFloat(1)));var r=Cesium.Transforms.localFrameToFixedFrameGenerator("north","west"),o=Cesium.Transforms.headingPitchRollToFixedFrame(e,i,Cesium.Ellipsoid.WGS84,r);this.viewer.scene.primitives.add(Cesium.Model.fromGltf({id:t.vehicleId+"car",modelMatrix:o,url:"./static/model/carbox.glb",minimumPixelSize:5,show:!0,maximumScale:10}))}},{key:"removeModelPrimitives",value:function(){for(var t=this.viewer.scene.primitives,e=0;e<t.length;e++){var n=t.get(e);n instanceof Cesium.Model&&!n.show&&-1!=n.id.search("car")&&this.viewer.scene.primitives.remove(n)}}},{key:"getShowModelPrimitive",value:function(){for(var t=this.viewer.scene.primitives,e=0;e<t.length;e++){var n=t.get(e);if(n instanceof Cesium.Model&&!n.show&&-1!=n.id.search("car"))return n}}},{key:"getModelForPrimitive",value:function(t){for(var e=this.viewer.scene.primitives,n=0;n<e.length;n++){var i=e.get(n);if(i instanceof Cesium.Model&&i.id===t)return i}}},{key:"moveModel",value:function(t,e){var n=Cesium.Cartesian3.fromDegrees(e.longitude,e.latitude,this.defualtZ),i=Cesium.Math.toRadians(e.heading),r=new Cesium.HeadingPitchRoll(i,0,0),o=Cesium.Transforms.headingPitchRollQuaternion(n,r);t.modelMatrix=o,t.show=!0,t.id=e.vehicleId+"car",e.heading>=360&&(t.color=Cesium.Color.fromAlpha(Cesium.Color.RED,parseFloat(.996)));var s=Cesium.Transforms.localFrameToFixedFrameGenerator("north","west");Cesium.Transforms.headingPitchRollToFixedFrame(n,r,Cesium.Ellipsoid.WGS84,s,t.modelMatrix)}}]),t}();e.a=a},"P/7c":function(t,e){},PlOi:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADsAAAA8CAYAAADYIMILAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ1IDc5LjE2MzQ5OSwgMjAxOC8wOC8xMy0xNjo0MDoyMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkQ0RTdDRDY3QzdBQjExRTk5N0I1ODYxNEZDNDhBRjdCIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkQ0RTdDRDY4QzdBQjExRTk5N0I1ODYxNEZDNDhBRjdCIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RDRFN0NENjVDN0FCMTFFOTk3QjU4NjE0RkM0OEFGN0IiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RDRFN0NENjZDN0FCMTFFOTk3QjU4NjE0RkM0OEFGN0IiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5bBV/FAAAHT0lEQVR42uybeVQTVxSHISshJGwhBJB9FREVEaEiqD1HWnGlYpWq4FLgYI+VulSPHqlUK2JdqiLFXbBUEVyK4lIVBFuVUgVl3xcJu4QkhASSTN/LoikiDRWBxLw/mJmXN5P55t537+++CerBwcGI2gfSMPBPXFycq7KDhoSE5KDUPqCmglXBqmBVsCrYEZNnh7I13Al3RPhdGLSGLpdg4t5Ctp3XrrSwvNYCU3bVne/V1BCRV6mro1koDe0irJZxDtnBP4Pqub1SadzYYvHtW0Qz70iAKYTHCCIgCbpeunFb8sOasyKSCveREqoSZ/gKutrQSjFnLb9Iv0Y09dwJWXt/Juxmj+6sSd9RcsT017oriz2UIkBZLs38TdPEI6ovYBE0v8uqo+jC4ZIYs63A9TUUPhpbLf8zhWA0ad8rYHUUl2zvF47TtTkHDnpgVw+zbkHFmcmn2vNOURU+9VgHZZ8n0CYegKA6TkvXmfmlZNmFlh009IoMQGE1K0RW7um0o98KO936eJ+pwudZ6xU5icY+Mf6jZp/NkfYZTNlWBR5EIEbLKE0UyAQ8w6b7W2PfxcIjRlToTQht6N2Hp4zh2q+picDpWCZJgGkNd9ZF97DqsUqpoNRRWMQ2pGQvhmj4uzhas5yqznmtVVq5CIEtA+7ukM7hbkbl5/Rba8YqrTaGLq3nErZdIkZQjPyE9UpdCNBm7C3B6VgkS915oKJD4aoeqtfOU9IczK6+6z+shYCwh4Oi3wxx5bUW2sLpBtyvxMT3ZA6cd9IxlfEfLQTjiK/nJFqAIdLoFI/N2UTTqez+rq8zJqC1KX3TbRCRoX72ZJZe1iPbLXg55LCMgkQKAN0P9K2jtK+r8Ykas/RKAQAO13bwfynpC4JppPf5rMqbHA3quBPWQY8TZB9O70a0+DiV8TzeF1ZOQGhMA7CXhtSNYZUiBQVp4h7Z/rOvSTazN2E0DTLB/BpDvxG8840nrWV0U3PUlB8A4GE0gZKphggJ3Kana8viHPoNPrTp0bmgNGRLIrPrkLvxi2tB3hAUhSMV2H9V963UMuAh3C8+bHJVwGW4QblHmby+TnoOTtsi12rZg1dWqUnyncGqSNsDABbXXlr40Mwv+Y8+b5poyEcT9J7wOS1eAm6705AHKFCZiJ4wXs/ulqwLogn6AhSOWCsek2/Q3zXMF12/h9GkpsP9ztr0Jf2NBZ5QJlJVfC5NXkU1aLAYLeNyLNn0kqbp1Nze7i3ksazEudKp5b/z6egHovO4DBchj/nW+yMYTfwbWPgOnDJdjTlaQ+rGsu4o26p+mbYCEfZQgHs/k3XhtzWstjldtIMIceyauzpvi7Sj5iRkg032iFiDglapOOsWymsrWQmCSSdl0rpd8klDHF+6D+YkbsQvuHUUXdCn3wzdBVzRVR2NbwQWDad6RVbI9ZC6WYRXAYxszhly2II9uDTgVhpYHctUUFgf6G9sfdrqCSAHRgHX1QdpJwO4W6SWlQ9T3hvqZlRYiiwMUstAzhs0WHU0lg0UD1XQ1erQ3zioVTuKL/6ohiAYgrFbtHXg46SBuj6vrXiWKNoSqQ8G2+PkisYovHaZZOXPCsrBvsYwy67qMouTd8HAQrLx3TJQUJg+yk+N3wC+wwFqX92xgfGDDSuXZXHa5nl8doMPIuTrNqZvcjSeeSS/95jmzIj5CCIgA/djcpvz3EtizNzf0LVOy5MMvXeWS4+5Lc/nFx+iuSJCgYaQxxgDrw9LOKKpZ5ThtN2lwwILpN8jTv0j0X5n9T0vsMnvwzLOoowBgHuYdX59Co+24kywKX8djNgOYktKhAJe+wnZYWGsyawTT99H4JQLljJ5Q21zVkQ5cGGb7vbyuQDsOJZk0vPvMd8cFHBaj/V3HZLd/DqxhZdtQ/gcnIwaAsHok3qS9acd77M8lDv14A2cLnfRszdCgfAiddlMy4B712U/N/DYUiPvtUxmHc8djlpYbrlo7BObCucj3OfUPwwZrFX6EQlLoLlwgHXjJeLbuPaS/0qlhYUNlFyJKAyhVhJsAuvTvhyvtLA4XZtuHeeg78QrfAia8fzM3nd9JTFiYcVz9+gzUF4dFBcmfN2m+1uPKgrw/6pnrYP+SpR5JWHUlLH5ZH3aKpc35OPVJe6sihvaCg0LG3wlAWrPFImF9drzTseWHXMEJV0xXrTEkjzPu6PwwoG6K4tiOmszSAoNC5de7MOqd2tQxx2SzmFeW9Hq8pPjUyA0qyw1CvRhoUKquTg3prMuS0thYaXNZlVuvO64lSGgbqVL3JoGoSGoTI3qWHtxziEgSjQVGlasiE48BdD+eP3RJ4Dw6LPgFvA6nKvPz/xpOMXIoC244fUdeLbBhT+bL7o+G7h2jDQf9wKeUJngOWzAg/6uB64uACufdtzI8aO4bwwg0Cbuh+9WUTitUnUUpkPA7XCuPOcV/T5++jNsC26w0aZHw5q0VG2ENNUPNVWwKlgVrApWBTsceRb+N9OHAPuPAAMANPcpfc4aNzQAAAAASUVORK5CYII="},QcbH:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={data:function(){return{webSocket:null,warningWebsocket:null,platformData:{},perceptionData:{},sideData:{},v2xData:{},isFirstCon:!0,fusionData:{platVeh:0,perVeh:0,nonMotor:0,person:0}}},props:{currentExtent:{type:Array,default:function(){return[]}},spatCount:{type:Number,default:0},signCount:{type:Number,default:0},perceptionData:{type:Object,default:function(){return{}}},warningCount:{type:Number,default:0},vehData:{type:Object,default:function(){return{}}}},computed:{},watch:{vehData:{handler:function(t,e){var n=0;this.vehData.cbox&&(this.platformData=this.vehData.cbox,n+=this.vehData.cbox.veh),this.vehData.obu&&(this.v2xData=this.vehData.obu,n+=this.vehData.obu.veh),this.fusionData.platVeh=n},deep:!0},perceptionData:{handler:function(t,e){var n=0,i=0,r=0;this.perceptionData.vehPer&&(this.perceptionData=this.perceptionData.vehPer,n+=this.perceptionData.vehPer.veh,i+=this.perceptionData.vehPer.noMotor,r+=this.perceptionData.vehPer.person),this.perceptionData.rcu&&(this.sideData=this.perceptionData.rcu,n+=this.perceptionData.rcu.veh,i+=this.perceptionData.rcu.noMotor,r+=this.perceptionData.rcu.person),this.fusionData.perVeh=n,this.fusionData.nonMotor=i,this.fusionData.person=r},deep:!0}},methods:{},mounted:function(){},destroyed:function(){this.warningWebsocket&&this.warningWebsocket.close()}},r={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"fusion-left-style"},[n("div",{staticClass:"fusion-left-main left-style"},[n("p",{staticClass:"c-title",staticStyle:{"margin-top":"0px"}},[t._v("融合结果")]),t._v(" "),n("ul",{staticClass:"perception-style"},[n("li",[n("span",{staticClass:"overview-sign fusion-sign"}),t._v(" "),n("span",[t._v("融合后感知车辆："+t._s(t.fusionData.platVeh+t.fusionData.perVeh||0))])]),t._v(" "),n("li",[n("span",{staticClass:"overview-sign fusion-sign"}),t._v(" "),n("span",[t._v("融合非机动车："+t._s(t.fusionData.nonMotor||0))])]),t._v(" "),n("li",[n("span",{staticClass:"overview-sign fusion-sign"}),t._v(" "),n("span",[t._v("融合后行人："+t._s(t.fusionData.person||0))])])]),t._v(" "),n("p",{staticClass:"c-title"},[t._v("感知数据")]),t._v(" "),n("ul",{staticClass:"perception-style"},[n("li",[n("span",{staticClass:"overview-sign perception-sign"}),t._v(" "),n("span",[t._v("平台直连：车辆 "+t._s(t.platformData.veh||0))])]),t._v(" "),n("li",[n("span",{staticClass:"overview-sign perception-sign"}),t._v(" "),n("span",{staticClass:"fusion-font"},[t._v("路侧识别：车辆 "+t._s(t.sideData.veh||0)+"，行人 "+t._s(t.sideData.person||0)+"，"),n("br"),t._v("    非机动车 "+t._s(t.sideData.noMotor||0))])]),t._v(" "),n("li",[n("span",{staticClass:"overview-sign perception-sign"}),t._v(" "),n("span",[t._v("V2X通讯：车辆 "+t._s(t.v2xData.veh||0))])]),t._v(" "),n("li",[n("span",{staticClass:"overview-sign perception-sign"}),t._v(" "),n("span",{staticClass:"fusion-font"},[t._v("车辆感知：车辆 "+t._s(t.perceptionData.veh||0)+"，行人 "+t._s(t.perceptionData.person||0)+"，"),n("br"),t._v("    非机动车 "+t._s(t.perceptionData.noMotor||0))])])]),t._v(" "),n("p",{staticClass:"c-title"},[t._v("交通数据")]),t._v(" "),n("ul",{staticClass:"perception-style"},[n("li",[n("span",{staticClass:"overview-sign traffic-sign"}),t._v(" "),n("span",[t._v("下发预警信息："+t._s(t.warningCount||0))])]),t._v(" "),n("li",[n("span",{staticClass:"overview-sign traffic-sign"}),t._v(" "),n("span",[t._v("接入红绿灯："+t._s(t.spatCount||0))])]),t._v(" "),n("li",[n("span",{staticClass:"overview-sign traffic-sign"}),t._v(" "),n("span",[t._v("接入交通标志牌："+t._s(t.signCount||0))])])])])])},staticRenderFns:[]};var o=n("VU/8")(i,r,!1,function(t){n("2v/C")},"data-v-736a9769",null).exports,s=n("fZjL"),a=n.n(s),u=n("mvHQ"),l=n.n(u),c=n("M4fF"),h=n.n(c),f=(n("ktr9"),"function"==typeof Object.assign?Object.assign:function(t,e){var n=arguments;if(void 0===t||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),r=1,o=arguments.length;r<o;++r){var s=n[r];if(void 0!==s&&null!==s)for(var a in s)s.hasOwnProperty(a)&&(i[a]=s[a])}return i});function p(t){for(var e in t)delete t[e]}function d(t){var e=[];for(var n in t)e.push(t[n]);return e}function v(t){var e;for(e in t)return!1;return!e}function g(t,e,n,i){for(var r,o=0,s=t.length;o<s;++o)if((r=t[o]).listener===e&&r.bindTo===n)return i&&(r.deleteIndex=o),r}function m(t,e){var n=y(t);return n?n[e]:void 0}function y(t,e){var n=t.ol_lm;return!n&&e&&(n=t.ol_lm={}),n}function _(t,e){var n=m(t,e);if(n){for(var i=0,r=n.length;i<r;++i)t.removeEventListener(e,n[i].boundListener),p(n[i]);n.length=0;var o=y(t);o&&(delete o[e],0===Object.keys(o).length&&function(t){delete t.ol_lm}(t))}}function w(t,e,n,i,r){var o=y(t,!0),s=o[e];s||(s=o[e]=[]);var a=g(s,n,i,!1);return a?r||(a.callOnce=!1):(a={bindTo:i,callOnce:!!r,listener:n,target:t,type:e},t.addEventListener(e,function(t){var e=function(e){var n=t.listener,i=t.bindTo||t.target;return t.callOnce&&E(t),n.call(i,e)};return t.boundListener=e,e}(a)),s.push(a)),a}function b(t,e,n,i){return w(t,e,n,i,!0)}function x(t,e,n,i){var r=m(t,e);if(r){var o=g(r,n,i,!0);o&&E(o)}}function E(t){if(t&&t.target){t.target.removeEventListener(t.type,t.boundListener);var e=m(t.target,t.type);if(e){var n="deleteIndex"in t?t.deleteIndex:e.indexOf(t);-1!==n&&e.splice(n,1),0===e.length&&_(t.target,t.type)}p(t)}}var C=function(){this.disposed_=!1};C.prototype.dispose=function(){this.disposed_||(this.disposed_=!0,this.disposeInternal())},C.prototype.disposeInternal=function(){};var j=C;function S(){return!0}function T(){return!1}function R(){}var I=function(t){this.propagationStopped,this.type=t,this.target=null};function O(t){t.stopPropagation()}I.prototype.preventDefault=function(){this.propagationStopped=!0},I.prototype.stopPropagation=function(){this.propagationStopped=!0};var A=I,L=function(t){function e(){t.call(this),this.pendingRemovals_={},this.dispatching_={},this.listeners_={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addEventListener=function(t,e){var n=this.listeners_[t];n||(n=this.listeners_[t]=[]),-1===n.indexOf(e)&&n.push(e)},e.prototype.dispatchEvent=function(t){var e="string"==typeof t?new A(t):t,n=e.type;e.target=this;var i,r=this.listeners_[n];if(r){n in this.dispatching_||(this.dispatching_[n]=0,this.pendingRemovals_[n]=0),++this.dispatching_[n];for(var o=0,s=r.length;o<s;++o)if(!1===r[o].call(this,e)||e.propagationStopped){i=!1;break}if(--this.dispatching_[n],0===this.dispatching_[n]){var a=this.pendingRemovals_[n];for(delete this.pendingRemovals_[n];a--;)this.removeEventListener(n,R);delete this.dispatching_[n]}return i}},e.prototype.disposeInternal=function(){!function(t){var e=y(t);if(e)for(var n in e)_(t,n)}(this)},e.prototype.getListeners=function(t){return this.listeners_[t]},e.prototype.hasListener=function(t){return t?t in this.listeners_:Object.keys(this.listeners_).length>0},e.prototype.removeEventListener=function(t,e){var n=this.listeners_[t];if(n){var i=n.indexOf(e);t in this.pendingRemovals_?(n[i]=R,++this.pendingRemovals_[t]):(n.splice(i,1),0===n.length&&delete this.listeners_[t])}},e}(j),k={CHANGE:"change",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",ERROR:"error",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",MOUSEDOWN:"mousedown",MOUSEMOVE:"mousemove",MOUSEOUT:"mouseout",MOUSEUP:"mouseup",MOUSEWHEEL:"mousewheel",MSPOINTERDOWN:"MSPointerDown",RESIZE:"resize",TOUCHSTART:"touchstart",TOUCHMOVE:"touchmove",TOUCHEND:"touchend",WHEEL:"wheel"};var M=function(t){function e(){t.call(this),this.revision_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.changed=function(){++this.revision_,this.dispatchEvent(k.CHANGE)},e.prototype.getRevision=function(){return this.revision_},e.prototype.on=function(t,e){if(Array.isArray(t)){for(var n=t.length,i=new Array(n),r=0;r<n;++r)i[r]=w(this,t[r],e);return i}return w(this,t,e)},e.prototype.once=function(t,e){if(Array.isArray(t)){for(var n=t.length,i=new Array(n),r=0;r<n;++r)i[r]=b(this,t[r],e);return i}return b(this,t,e)},e.prototype.un=function(t,e){if(Array.isArray(t))for(var n=0,i=t.length;n<i;++n)x(this,t[n],e);else x(this,t,e)},e}(L);function P(){return function(){throw new Error("Unimplemented abstract method.")}()}var D=0;function F(t){return t.ol_uid||(t.ol_uid=String(++D))}var N="5.3.3",G=function(t){function e(e){var n="Assertion failed. See https://openlayers.org/en/"+("latest"===N?N:"v"+N.split("-")[0])+"/doc/errors/#"+e+" for details.";t.call(this,n),this.code=e,this.name="AssertionError",this.message=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error),W={ADD:"add",REMOVE:"remove"},B="propertychange",z=function(t){function e(e,n,i){t.call(this,e),this.key=n,this.oldValue=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(A),U={};function Y(t){return U.hasOwnProperty(t)?U[t]:U[t]="change:"+t}var V=function(t){function e(e){t.call(this),F(this),this.values_={},void 0!==e&&this.setProperties(e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){var e;return this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e},e.prototype.getKeys=function(){return Object.keys(this.values_)},e.prototype.getProperties=function(){return f({},this.values_)},e.prototype.notify=function(t,e){var n;n=Y(t),this.dispatchEvent(new z(n,t,e)),n=B,this.dispatchEvent(new z(n,t,e))},e.prototype.set=function(t,e,n){if(n)this.values_[t]=e;else{var i=this.values_[t];this.values_[t]=e,i!==e&&this.notify(t,i)}},e.prototype.setProperties=function(t,e){for(var n in t)this.set(n,t[n],e)},e.prototype.unset=function(t,e){if(t in this.values_){var n=this.values_[t];delete this.values_[t],e||this.notify(t,n)}},e}(M),X="length",H=function(t){function e(e,n){t.call(this,e),this.element=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(A),Z=function(t){function e(e,n){t.call(this);var i=n||{};if(this.unique_=!!i.unique,this.array_=e||[],this.unique_)for(var r=0,o=this.array_.length;r<o;++r)this.assertUnique_(this.array_[r],r);this.updateLength_()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},e.prototype.extend=function(t){for(var e=0,n=t.length;e<n;++e)this.push(t[e]);return this},e.prototype.forEach=function(t){for(var e=this.array_,n=0,i=e.length;n<i;++n)t(e[n],n,e)},e.prototype.getArray=function(){return this.array_},e.prototype.item=function(t){return this.array_[t]},e.prototype.getLength=function(){return this.get(X)},e.prototype.insertAt=function(t,e){this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new H(W.ADD,e))},e.prototype.pop=function(){return this.removeAt(this.getLength()-1)},e.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var e=this.getLength();return this.insertAt(e,t),this.getLength()},e.prototype.remove=function(t){for(var e=this.array_,n=0,i=e.length;n<i;++n)if(e[n]===t)return this.removeAt(n)},e.prototype.removeAt=function(t){var e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new H(W.REMOVE,e)),e},e.prototype.setAt=function(t,e){var n=this.getLength();if(t<n){this.unique_&&this.assertUnique_(e,t);var i=this.array_[t];this.array_[t]=e,this.dispatchEvent(new H(W.REMOVE,i)),this.dispatchEvent(new H(W.ADD,e))}else{for(var r=n;r<t;++r)this.insertAt(r,void 0);this.insertAt(t,e)}},e.prototype.updateLength_=function(){this.set(X,this.array_.length)},e.prototype.assertUnique_=function(t,e){for(var n=0,i=this.array_.length;n<i;++n)if(this.array_[n]===t&&n!==e)throw new G(58)},e}(V),K=function(t){function e(e,n,i){t.call(this,e),this.map=n,this.frameState=void 0!==i?i:null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(A),q=function(t){function e(e,n,i,r,o){t.call(this,e,n,o),this.originalEvent=i,this.pixel=n.getEventPixel(i),this.coordinate=n.getCoordinateFromPixel(this.pixel),this.dragging=void 0!==r&&r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.preventDefault=function(){t.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){t.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()},e}(K),J=["experimental-webgl","webgl","webkit-3d","moz-webgl"];var Q;if("undefined"!=typeof window&&"WebGLRenderingContext"in window)try{var $=function(t,e){for(var n=J.length,i=0;i<n;++i)try{var r=t.getContext(J[i],e);if(r)return r}catch(t){}return null}(document.createElement("canvas"),{failIfMajorPerformanceCaveat:!0});$&&(!0,Q=$.getParameter($.MAX_TEXTURE_SIZE),$.getSupportedExtensions())}catch(t){}var tt="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"",et=-1!==tt.indexOf("firefox"),nt=-1!==tt.indexOf("safari")&&-1==tt.indexOf("chrom"),it=-1!==tt.indexOf("webkit")&&-1==tt.indexOf("edge"),rt=-1!==tt.indexOf("macintosh"),ot=window.devicePixelRatio||1,st=function(){var t=!1;try{t=!!document.createElement("canvas").getContext("2d").setLineDash}catch(t){}return t}(),at=(navigator,"ontouchstart"in window),ut="PointerEvent"in window,lt=!!navigator.msPointerEnabled,ct={SINGLECLICK:"singleclick",CLICK:k.CLICK,DBLCLICK:k.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},ht=function(t){function e(e,n,i,r,o){t.call(this,e,n,i.originalEvent,r,o),this.pointerEvent=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(q),ft={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},pt=function(t,e){this.dispatcher=t,this.mapping_=e};pt.prototype.getEvents=function(){return Object.keys(this.mapping_)},pt.prototype.getHandlerForEvent=function(t){return this.mapping_[t]};var dt=pt,vt=1,gt="mouse";function mt(t){if(!this.isEventSimulatedFromTouch_(t)){vt.toString()in this.pointerMap&&this.cancel(t);var e=xt(t,this.dispatcher);this.pointerMap[vt.toString()]=t,this.dispatcher.down(e,t)}}function yt(t){if(!this.isEventSimulatedFromTouch_(t)){var e=xt(t,this.dispatcher);this.dispatcher.move(e,t)}}function _t(t){if(!this.isEventSimulatedFromTouch_(t)){var e=this.pointerMap[vt.toString()];if(e&&e.button===t.button){var n=xt(t,this.dispatcher);this.dispatcher.up(n,t),this.cleanupMouse()}}}function wt(t){if(!this.isEventSimulatedFromTouch_(t)){var e=xt(t,this.dispatcher);this.dispatcher.enterOver(e,t)}}function bt(t){if(!this.isEventSimulatedFromTouch_(t)){var e=xt(t,this.dispatcher);this.dispatcher.leaveOut(e,t)}}function xt(t,e){var n=e.cloneEvent(t,t),i=n.preventDefault;return n.preventDefault=function(){t.preventDefault(),i()},n.pointerId=vt,n.isPrimary=!0,n.pointerType=gt,n}var Et=function(t){function e(e){var n={mousedown:mt,mousemove:yt,mouseup:_t,mouseover:wt,mouseout:bt};t.call(this,e,n),this.pointerMap=e.pointerMap,this.lastTouches=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isEventSimulatedFromTouch_=function(t){for(var e=this.lastTouches,n=t.clientX,i=t.clientY,r=0,o=e.length,s=void 0;r<o&&(s=e[r]);r++){var a=Math.abs(n-s[0]),u=Math.abs(i-s[1]);if(a<=25&&u<=25)return!0}return!1},e.prototype.cancel=function(t){var e=xt(t,this.dispatcher);this.dispatcher.cancel(e,t),this.cleanupMouse()},e.prototype.cleanupMouse=function(){delete this.pointerMap[vt.toString()]},e}(dt),Ct=["","unavailable","touch","pen","mouse"];function jt(t){this.pointerMap[t.pointerId.toString()]=t;var e=this.prepareEvent_(t);this.dispatcher.down(e,t)}function St(t){var e=this.prepareEvent_(t);this.dispatcher.move(e,t)}function Tt(t){var e=this.prepareEvent_(t);this.dispatcher.up(e,t),this.cleanup(t.pointerId)}function Rt(t){var e=this.prepareEvent_(t);this.dispatcher.leaveOut(e,t)}function It(t){var e=this.prepareEvent_(t);this.dispatcher.enterOver(e,t)}function Ot(t){var e=this.prepareEvent_(t);this.dispatcher.cancel(e,t),this.cleanup(t.pointerId)}function At(t){var e=this.dispatcher.makeEvent("lostpointercapture",t,t);this.dispatcher.dispatchEvent(e)}function Lt(t){var e=this.dispatcher.makeEvent("gotpointercapture",t,t);this.dispatcher.dispatchEvent(e)}var kt=function(t){function e(e){var n={MSPointerDown:jt,MSPointerMove:St,MSPointerUp:Tt,MSPointerOut:Rt,MSPointerOver:It,MSPointerCancel:Ot,MSGotPointerCapture:Lt,MSLostPointerCapture:At};t.call(this,e,n),this.pointerMap=e.pointerMap}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.prepareEvent_=function(t){var e=t;return"number"==typeof t.pointerType&&((e=this.dispatcher.cloneEvent(t,t)).pointerType=Ct[t.pointerType]),e},e.prototype.cleanup=function(t){delete this.pointerMap[t.toString()]},e}(dt);function Mt(t){this.dispatcher.fireNativeEvent(t)}function Pt(t){this.dispatcher.fireNativeEvent(t)}function Dt(t){this.dispatcher.fireNativeEvent(t)}function Ft(t){this.dispatcher.fireNativeEvent(t)}function Nt(t){this.dispatcher.fireNativeEvent(t)}function Gt(t){this.dispatcher.fireNativeEvent(t)}function Wt(t){this.dispatcher.fireNativeEvent(t)}function Bt(t){this.dispatcher.fireNativeEvent(t)}var zt=function(t){function e(e){var n={pointerdown:Mt,pointermove:Pt,pointerup:Dt,pointerout:Ft,pointerover:Nt,pointercancel:Gt,gotpointercapture:Bt,lostpointercapture:Wt};t.call(this,e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(dt),Ut=!1,Yt=function(t){function e(e,n,i){t.call(this,e),this.originalEvent=n;var r=i||{};this.buttons=function(t){var e;if(t.buttons||Ut)e=t.buttons;else switch(t.which){case 1:e=1;break;case 2:e=4;break;case 3:e=2;break;default:e=0}return e}(r),this.pressure=function(t,e){var n=0;n=t.pressure?t.pressure:e?.5:0;return n}(r,this.buttons),this.bubbles="bubbles"in r&&r.bubbles,this.cancelable="cancelable"in r&&r.cancelable,this.view="view"in r?r.view:null,this.detail="detail"in r?r.detail:null,this.screenX="screenX"in r?r.screenX:0,this.screenY="screenY"in r?r.screenY:0,this.clientX="clientX"in r?r.clientX:0,this.clientY="clientY"in r?r.clientY:0,this.ctrlKey="ctrlKey"in r&&r.ctrlKey,this.altKey="altKey"in r&&r.altKey,this.shiftKey="shiftKey"in r&&r.shiftKey,this.metaKey="metaKey"in r&&r.metaKey,this.button="button"in r?r.button:0,this.relatedTarget="relatedTarget"in r?r.relatedTarget:null,this.pointerId="pointerId"in r?r.pointerId:0,this.width="width"in r?r.width:0,this.height="height"in r?r.height:0,this.tiltX="tiltX"in r?r.tiltX:0,this.tiltY="tiltY"in r?r.tiltY:0,this.pointerType="pointerType"in r?r.pointerType:"",this.hwTimestamp="hwTimestamp"in r?r.hwTimestamp:0,this.isPrimary="isPrimary"in r&&r.isPrimary,n.preventDefault&&(this.preventDefault=function(){n.preventDefault()})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(A);!function(){try{var t=new MouseEvent("click",{buttons:1});Ut=1===t.buttons}catch(t){}}();var Vt=Yt;function Xt(t,e){return t>e?1:t<e?-1:0}function Ht(t,e){return t.indexOf(e)>=0}function Zt(t,e,n){var i,r=t.length;if(t[0]<=e)return 0;if(e<=t[r-1])return r-1;if(n>0){for(i=1;i<r;++i)if(t[i]<e)return i-1}else if(n<0){for(i=1;i<r;++i)if(t[i]<=e)return i}else for(i=1;i<r;++i){if(t[i]==e)return i;if(t[i]<e)return t[i-1]-e<e-t[i]?i-1:i}return r-1}function Kt(t,e,n){for(;e<n;){var i=t[e];t[e]=t[n],t[n]=i,++e,--n}}function qt(t,e){for(var n=Array.isArray(e)?e:[e],i=n.length,r=0;r<i;r++)t[t.length]=n[r]}function Jt(t,e){var n=t.length;if(n!==e.length)return!1;for(var i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}function Qt(t){this.vacuumTouches_(t),this.setPrimaryTouch_(t.changedTouches[0]),this.dedupSynthMouse_(t),this.clickCount_++,this.processTouches_(t,this.overDown_)}function $t(t){this.processTouches_(t,this.moveOverOut_)}function te(t){this.dedupSynthMouse_(t),this.processTouches_(t,this.upOut_)}function ee(t){this.processTouches_(t,this.cancelOut_)}var ne=function(t){function e(e,n){var i={touchstart:Qt,touchmove:$t,touchend:te,touchcancel:ee};t.call(this,e,i),this.pointerMap=e.pointerMap,this.mouseSource=n,this.firstTouchId_=void 0,this.clickCount_=0,this.resetId_,this.dedupTimeout_=2500}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isPrimaryTouch_=function(t){return this.firstTouchId_===t.identifier},e.prototype.setPrimaryTouch_=function(t){var e=Object.keys(this.pointerMap).length;(0===e||1===e&&vt.toString()in this.pointerMap)&&(this.firstTouchId_=t.identifier,this.cancelResetClickCount_())},e.prototype.removePrimaryPointer_=function(t){t.isPrimary&&(this.firstTouchId_=void 0,this.resetClickCount_())},e.prototype.resetClickCount_=function(){this.resetId_=setTimeout(this.resetClickCountHandler_.bind(this),200)},e.prototype.resetClickCountHandler_=function(){this.clickCount_=0,this.resetId_=void 0},e.prototype.cancelResetClickCount_=function(){void 0!==this.resetId_&&clearTimeout(this.resetId_)},e.prototype.touchToPointer_=function(t,e){var n=this.dispatcher.cloneEvent(t,e);return n.pointerId=e.identifier+2,n.bubbles=!0,n.cancelable=!0,n.detail=this.clickCount_,n.button=0,n.buttons=1,n.width=e.radiusX||0,n.height=e.radiusY||0,n.pressure=e.force||.5,n.isPrimary=this.isPrimaryTouch_(e),n.pointerType="touch",n.clientX=e.clientX,n.clientY=e.clientY,n.screenX=e.screenX,n.screenY=e.screenY,n},e.prototype.processTouches_=function(t,e){var n=Array.prototype.slice.call(t.changedTouches),i=n.length;function r(){t.preventDefault()}for(var o=0;o<i;++o){var s=this.touchToPointer_(t,n[o]);s.preventDefault=r,e.call(this,t,s)}},e.prototype.findTouch_=function(t,e){for(var n=t.length,i=0;i<n;i++){if(t[i].identifier===e)return!0}return!1},e.prototype.vacuumTouches_=function(t){var e=t.touches,n=Object.keys(this.pointerMap),i=n.length;if(i>=e.length){for(var r=[],o=0;o<i;++o){var s=Number(n[o]),a=this.pointerMap[s];s==vt||this.findTouch_(e,s-2)||r.push(a.out)}for(var u=0;u<r.length;++u)this.cancelOut_(t,r[u])}},e.prototype.overDown_=function(t,e){this.pointerMap[e.pointerId]={target:e.target,out:e,outTarget:e.target},this.dispatcher.over(e,t),this.dispatcher.enter(e,t),this.dispatcher.down(e,t)},e.prototype.moveOverOut_=function(t,e){var n=e,i=this.pointerMap[n.pointerId];if(i){var r=i.out,o=i.outTarget;this.dispatcher.move(n,t),r&&o!==n.target&&(r.relatedTarget=n.target,n.relatedTarget=o,r.target=o,n.target?(this.dispatcher.leaveOut(r,t),this.dispatcher.enterOver(n,t)):(n.target=o,n.relatedTarget=null,this.cancelOut_(t,n))),i.out=n,i.outTarget=n.target}},e.prototype.upOut_=function(t,e){this.dispatcher.up(e,t),this.dispatcher.out(e,t),this.dispatcher.leave(e,t),this.cleanUpPointer_(e)},e.prototype.cancelOut_=function(t,e){this.dispatcher.cancel(e,t),this.dispatcher.out(e,t),this.dispatcher.leave(e,t),this.cleanUpPointer_(e)},e.prototype.cleanUpPointer_=function(t){delete this.pointerMap[t.pointerId],this.removePrimaryPointer_(t)},e.prototype.dedupSynthMouse_=function(t){var e=this.mouseSource.lastTouches,n=t.changedTouches[0];if(this.isPrimaryTouch_(n)){var i=[n.clientX,n.clientY];e.push(i),setTimeout(function(){var t,n,r;n=i,r=(t=e).indexOf(n),r>-1&&t.splice(r,1)},this.dedupTimeout_)}},e}(dt),ie=[["bubbles",!1],["cancelable",!1],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",!1],["altKey",!1],["shiftKey",!1],["metaKey",!1],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",!1],["type",""],["target",null],["currentTarget",null],["which",0]],re=function(t){function e(e){t.call(this),this.element_=e,this.pointerMap={},this.eventMap_={},this.eventSourceList_=[],this.registerSources()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.registerSources=function(){if(ut)this.registerSource("native",new zt(this));else if(lt)this.registerSource("ms",new kt(this));else{var t=new Et(this);this.registerSource("mouse",t),at&&this.registerSource("touch",new ne(this,t))}this.register_()},e.prototype.registerSource=function(t,e){var n=e,i=n.getEvents();i&&(i.forEach(function(t){var e=n.getHandlerForEvent(t);e&&(this.eventMap_[t]=e.bind(n))}.bind(this)),this.eventSourceList_.push(n))},e.prototype.register_=function(){for(var t=this.eventSourceList_.length,e=0;e<t;e++){var n=this.eventSourceList_[e];this.addEvents_(n.getEvents())}},e.prototype.unregister_=function(){for(var t=this.eventSourceList_.length,e=0;e<t;e++){var n=this.eventSourceList_[e];this.removeEvents_(n.getEvents())}},e.prototype.eventHandler_=function(t){var e=t.type,n=this.eventMap_[e];n&&n(t)},e.prototype.addEvents_=function(t){t.forEach(function(t){w(this.element_,t,this.eventHandler_,this)}.bind(this))},e.prototype.removeEvents_=function(t){t.forEach(function(t){x(this.element_,t,this.eventHandler_,this)}.bind(this))},e.prototype.cloneEvent=function(t,e){for(var n={},i=0,r=ie.length;i<r;i++){var o=ie[i][0];n[o]=t[o]||e[o]||ie[i][1]}return n},e.prototype.down=function(t,e){this.fireEvent(ft.POINTERDOWN,t,e)},e.prototype.move=function(t,e){this.fireEvent(ft.POINTERMOVE,t,e)},e.prototype.up=function(t,e){this.fireEvent(ft.POINTERUP,t,e)},e.prototype.enter=function(t,e){t.bubbles=!1,this.fireEvent(ft.POINTERENTER,t,e)},e.prototype.leave=function(t,e){t.bubbles=!1,this.fireEvent(ft.POINTERLEAVE,t,e)},e.prototype.over=function(t,e){t.bubbles=!0,this.fireEvent(ft.POINTEROVER,t,e)},e.prototype.out=function(t,e){t.bubbles=!0,this.fireEvent(ft.POINTEROUT,t,e)},e.prototype.cancel=function(t,e){this.fireEvent(ft.POINTERCANCEL,t,e)},e.prototype.leaveOut=function(t,e){this.out(t,e),this.contains_(t.target,t.relatedTarget)||this.leave(t,e)},e.prototype.enterOver=function(t,e){this.over(t,e),this.contains_(t.target,t.relatedTarget)||this.enter(t,e)},e.prototype.contains_=function(t,e){return!(!t||!e)&&t.contains(e)},e.prototype.makeEvent=function(t,e,n){return new Vt(t,n,e)},e.prototype.fireEvent=function(t,e,n){var i=this.makeEvent(t,e,n);this.dispatchEvent(i)},e.prototype.fireNativeEvent=function(t){var e=this.makeEvent(t.type,t,t);this.dispatchEvent(e)},e.prototype.wrapMouseEvent=function(t,e){return this.makeEvent(t,xt(e,this),e)},e.prototype.disposeInternal=function(){this.unregister_(),t.prototype.disposeInternal.call(this)},e}(L),oe=function(t){function e(e,n){t.call(this),this.map_=e,this.clickTimeoutId_,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=n?n*ot:ot,this.down_=null;var i=this.map_.getViewport();this.activePointers_=0,this.trackedTouches_={},this.pointerEventHandler_=new re(i),this.documentPointerEventHandler_=null,this.pointerdownListenerKey_=w(this.pointerEventHandler_,ft.POINTERDOWN,this.handlePointerDown_,this),this.relayedListenerKey_=w(this.pointerEventHandler_,ft.POINTERMOVE,this.relayEvent_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.emulateClick_=function(t){var e=new ht(ct.CLICK,this.map_,t);this.dispatchEvent(e),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,e=new ht(ct.DBLCLICK,this.map_,t),this.dispatchEvent(e)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var e=new ht(ct.SINGLECLICK,this.map_,t);this.dispatchEvent(e)}.bind(this),250)},e.prototype.updateActivePointers_=function(t){var e=t;e.type==ct.POINTERUP||e.type==ct.POINTERCANCEL?delete this.trackedTouches_[e.pointerId]:e.type==ct.POINTERDOWN&&(this.trackedTouches_[e.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},e.prototype.handlePointerUp_=function(t){this.updateActivePointers_(t);var e=new ht(ct.POINTERUP,this.map_,t);this.dispatchEvent(e),e.propagationStopped||this.dragging_||!this.isMouseActionButton_(t)||this.emulateClick_(this.down_),0===this.activePointers_&&(this.dragListenerKeys_.forEach(E),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null,this.documentPointerEventHandler_.dispose(),this.documentPointerEventHandler_=null)},e.prototype.isMouseActionButton_=function(t){return 0===t.button},e.prototype.handlePointerDown_=function(t){this.updateActivePointers_(t);var e=new ht(ct.POINTERDOWN,this.map_,t);this.dispatchEvent(e),this.down_=t,0===this.dragListenerKeys_.length&&(this.documentPointerEventHandler_=new re(document),this.dragListenerKeys_.push(w(this.documentPointerEventHandler_,ct.POINTERMOVE,this.handlePointerMove_,this),w(this.documentPointerEventHandler_,ct.POINTERUP,this.handlePointerUp_,this),w(this.pointerEventHandler_,ct.POINTERCANCEL,this.handlePointerUp_,this)))},e.prototype.handlePointerMove_=function(t){if(this.isMoving_(t)){this.dragging_=!0;var e=new ht(ct.POINTERDRAG,this.map_,t,this.dragging_);this.dispatchEvent(e)}t.preventDefault()},e.prototype.relayEvent_=function(t){var e=!(!this.down_||!this.isMoving_(t));this.dispatchEvent(new ht(t.type,this.map_,t,e))},e.prototype.isMoving_=function(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_},e.prototype.disposeInternal=function(){this.relayedListenerKey_&&(E(this.relayedListenerKey_),this.relayedListenerKey_=null),this.pointerdownListenerKey_&&(E(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(E),this.dragListenerKeys_.length=0,this.documentPointerEventHandler_&&(this.documentPointerEventHandler_.dispose(),this.documentPointerEventHandler_=null),this.pointerEventHandler_&&(this.pointerEventHandler_.dispose(),this.pointerEventHandler_=null),t.prototype.disposeInternal.call(this)},e}(L),se="postrender",ae="movestart",ue="moveend",le={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},ce={POSTCOMPOSE:"postcompose",PRECOMPOSE:"precompose",RENDER:"render",RENDERCOMPLETE:"rendercomplete"},he={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4,ABORT:5};function fe(t,e){if(!t)throw new G(e)}var pe=function(t,e){this.priorityFunction_=t,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}};pe.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,p(this.queuedElements_)},pe.prototype.dequeue=function(){var t=this.elements_,e=this.priorities_,n=t[0];1==t.length?(t.length=0,e.length=0):(t[0]=t.pop(),e[0]=e.pop(),this.siftUp_(0));var i=this.keyFunction_(n);return delete this.queuedElements_[i],n},pe.prototype.enqueue=function(t){fe(!(this.keyFunction_(t)in this.queuedElements_),31);var e=this.priorityFunction_(t);return e!=1/0&&(this.elements_.push(t),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0)},pe.prototype.getCount=function(){return this.elements_.length},pe.prototype.getLeftChildIndex_=function(t){return 2*t+1},pe.prototype.getRightChildIndex_=function(t){return 2*t+2},pe.prototype.getParentIndex_=function(t){return t-1>>1},pe.prototype.heapify_=function(){var t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)},pe.prototype.isEmpty=function(){return 0===this.elements_.length},pe.prototype.isKeyQueued=function(t){return t in this.queuedElements_},pe.prototype.isQueued=function(t){return this.isKeyQueued(this.keyFunction_(t))},pe.prototype.siftUp_=function(t){for(var e=this.elements_,n=this.priorities_,i=e.length,r=e[t],o=n[t],s=t;t<i>>1;){var a=this.getLeftChildIndex_(t),u=this.getRightChildIndex_(t),l=u<i&&n[u]<n[a]?u:a;e[t]=e[l],n[t]=n[l],t=l}e[t]=r,n[t]=o,this.siftDown_(s,t)},pe.prototype.siftDown_=function(t,e){for(var n=this.elements_,i=this.priorities_,r=n[e],o=i[e];e>t;){var s=this.getParentIndex_(e);if(!(i[s]>o))break;n[e]=n[s],i[e]=i[s],e=s}n[e]=r,i[e]=o},pe.prototype.reprioritize=function(){var t,e,n,i=this.priorityFunction_,r=this.elements_,o=this.priorities_,s=0,a=r.length;for(e=0;e<a;++e)(n=i(t=r[e]))==1/0?delete this.queuedElements_[this.keyFunction_(t)]:(o[s]=n,r[s++]=t);r.length=s,o.length=s,this.heapify_()};var de=function(t){function e(e,n){t.call(this,function(t){return e.apply(null,t)},function(t){return t[0].getKey()}),this.tileChangeCallback_=n,this.tilesLoading_=0,this.tilesLoadingKeys_={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.enqueue=function(e){var n=t.prototype.enqueue.call(this,e);n&&w(e[0],k.CHANGE,this.handleTileChange,this);return n},e.prototype.getTilesLoading=function(){return this.tilesLoading_},e.prototype.handleTileChange=function(t){var e=t.target,n=e.getState();if(n===he.LOADED||n===he.ERROR||n===he.EMPTY||n===he.ABORT){x(e,k.CHANGE,this.handleTileChange,this);var i=e.getKey();i in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[i],--this.tilesLoading_),this.tileChangeCallback_()}},e.prototype.loadMoreTiles=function(t,e){for(var n,i,r,o=0,s=!1;this.tilesLoading_<t&&o<e&&this.getCount()>0;)r=(i=this.dequeue()[0]).getKey(),(n=i.getState())===he.ABORT?s=!0:n!==he.IDLE||r in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[r]=!0,++this.tilesLoading_,++o,i.load());0===o&&s&&this.tileChangeCallback_()},e}(pe),ve=256;function ge(t,e,n){return Math.min(Math.max(t,e),n)}var me="cosh"in Math?Math.cosh:function(t){var e=Math.exp(t);return(e+1/e)/2};function ye(t,e,n,i,r,o){var s=r-n,a=o-i;if(0!==s||0!==a){var u=((t-n)*s+(e-i)*a)/(s*s+a*a);u>1?(n=r,i=o):u>0&&(n+=s*u,i+=a*u)}return _e(t,e,n,i)}function _e(t,e,n,i){var r=n-t,o=i-e;return r*r+o*o}function we(t){return t*Math.PI/180}function be(t,e){var n=t%e;return n*e<0?n+e:n}function xe(t,e,n){return t+n*(e-t)}function Ee(t){return t}function Ce(t,e){return void 0!==t?0:void 0}function je(t,e){return void 0!==t?t+e:void 0}var Se=0,Te=1,Re="center",Ie="resolution",Oe="rotation";function Ae(t,e){return t[0]+=e[0],t[1]+=e[1],t}function Le(t,e){for(var n=!0,i=t.length-1;i>=0;--i)if(t[i]!=e[i]){n=!1;break}return n}function ke(t,e){var n=Math.cos(e),i=Math.sin(e),r=t[0]*n-t[1]*i,o=t[1]*n+t[0]*i;return t[0]=r,t[1]=o,t}function Me(t,e){return t[0]*=e,t[1]*=e,t}function Pe(t){return Math.pow(t,3)}function De(t){return 1-Pe(1-t)}function Fe(t){return 3*t*t-2*t*t*t}function Ne(t){return t}var Ge={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function We(t){for(var e=Ze(),n=0,i=t.length;n<i;++n)en(e,t[n]);return e}function Be(t,e,n){return n?(n[0]=t[0]-e,n[1]=t[1]-e,n[2]=t[2]+e,n[3]=t[3]+e,n):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function ze(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function Ue(t,e,n){var i,r;return(i=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0)*i+(r=n<t[1]?t[1]-n:t[3]<n?n-t[3]:0)*r}function Ye(t,e){return Xe(t,e[0],e[1])}function Ve(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function Xe(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}function He(t,e){var n=t[0],i=t[1],r=t[2],o=t[3],s=e[0],a=e[1],u=Ge.UNKNOWN;return s<n?u|=Ge.LEFT:s>r&&(u|=Ge.RIGHT),a<i?u|=Ge.BELOW:a>o&&(u|=Ge.ABOVE),u===Ge.UNKNOWN&&(u=Ge.INTERSECTING),u}function Ze(){return[1/0,1/0,-1/0,-1/0]}function Ke(t,e,n,i,r){return r?(r[0]=t,r[1]=e,r[2]=n,r[3]=i,r):[t,e,n,i]}function qe(t){return Ke(1/0,1/0,-1/0,-1/0,t)}function Je(t,e){var n=t[0],i=t[1];return Ke(n,i,n,i,e)}function Qe(t,e,n,i,r){return rn(qe(r),t,e,n,i)}function $e(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function tn(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function en(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function nn(t,e){for(var n=0,i=e.length;n<i;++n)en(t,e[n]);return t}function rn(t,e,n,i,r){for(;n<i;n+=r)on(t,e[n],e[n+1]);return t}function on(t,e,n){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],n),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],n)}function sn(t,e,n){var i;return(i=e.call(n,an(t)))?i:(i=e.call(n,un(t)))?i:(i=e.call(n,dn(t)))?i:(i=e.call(n,pn(t)))||!1}function an(t){return[t[0],t[1]]}function un(t){return[t[2],t[1]]}function ln(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function cn(t,e,n,i,r){var o=e*i[0]/2,s=e*i[1]/2,a=Math.cos(n),u=Math.sin(n),l=o*a,c=o*u,h=s*a,f=s*u,p=t[0],d=t[1],v=p-l+f,g=p-l-f,m=p+l-f,y=p+l+f,_=d-c-h,w=d-c+h,b=d+c+h,x=d+c-h;return Ke(Math.min(v,g,m,y),Math.min(_,w,b,x),Math.max(v,g,m,y),Math.max(_,w,b,x),r)}function hn(t){return t[3]-t[1]}function fn(t,e,n){var i=n||[1/0,1/0,-1/0,-1/0];return gn(t,e)?(t[0]>e[0]?i[0]=t[0]:i[0]=e[0],t[1]>e[1]?i[1]=t[1]:i[1]=e[1],t[2]<e[2]?i[2]=t[2]:i[2]=e[2],t[3]<e[3]?i[3]=t[3]:i[3]=e[3]):qe(i),i}function pn(t){return[t[0],t[3]]}function dn(t){return[t[2],t[3]]}function vn(t){return t[2]-t[0]}function gn(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function mn(t){return t[2]<t[0]||t[3]<t[1]}function yn(t,e){var n=(t[2]-t[0])/2*(e-1),i=(t[3]-t[1])/2*(e-1);t[0]-=n,t[2]+=n,t[1]-=i,t[3]+=i}function _n(t,e,n){var i=[t[0],t[1],t[0],t[3],t[2],t[1],t[2],t[3]];return e(i,i,2),function(t,e,n){return Ke(Math.min.apply(null,t),Math.min.apply(null,e),Math.max.apply(null,t),Math.max.apply(null,e),n)}([i[0],i[2],i[4],i[6]],[i[1],i[3],i[5],i[7]],n)}var wn={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"},bn={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"};function xn(t,e,n,i,r,o){for(var s=o||[],a=0,u=e;u<n;u+=i){var l=t[u],c=t[u+1];s[a++]=r[0]*l+r[2]*c+r[4],s[a++]=r[1]*l+r[3]*c+r[5]}return o&&s.length!=a&&(s.length=a),s}
/**
 * @license
 * Latitude/longitude spherical geodesy formulae taken from
 * http://www.movable-type.co.uk/scripts/latlong.html
 * Licensed under CC-BY-3.0.
 */
var En=6371008.8;function Cn(t,e,n){var i=n||En,r=we(t[1]),o=we(e[1]),s=(o-r)/2,a=we(e[0]-t[0])/2,u=Math.sin(s)*Math.sin(s)+Math.sin(a)*Math.sin(a)*Math.cos(r)*Math.cos(o);return 2*i*Math.atan2(Math.sqrt(u),Math.sqrt(1-u))}var jn={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},Sn={};Sn[jn.DEGREES]=2*Math.PI*6370997/360,Sn[jn.FEET]=.3048,Sn[jn.METERS]=1,Sn[jn.USFEET]=1200/3937;var Tn=jn,Rn=function(t){this.code_=t.code,this.units_=t.units,this.extent_=void 0!==t.extent?t.extent:null,this.worldExtent_=void 0!==t.worldExtent?t.worldExtent:null,this.axisOrientation_=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.global_=void 0!==t.global&&t.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit};Rn.prototype.canWrapX=function(){return this.canWrapX_},Rn.prototype.getCode=function(){return this.code_},Rn.prototype.getExtent=function(){return this.extent_},Rn.prototype.getUnits=function(){return this.units_},Rn.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||Sn[this.units_]},Rn.prototype.getWorldExtent=function(){return this.worldExtent_},Rn.prototype.getAxisOrientation=function(){return this.axisOrientation_},Rn.prototype.isGlobal=function(){return this.global_},Rn.prototype.setGlobal=function(t){this.global_=t,this.canWrapX_=!(!t||!this.extent_)},Rn.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},Rn.prototype.setDefaultTileGrid=function(t){this.defaultTileGrid_=t},Rn.prototype.setExtent=function(t){this.extent_=t,this.canWrapX_=!(!this.global_||!t)},Rn.prototype.setWorldExtent=function(t){this.worldExtent_=t},Rn.prototype.setGetPointResolution=function(t){this.getPointResolutionFunc_=t},Rn.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_};var In=Rn,On=6378137,An=Math.PI*On,Ln=[-An,-An,An,An],kn=[-180,-85,180,85],Mn=function(t){function e(e){t.call(this,{code:e,units:Tn.METERS,extent:Ln,global:!0,worldExtent:kn,getPointResolution:function(t,e){return t/me(e[1]/On)}})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(In),Pn=[new Mn("EPSG:3857"),new Mn("EPSG:102100"),new Mn("EPSG:102113"),new Mn("EPSG:900913"),new Mn("urn:ogc:def:crs:EPSG:6.18:3:3857"),new Mn("urn:ogc:def:crs:EPSG::3857"),new Mn("http://www.opengis.net/gml/srs/epsg.xml#3857")];function Dn(t,e,n){var i=t.length,r=n>1?n:2,o=e;void 0===o&&(o=r>2?t.slice():new Array(i));for(var s=An,a=0;a<i;a+=r){o[a]=s*t[a]/180;var u=On*Math.log(Math.tan(Math.PI*(t[a+1]+90)/360));u>s?u=s:u<-s&&(u=-s),o[a+1]=u}return o}function Fn(t,e,n){var i=t.length,r=n>1?n:2,o=e;void 0===o&&(o=r>2?t.slice():new Array(i));for(var s=0;s<i;s+=r)o[s]=180*t[s]/An,o[s+1]=360*Math.atan(Math.exp(t[s+1]/On))/Math.PI-90;return o}var Nn=[-180,-90,180,90],Gn=6378137*Math.PI/180,Wn=function(t){function e(e,n){t.call(this,{code:e,units:Tn.DEGREES,extent:Nn,axisOrientation:n,global:!0,metersPerUnit:Gn,worldExtent:Nn})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(In),Bn=[new Wn("CRS:84"),new Wn("EPSG:4326","neu"),new Wn("urn:ogc:def:crs:EPSG::4326","neu"),new Wn("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new Wn("urn:ogc:def:crs:OGC:1.3:CRS84"),new Wn("urn:ogc:def:crs:OGC:2:84"),new Wn("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Wn("urn:x-ogc:def:crs:EPSG:4326","neu")],zn={};var Un,Yn,Vn,Xn={};function Hn(t,e,n){var i=t.getCode(),r=e.getCode();i in Xn||(Xn[i]={}),Xn[i][r]=n}function Zn(t,e,n){var i;if(void 0!==e){for(var r=0,o=t.length;r<o;++r)e[r]=t[r];i=e}else i=t.slice();return i}function Kn(t,e,n){if(void 0!==e&&t!==e){for(var i=0,r=t.length;i<r;++i)e[i]=t[i];t=e}return t}function qn(t){!function(t,e){zn[t]=e}(t.getCode(),t),Hn(t,t,Zn)}function Jn(t){return"string"==typeof t?zn[t]||null:t||null}function Qn(t,e,n,i){var r,o=(t=Jn(t)).getPointResolutionFunc();if(o)r=o(e,n);else if(t.getUnits()==Tn.DEGREES&&!i||i==Tn.DEGREES)r=e;else{var s=ni(t,Jn("EPSG:4326")),a=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2];r=(Cn((a=s(a,a,2)).slice(0,2),a.slice(2,4))+Cn(a.slice(4,6),a.slice(6,8)))/2;var u=i?Sn[i]:t.getMetersPerUnit();void 0!==u&&(r/=u)}return r}function $n(t){!function(t){t.forEach(qn)}(t),t.forEach(function(e){t.forEach(function(t){e!==t&&Hn(e,t,Zn)})})}function ti(t,e){return t?"string"==typeof t?Jn(t):t:Jn(e)}function ei(t,e){if(t===e)return!0;var n=t.getUnits()===e.getUnits();return t.getCode()===e.getCode()?n:ni(t,e)===Zn&&n}function ni(t,e){var n=function(t,e){var n;return t in Xn&&e in Xn[t]&&(n=Xn[t][e]),n}(t.getCode(),e.getCode());return n||(n=Kn),n}function ii(t,e){return ni(Jn(t),Jn(e))}function ri(t,e,n){return ii(e,n)(t,void 0,t.length)}$n(Pn),$n(Bn),Un=Pn,Yn=Dn,Vn=Fn,Bn.forEach(function(t){Un.forEach(function(e){Hn(t,e,Yn),Hn(e,t,Vn)})});var oi=new Array(6);function si(t){return ui(t,1,0,0,1,0,0)}function ai(t,e){var n=t[0],i=t[1],r=t[2],o=t[3],s=t[4],a=t[5],u=e[0],l=e[1],c=e[2],h=e[3],f=e[4],p=e[5];return t[0]=n*u+r*l,t[1]=i*u+o*l,t[2]=n*c+r*h,t[3]=i*c+o*h,t[4]=n*f+r*p+s,t[5]=i*f+o*p+a,t}function ui(t,e,n,i,r,o,s){return t[0]=e,t[1]=n,t[2]=i,t[3]=r,t[4]=o,t[5]=s,t}function li(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function ci(t,e){var n=e[0],i=e[1];return e[0]=t[0]*n+t[2]*i+t[4],e[1]=t[1]*n+t[3]*i+t[5],e}function hi(t,e,n){return ai(t,ui(oi,e,0,0,n,0,0))}function fi(t,e,n){return ai(t,ui(oi,1,0,0,1,e,n))}function pi(t,e,n,i,r,o,s,a){var u=Math.sin(o),l=Math.cos(o);return t[0]=i*l,t[1]=r*u,t[2]=-i*u,t[3]=r*l,t[4]=s*i*l-a*i*u+e,t[5]=s*r*u+a*r*l+n,t}var di=[1,0,0,1,0,0],vi=function(t){function e(){t.call(this),this.extent_=[1/0,1/0,-1/0,-1/0],this.extentRevision_=-1,this.simplifiedGeometryCache={},this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return P()},e.prototype.closestPointXY=function(t,e,n,i){return P()},e.prototype.containsXY=function(t,e){return!1},e.prototype.getClosestPoint=function(t,e){var n=e||[NaN,NaN];return this.closestPointXY(t[0],t[1],n,1/0),n},e.prototype.intersectsCoordinate=function(t){return this.containsXY(t[0],t[1])},e.prototype.computeExtent=function(t){return P()},e.prototype.getExtent=function(t){return this.extentRevision_!=this.getRevision()&&(this.extent_=this.computeExtent(this.extent_),this.extentRevision_=this.getRevision()),function(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}(this.extent_,t)},e.prototype.rotate=function(t,e){P()},e.prototype.scale=function(t,e,n){P()},e.prototype.simplify=function(t){return this.getSimplifiedGeometry(t*t)},e.prototype.getSimplifiedGeometry=function(t){return P()},e.prototype.getType=function(){return P()},e.prototype.applyTransform=function(t){P()},e.prototype.intersectsExtent=function(t){return P()},e.prototype.translate=function(t,e){P()},e.prototype.transform=function(t,e){var n=Jn(t),i=n.getUnits()==Tn.TILE_PIXELS?function(t,i,r){var o=n.getExtent(),s=n.getWorldExtent(),a=hn(s)/hn(o);return pi(di,s[0],s[3],a,-a,0,0,0),xn(t,0,t.length,r,di,i),ii(n,e)(t,i,r)}:ii(n,e);return this.applyTransform(i),this},e}(V);function gi(t){var e;return t==bn.XY?e=2:t==bn.XYZ||t==bn.XYM?e=3:t==bn.XYZM&&(e=4),e}var mi=function(t){function e(){t.call(this),this.layout=bn.XY,this.stride=2,this.flatCoordinates=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.computeExtent=function(t){return Qe(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinates=function(){return P()},e.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.getFlatCoordinates=function(){return this.flatCoordinates},e.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},e.prototype.getLayout=function(){return this.layout},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!=this.getRevision()&&(p(this.simplifiedGeometryCache),this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var e=t.toString();if(this.simplifiedGeometryCache.hasOwnProperty(e))return this.simplifiedGeometryCache[e];var n=this.getSimplifiedGeometryInternal(t);return n.getFlatCoordinates().length<this.flatCoordinates.length?(this.simplifiedGeometryCache[e]=n,n):(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)},e.prototype.getSimplifiedGeometryInternal=function(t){return this},e.prototype.getStride=function(){return this.stride},e.prototype.setFlatCoordinates=function(t,e){this.stride=gi(t),this.layout=t,this.flatCoordinates=e},e.prototype.setCoordinates=function(t,e){P()},e.prototype.setLayout=function(t,e,n){var i;if(t)i=gi(t);else{for(var r=0;r<n;++r){if(0===e.length)return this.layout=bn.XY,void(this.stride=2);e=e[0]}t=function(t){var e;2==t?e=bn.XY:3==t?e=bn.XYZ:4==t&&(e=bn.XYZM);return e}(i=e.length)}this.layout=t,this.stride=i},e.prototype.applyTransform=function(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},e.prototype.rotate=function(t,e){var n=this.getFlatCoordinates();if(n){var i=this.getStride();!function(t,e,n,i,r,o,s){for(var a=s||[],u=Math.cos(r),l=Math.sin(r),c=o[0],h=o[1],f=0,p=e;p<n;p+=i){var d=t[p]-c,v=t[p+1]-h;a[f++]=c+d*u-v*l,a[f++]=h+d*l+v*u;for(var g=p+2;g<p+i;++g)a[f++]=t[g]}s&&a.length!=f&&(a.length=f)}(n,0,n.length,i,t,e,n),this.changed()}},e.prototype.scale=function(t,e,n){var i=e;void 0===i&&(i=t);var r=n;r||(r=ln(this.getExtent()));var o=this.getFlatCoordinates();if(o){var s=this.getStride();!function(t,e,n,i,r,o,s,a){for(var u=a||[],l=s[0],c=s[1],h=0,f=e;f<n;f+=i){var p=t[f]-l,d=t[f+1]-c;u[h++]=l+r*p,u[h++]=c+o*d;for(var v=f+2;v<f+i;++v)u[h++]=t[v]}a&&u.length!=h&&(u.length=h)}(o,0,o.length,s,t,i,r,o),this.changed()}},e.prototype.translate=function(t,e){var n=this.getFlatCoordinates();if(n){var i=this.getStride();!function(t,e,n,i,r,o,s){for(var a=s||[],u=0,l=e;l<n;l+=i){a[u++]=t[l]+r,a[u++]=t[l+1]+o;for(var c=l+2;c<l+i;++c)a[u++]=t[c]}s&&a.length!=u&&(a.length=u)}(n,0,n.length,i,t,e,n),this.changed()}},e}(vi);function yi(t,e,n,i){for(var r=0,o=t[n-i],s=t[n-i+1];e<n;e+=i){var a=t[e],u=t[e+1];r+=s*a-o*u,o=a,s=u}return r/2}function _i(t,e,n,i){for(var r=0,o=0,s=n.length;o<s;++o){var a=n[o];r+=yi(t,e,a,i),e=a}return r}function wi(t,e,n,i,r,o,s){var a,u=t[e],l=t[e+1],c=t[n]-u,h=t[n+1]-l;if(0===c&&0===h)a=e;else{var f=((r-u)*c+(o-l)*h)/(c*c+h*h);if(f>1)a=n;else{if(f>0){for(var p=0;p<i;++p)s[p]=xe(t[e+p],t[n+p],f);return void(s.length=i)}a=e}}for(var d=0;d<i;++d)s[d]=t[a+d];s.length=i}function bi(t,e,n,i,r){var o=t[e],s=t[e+1];for(e+=i;e<n;e+=i){var a=t[e],u=t[e+1],l=_e(o,s,a,u);l>r&&(r=l),o=a,s=u}return r}function xi(t,e,n,i,r){for(var o=0,s=n.length;o<s;++o){var a=n[o];r=bi(t,e,a,i,r),e=a}return r}function Ei(t,e,n,i,r,o,s,a,u,l,c){if(e==n)return l;var h,f;if(0===r){if((f=_e(s,a,t[e],t[e+1]))<l){for(h=0;h<i;++h)u[h]=t[e+h];return u.length=i,f}return l}for(var p=c||[NaN,NaN],d=e+i;d<n;)if(wi(t,d-i,d,i,s,a,p),(f=_e(s,a,p[0],p[1]))<l){for(l=f,h=0;h<i;++h)u[h]=p[h];u.length=i,d+=i}else d+=i*Math.max((Math.sqrt(f)-Math.sqrt(l))/r|0,1);if(o&&(wi(t,n-i,e,i,s,a,p),(f=_e(s,a,p[0],p[1]))<l)){for(l=f,h=0;h<i;++h)u[h]=p[h];u.length=i}return l}function Ci(t,e,n,i,r,o,s,a,u,l,c){for(var h=c||[NaN,NaN],f=0,p=n.length;f<p;++f){var d=n[f];l=Ei(t,e,d,i,r,o,s,a,u,l,h),e=d}return l}function ji(t,e,n,i){for(var r=0,o=n.length;r<o;++r)t[e++]=n[r];return e}function Si(t,e,n,i){for(var r=0,o=n.length;r<o;++r)for(var s=n[r],a=0;a<i;++a)t[e++]=s[a];return e}function Ti(t,e,n,i,r){for(var o=r||[],s=0,a=0,u=n.length;a<u;++a){var l=Si(t,e,n[a],i);o[s++]=l,e=l}return o.length=s,o}function Ri(t,e,n,i,r){for(var o=void 0!==r?r:[],s=0,a=e;a<n;a+=i)o[s++]=t.slice(a,a+i);return o.length=s,o}function Ii(t,e,n,i,r){for(var o=void 0!==r?r:[],s=0,a=0,u=n.length;a<u;++a){var l=n[a];o[s++]=Ri(t,e,l,i,o[s]),e=l}return o.length=s,o}function Oi(t,e,n,i,r){for(var o=void 0!==r?r:[],s=0,a=0,u=n.length;a<u;++a){var l=n[a];o[s++]=Ii(t,e,l,i,o[s]),e=l[l.length-1]}return o.length=s,o}function Ai(t,e,n,i,r,o,s){var a=(n-e)/i;if(a<3){for(;e<n;e+=i)o[s++]=t[e],o[s++]=t[e+1];return s}var u=new Array(a);u[0]=1,u[a-1]=1;for(var l=[e,n-i],c=0;l.length>0;){for(var h=l.pop(),f=l.pop(),p=0,d=t[f],v=t[f+1],g=t[h],m=t[h+1],y=f+i;y<h;y+=i){var _=ye(t[y],t[y+1],d,v,g,m);_>p&&(c=y,p=_)}p>r&&(u[(c-e)/i]=1,f+i<c&&l.push(f,c),c+i<h&&l.push(c,h))}for(var w=0;w<a;++w)u[w]&&(o[s++]=t[e+w*i],o[s++]=t[e+w*i+1]);return s}function Li(t,e,n,i,r,o,s,a){for(var u=0,l=n.length;u<l;++u){var c=n[u];s=Ai(t,e,c,i,r,o,s),a.push(s),e=c}return s}function ki(t,e){return e*Math.round(t/e)}function Mi(t,e,n,i,r,o,s){if(e==n)return s;var a,u,l=ki(t[e],r),c=ki(t[e+1],r);e+=i,o[s++]=l,o[s++]=c;do{if(a=ki(t[e],r),u=ki(t[e+1],r),(e+=i)==n)return o[s++]=a,o[s++]=u,s}while(a==l&&u==c);for(;e<n;){var h=ki(t[e],r),f=ki(t[e+1],r);if(e+=i,h!=a||f!=u){var p=a-l,d=u-c,v=h-l,g=f-c;p*g==d*v&&(p<0&&v<p||p==v||p>0&&v>p)&&(d<0&&g<d||d==g||d>0&&g>d)?(a=h,u=f):(o[s++]=a,o[s++]=u,l=a,c=u,a=h,u=f)}}return o[s++]=a,o[s++]=u,s}function Pi(t,e,n,i,r,o,s,a){for(var u=0,l=n.length;u<l;++u){var c=n[u];s=Mi(t,e,c,i,r,o,s),a.push(s),e=c}return s}var Di=function(t){function e(e,n){t.call(this),this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===n||Array.isArray(e[0])?this.setCoordinates(e,n):this.setFlatCoordinates(n,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,i){return i<Ue(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(bi(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Ei(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,e,n,i))},e.prototype.getArea=function(){return yi(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinates=function(){return Ri(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[];return n.length=Ai(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new e(n,bn.XY)},e.prototype.getType=function(){return wn.LINEAR_RING},e.prototype.intersectsExtent=function(t){return!1},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Si(this.flatCoordinates,0,t,this.stride),this.changed()},e}(mi),Fi=function(t){function e(e,n){t.call(this),this.setCoordinates(e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,i){var r=this.flatCoordinates,o=_e(t,e,r[0],r[1]);if(o<i){for(var s=this.stride,a=0;a<s;++a)n[a]=r[a];return n.length=s,o}return i},e.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},e.prototype.computeExtent=function(t){return Je(this.flatCoordinates,t)},e.prototype.getType=function(){return wn.POINT},e.prototype.intersectsExtent=function(t){return Xe(t,this.flatCoordinates[0],this.flatCoordinates[1])},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=ji(this.flatCoordinates,0,t,this.stride),this.changed()},e}(mi);function Ni(t,e,n,i,r){return!sn(r,function(r){return!Gi(t,e,n,i,r[0],r[1])})}function Gi(t,e,n,i,r,o){for(var s=0,a=t[n-i],u=t[n-i+1];e<n;e+=i){var l=t[e],c=t[e+1];u<=o?c>o&&(l-a)*(o-u)-(r-a)*(c-u)>0&&s++:c<=o&&(l-a)*(o-u)-(r-a)*(c-u)<0&&s--,a=l,u=c}return 0!==s}function Wi(t,e,n,i,r,o){if(0===n.length)return!1;if(!Gi(t,e,n[0],i,r,o))return!1;for(var s=1,a=n.length;s<a;++s)if(Gi(t,n[s-1],n[s],i,r,o))return!1;return!0}function Bi(t,e,n,i,r,o,s){for(var a,u,l,c,h,f,p,d=r[o+1],v=[],g=0,m=n.length;g<m;++g){var y=n[g];for(c=t[y-i],f=t[y-i+1],a=e;a<y;a+=i)h=t[a],p=t[a+1],(d<=f&&p<=d||f<=d&&d<=p)&&(l=(d-f)/(p-f)*(h-c)+c,v.push(l)),c=h,f=p}var _=NaN,w=-1/0;for(v.sort(Xt),c=v[0],a=1,u=v.length;a<u;++a){h=v[a];var b=Math.abs(h-c);b>w&&Wi(t,e,n,i,l=(c+h)/2,d)&&(_=l,w=b),c=h}return isNaN(_)&&(_=r[o]),s?(s.push(_,d,w),s):[_,d,w]}function zi(t,e,n,i,r,o){for(var s,a=[t[e],t[e+1]],u=[];e+i<n;e+=i){if(u[0]=t[e+i],u[1]=t[e+i+1],s=r.call(o,a,u))return s;a[0]=u[0],a[1]=u[1]}return!1}function Ui(t,e,n,i,r){var o=rn([1/0,1/0,-1/0,-1/0],t,e,n,i);return!!gn(r,o)&&(!!Ve(r,o)||(o[0]>=r[0]&&o[2]<=r[2]||(o[1]>=r[1]&&o[3]<=r[3]||zi(t,e,n,i,function(t,e){return function(t,e,n){var i=!1,r=He(t,e),o=He(t,n);if(r===Ge.INTERSECTING||o===Ge.INTERSECTING)i=!0;else{var s,a,u=t[0],l=t[1],c=t[2],h=t[3],f=e[0],p=e[1],d=n[0],v=n[1],g=(v-p)/(d-f);o&Ge.ABOVE&&!(r&Ge.ABOVE)&&(i=(s=d-(v-h)/g)>=u&&s<=c),i||!(o&Ge.RIGHT)||r&Ge.RIGHT||(i=(a=v-(d-c)*g)>=l&&a<=h),i||!(o&Ge.BELOW)||r&Ge.BELOW||(i=(s=d-(v-l)/g)>=u&&s<=c),i||!(o&Ge.LEFT)||r&Ge.LEFT||(i=(a=v-(d-u)*g)>=l&&a<=h)}return i}(r,t,e)}))))}function Yi(t,e,n,i,r){if(!function(t,e,n,i,r){return!!(Ui(t,e,n,i,r)||Gi(t,e,n,i,r[0],r[1])||Gi(t,e,n,i,r[0],r[3])||Gi(t,e,n,i,r[2],r[1])||Gi(t,e,n,i,r[2],r[3]))}(t,e,n[0],i,r))return!1;if(1===n.length)return!0;for(var o=1,s=n.length;o<s;++o)if(Ni(t,n[o-1],n[o],i,r)&&!Ui(t,n[o-1],n[o],i,r))return!1;return!0}function Vi(t,e,n,i){for(;e<n-i;){for(var r=0;r<i;++r){var o=t[e+r];t[e+r]=t[n-i+r],t[n-i+r]=o}e+=i,n-=i}}function Xi(t,e,n,i){for(var r=0,o=t[n-i],s=t[n-i+1];e<n;e+=i){var a=t[e],u=t[e+1];r+=(a-o)*(u+s),o=a,s=u}return r>0}function Hi(t,e,n,i,r){for(var o=void 0!==r&&r,s=0,a=n.length;s<a;++s){var u=n[s],l=Xi(t,e,u,i);if(0===s){if(o&&l||!o&&!l)return!1}else if(o&&!l||!o&&l)return!1;e=u}return!0}function Zi(t,e,n,i,r){for(var o=void 0!==r&&r,s=0,a=n.length;s<a;++s){var u=n[s],l=Xi(t,e,u,i);(0===s?o&&l||!o&&!l:o&&!l||!o&&l)&&Vi(t,e,u,i),e=u}return e}function Ki(t,e,n,i,r){for(var o=0,s=n.length;o<s;++o)e=Zi(t,e,n[o],i,r);return e}var qi=function(t){function e(e,n,i){t.call(this),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,void 0!==n&&i?(this.setFlatCoordinates(n,e),this.ends_=i):this.setCoordinates(e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.appendLinearRing=function(t){this.flatCoordinates?qt(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice())},e.prototype.closestPointXY=function(t,e,n,i){return i<Ue(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(xi(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Ci(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,e,n,i))},e.prototype.containsXY=function(t,e){return Wi(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)},e.prototype.getArea=function(){return _i(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},e.prototype.getCoordinates=function(t){var e;return void 0!==t?Zi(e=this.getOrientedFlatCoordinates().slice(),0,this.ends_,this.stride,t):e=this.flatCoordinates,Ii(e,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var t=ln(this.getExtent());this.flatInteriorPoint_=Bi(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},e.prototype.getInteriorPoint=function(){return new Fi(this.getFlatInteriorPoint(),bn.XYM)},e.prototype.getLinearRingCount=function(){return this.ends_.length},e.prototype.getLinearRing=function(t){return t<0||this.ends_.length<=t?null:new Di(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLinearRings=function(){for(var t=this.layout,e=this.flatCoordinates,n=this.ends_,i=[],r=0,o=0,s=n.length;o<s;++o){var a=n[o],u=new Di(e.slice(r,a),t);i.push(u),r=a}return i},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;Hi(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Zi(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],i=[];return n.length=Pi(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),n,0,i),new e(n,bn.XY,i)},e.prototype.getType=function(){return wn.POLYGON},e.prototype.intersectsExtent=function(t){return Yi(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=Ti(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()},e}(mi),Ji=qi;function Qi(t){var e=t[0],n=t[1],i=t[2],r=t[3],o=[e,n,e,r,i,r,i,n,e,n];return new qi(o,bn.XY,[o.length])}var $i=0;function tr(t,e){setTimeout(function(){t(e)},0)}function er(t){return!(t.sourceCenter&&t.targetCenter&&!Le(t.sourceCenter,t.targetCenter))&&(t.sourceResolution===t.targetResolution&&t.sourceRotation===t.targetRotation)}var nr=function(t){function e(e){t.call(this);var n=f({},e);this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.updateAnimations_=this.updateAnimations_.bind(this),this.projection_=ti(n.projection,"EPSG:3857"),this.applyOptions_(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.applyOptions_=function(t){var e={};e[Re]=void 0!==t.center?t.center:null;var n=function(t){var e,n,i,r=void 0!==t.minZoom?t.minZoom:$i,o=void 0!==t.maxZoom?t.maxZoom:28,s=void 0!==t.zoomFactor?t.zoomFactor:2;if(void 0!==t.resolutions){var a=t.resolutions;n=a[r],i=void 0!==a[o]?a[o]:a[a.length-1],e=function(t){return function(e,n,i){if(void 0!==e){var r=Zt(t,e,i);r=ge(r+n,0,t.length-1);var o=Math.floor(r);if(r!=o&&o<t.length-1){var s=t[o]/t[o+1];return t[o]/Math.pow(s,r-o)}return t[o]}}}(a)}else{var u=ti(t.projection,"EPSG:3857"),l=u.getExtent(),c=l?Math.max(vn(l),hn(l)):360*Sn[Tn.DEGREES]/u.getMetersPerUnit(),h=c/ve/Math.pow(2,$i),f=h/Math.pow(2,28-$i);void 0!==(n=t.maxResolution)?r=0:n=h/Math.pow(s,r),void 0===(i=t.minResolution)&&(i=void 0!==t.maxZoom?void 0!==t.maxResolution?n/Math.pow(s,o):h/Math.pow(s,o):f),o=r+Math.floor(Math.log(n/i)/Math.log(s)),i=n/Math.pow(s,o-r),e=function(t,e,n){return function(i,r,o){if(void 0!==i){var s=-o/2+.5,a=Math.floor(Math.log(e/i)/Math.log(t)+s),u=Math.max(a+r,0);return void 0!==n&&(u=Math.min(u,n)),e/Math.pow(t,u)}}}(s,n,o-r)}return{constraint:e,maxResolution:n,minResolution:i,minZoom:r,zoomFactor:s}}(t);this.maxResolution_=n.maxResolution,this.minResolution_=n.minResolution,this.zoomFactor_=n.zoomFactor,this.resolutions_=t.resolutions,this.minZoom_=n.minZoom;var i=function(t){return void 0!==t.extent?(e=t.extent,function(t){return t?[ge(t[0],e[0],e[2]),ge(t[1],e[1],e[3])]:void 0}):Ee;var e}(t),r=n.constraint,o=function(t){if(void 0===t.enableRotation||t.enableRotation){var e=t.constrainRotation;return void 0===e||!0===e?(o=r||we(5),function(t,e){return void 0!==t?Math.abs(t+e)<=o?0:t+e:void 0}):!1===e?je:"number"==typeof e?(n=e,i=2*Math.PI/n,function(t,e){return void 0!==t?t=Math.floor((t+e)/i+.5)*i:void 0}):je}return Ce;var n,i;var r,o}(t);this.constraints_={center:i,resolution:r,rotation:o},void 0!==t.resolution?e[Ie]=t.resolution:void 0!==t.zoom&&(e[Ie]=this.constrainResolution(this.maxResolution_,t.zoom-this.minZoom_),this.resolutions_&&(e[Ie]=ge(Number(this.getResolution()||e[Ie]),this.minResolution_,this.maxResolution_))),e[Oe]=void 0!==t.rotation?t.rotation:0,this.setProperties(e),this.options_=t},e.prototype.getUpdatedOptions_=function(t){var e=f({},this.options_);return void 0!==e.resolution?e.resolution=this.getResolution():e.zoom=this.getZoom(),e.center=this.getCenter(),e.rotation=this.getRotation(),f({},e,t)},e.prototype.animate=function(t){var e,n=arguments,i=arguments.length;if(i>1&&"function"==typeof arguments[i-1]&&(e=arguments[i-1],--i),!this.isDef()){var r=arguments[i-1];return r.center&&this.setCenter(r.center),void 0!==r.zoom&&this.setZoom(r.zoom),void 0!==r.rotation&&this.setRotation(r.rotation),void(e&&tr(e,!0))}for(var o=Date.now(),s=this.getCenter().slice(),a=this.getResolution(),u=this.getRotation(),l=[],c=0;c<i;++c){var h=n[c],f={start:o,complete:!1,anchor:h.anchor,duration:void 0!==h.duration?h.duration:1e3,easing:h.easing||Fe};if(h.center&&(f.sourceCenter=s,f.targetCenter=h.center,s=f.targetCenter),void 0!==h.zoom?(f.sourceResolution=a,f.targetResolution=this.constrainResolution(this.maxResolution_,h.zoom-this.minZoom_,0),a=f.targetResolution):h.resolution&&(f.sourceResolution=a,f.targetResolution=h.resolution,a=f.targetResolution),void 0!==h.rotation){f.sourceRotation=u;var p=be(h.rotation-u+Math.PI,2*Math.PI)-Math.PI;f.targetRotation=u+p,u=f.targetRotation}f.callback=e,er(f)?f.complete=!0:o+=f.duration,l.push(f)}this.animations_.push(l),this.setHint(Se,1),this.updateAnimations_()},e.prototype.getAnimating=function(){return this.hints_[Se]>0},e.prototype.getInteracting=function(){return this.hints_[Te]>0},e.prototype.cancelAnimations=function(){this.setHint(Se,-this.hints_[Se]);for(var t=0,e=this.animations_.length;t<e;++t){var n=this.animations_[t];n[0].callback&&tr(n[0].callback,!1)}this.animations_.length=0},e.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var t=Date.now(),e=!1,n=this.animations_.length-1;n>=0;--n){for(var i=this.animations_[n],r=!0,o=0,s=i.length;o<s;++o){var a=i[o];if(!a.complete){var u=t-a.start,l=a.duration>0?u/a.duration:1;l>=1?(a.complete=!0,l=1):r=!1;var c=a.easing(l);if(a.sourceCenter){var h=a.sourceCenter[0],f=a.sourceCenter[1],p=h+c*(a.targetCenter[0]-h),d=f+c*(a.targetCenter[1]-f);this.set(Re,[p,d])}if(a.sourceResolution&&a.targetResolution){var v=1===c?a.targetResolution:a.sourceResolution+c*(a.targetResolution-a.sourceResolution);a.anchor&&this.set(Re,this.calculateCenterZoom(v,a.anchor)),this.set(Ie,v)}if(void 0!==a.sourceRotation&&void 0!==a.targetRotation){var g=1===c?be(a.targetRotation+Math.PI,2*Math.PI)-Math.PI:a.sourceRotation+c*(a.targetRotation-a.sourceRotation);a.anchor&&this.set(Re,this.calculateCenterRotate(g,a.anchor)),this.set(Oe,g)}if(e=!0,!a.complete)break}}if(r){this.animations_[n]=null,this.setHint(Se,-1);var m=i[0].callback;m&&tr(m,!0)}}this.animations_=this.animations_.filter(Boolean),e&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_))}},e.prototype.calculateCenterRotate=function(t,e){var n,i=this.getCenter();return void 0!==i&&(ke(n=[i[0]-e[0],i[1]-e[1]],t-this.getRotation()),Ae(n,e)),n},e.prototype.calculateCenterZoom=function(t,e){var n,i=this.getCenter(),r=this.getResolution();void 0!==i&&void 0!==r&&(n=[e[0]-t*(e[0]-i[0])/r,e[1]-t*(e[1]-i[1])/r]);return n},e.prototype.getSizeFromViewport_=function(){var t=[100,100],e='.ol-viewport[data-view="'+F(this)+'"]',n=document.querySelector(e);if(n){var i=getComputedStyle(n);t[0]=parseInt(i.width,10),t[1]=parseInt(i.height,10)}return t},e.prototype.constrainCenter=function(t){return this.constraints_.center(t)},e.prototype.constrainResolution=function(t,e,n){var i=e||0,r=n||0;return this.constraints_.resolution(t,i,r)},e.prototype.constrainRotation=function(t,e){var n=e||0;return this.constraints_.rotation(t,n)},e.prototype.getCenter=function(){return this.get(Re)},e.prototype.getConstraints=function(){return this.constraints_},e.prototype.getHints=function(t){return void 0!==t?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},e.prototype.calculateExtent=function(t){var e=t||this.getSizeFromViewport_(),n=this.getCenter();fe(n,1);var i=this.getResolution();fe(void 0!==i,2);var r=this.getRotation();return fe(void 0!==r,3),cn(n,i,r,e)},e.prototype.getMaxResolution=function(){return this.maxResolution_},e.prototype.getMinResolution=function(){return this.minResolution_},e.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},e.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},e.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},e.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolution=function(){return this.get(Ie)},e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.getResolutionForExtent=function(t,e){var n=e||this.getSizeFromViewport_(),i=vn(t)/n[0],r=hn(t)/n[1];return Math.max(i,r)},e.prototype.getResolutionForValueFunction=function(t){var e=t||2,n=this.maxResolution_,i=this.minResolution_,r=Math.log(n/i)/Math.log(e);return function(t){return n/Math.pow(e,t*r)}},e.prototype.getRotation=function(){return this.get(Oe)},e.prototype.getValueForResolutionFunction=function(t){var e=t||2,n=this.maxResolution_,i=this.minResolution_,r=Math.log(n/i)/Math.log(e);return function(t){return Math.log(n/t)/Math.log(e)/r}},e.prototype.getState=function(t){var e=this.getCenter(),n=this.getProjection(),i=this.getResolution(),r=i/t,o=this.getRotation();return{center:[Math.round(e[0]/r)*r,Math.round(e[1]/r)*r],projection:void 0!==n?n:null,resolution:i,rotation:o,zoom:this.getZoom()}},e.prototype.getZoom=function(){var t,e=this.getResolution();return void 0!==e&&(t=this.getZoomForResolution(e)),t},e.prototype.getZoomForResolution=function(t){var e,n,i=this.minZoom_||0;if(this.resolutions_){var r=Zt(this.resolutions_,t,1);i=r,e=this.resolutions_[r],n=r==this.resolutions_.length-1?2:e/this.resolutions_[r+1]}else e=this.maxResolution_,n=this.zoomFactor_;return i+Math.log(e/t)/Math.log(n)},e.prototype.getResolutionForZoom=function(t){return this.constrainResolution(this.maxResolution_,t-this.minZoom_,0)},e.prototype.fit=function(t,e){var n,i=e||{},r=i.size;r||(r=this.getSizeFromViewport_()),fe(Array.isArray(t)||"function"==typeof t.getSimplifiedGeometry,24),Array.isArray(t)?(fe(!mn(t),25),n=Qi(t)):t.getType()===wn.CIRCLE?(n=Qi(t=t.getExtent())).rotate(this.getRotation(),ln(t)):n=t;var o,s=void 0!==i.padding?i.padding:[0,0,0,0],a=void 0===i.constrainResolution||i.constrainResolution,u=void 0!==i.nearest&&i.nearest;o=void 0!==i.minResolution?i.minResolution:void 0!==i.maxZoom?this.constrainResolution(this.maxResolution_,i.maxZoom-this.minZoom_,0):0;for(var l=n.getFlatCoordinates(),c=this.getRotation(),h=Math.cos(-c),f=Math.sin(-c),p=1/0,d=1/0,v=-1/0,g=-1/0,m=n.getStride(),y=0,_=l.length;y<_;y+=m){var w=l[y]*h-l[y+1]*f,b=l[y]*f+l[y+1]*h;p=Math.min(p,w),d=Math.min(d,b),v=Math.max(v,w),g=Math.max(g,b)}var x=this.getResolutionForExtent([p,d,v,g],[r[0]-s[1]-s[3],r[1]-s[0]-s[2]]);if(x=isNaN(x)?o:Math.max(x,o),a){var E=this.constrainResolution(x,0,0);!u&&E<x&&(E=this.constrainResolution(E,-1,0)),x=E}f=-f;var C=(p+v)/2,j=(d+g)/2,S=[(C+=(s[1]-s[3])/2*x)*h-(j+=(s[0]-s[2])/2*x)*f,j*h+C*f],T=i.callback?i.callback:R;void 0!==i.duration?this.animate({resolution:x,center:S,duration:i.duration,easing:i.easing},T):(this.setResolution(x),this.setCenter(S),tr(T,!0))},e.prototype.centerOn=function(t,e,n){var i=this.getRotation(),r=Math.cos(-i),o=Math.sin(-i),s=t[0]*r-t[1]*o,a=t[1]*r+t[0]*o,u=this.getResolution(),l=(s+=(e[0]/2-n[0])*u)*r-(a+=(n[1]-e[1]/2)*u)*(o=-o),c=a*r+s*o;this.setCenter([l,c])},e.prototype.isDef=function(){return!!this.getCenter()&&void 0!==this.getResolution()},e.prototype.rotate=function(t,e){if(void 0!==e){var n=this.calculateCenterRotate(t,e);this.setCenter(n)}this.setRotation(t)},e.prototype.setCenter=function(t){this.set(Re,t),this.getAnimating()&&this.cancelAnimations()},e.prototype.setHint=function(t,e){return this.hints_[t]+=e,this.changed(),this.hints_[t]},e.prototype.setResolution=function(t){this.set(Ie,t),this.getAnimating()&&this.cancelAnimations()},e.prototype.setRotation=function(t){this.set(Oe,t),this.getAnimating()&&this.cancelAnimations()},e.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},e}(V);function ir(t,e){var n=document.createElement("canvas");return t&&(n.width=t),e&&(n.height=e),n.getContext("2d")}function rr(t,e){var n=e.parentNode;n&&n.replaceChild(t,e)}function or(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}function sr(t){for(;t.lastChild;)t.removeChild(t.lastChild)}var ar={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",SOURCE:"source"},ur=function(t){function e(e){t.call(this);var n=f({},e);n[ar.OPACITY]=void 0!==e.opacity?e.opacity:1,n[ar.VISIBLE]=void 0===e.visible||e.visible,n[ar.Z_INDEX]=e.zIndex,n[ar.MAX_RESOLUTION]=void 0!==e.maxResolution?e.maxResolution:1/0,n[ar.MIN_RESOLUTION]=void 0!==e.minResolution?e.minResolution:0,this.setProperties(n),this.state_=null,this.type}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getType=function(){return this.type},e.prototype.getLayerState=function(){var t=this.state_||{layer:this,managed:!0};return t.opacity=ge(this.getOpacity(),0,1),t.sourceState=this.getSourceState(),t.visible=this.getVisible(),t.extent=this.getExtent(),t.zIndex=this.getZIndex()||0,t.maxResolution=this.getMaxResolution(),t.minResolution=Math.max(this.getMinResolution(),0),this.state_=t,t},e.prototype.getLayersArray=function(t){return P()},e.prototype.getLayerStatesArray=function(t){return P()},e.prototype.getExtent=function(){return this.get(ar.EXTENT)},e.prototype.getMaxResolution=function(){return this.get(ar.MAX_RESOLUTION)},e.prototype.getMinResolution=function(){return this.get(ar.MIN_RESOLUTION)},e.prototype.getOpacity=function(){return this.get(ar.OPACITY)},e.prototype.getSourceState=function(){return P()},e.prototype.getVisible=function(){return this.get(ar.VISIBLE)},e.prototype.getZIndex=function(){return this.get(ar.Z_INDEX)},e.prototype.setExtent=function(t){this.set(ar.EXTENT,t)},e.prototype.setMaxResolution=function(t){this.set(ar.MAX_RESOLUTION,t)},e.prototype.setMinResolution=function(t){this.set(ar.MIN_RESOLUTION,t)},e.prototype.setOpacity=function(t){this.set(ar.OPACITY,t)},e.prototype.setVisible=function(t){this.set(ar.VISIBLE,t)},e.prototype.setZIndex=function(t){this.set(ar.Z_INDEX,t)},e}(V),lr={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"},cr={LAYERS:"layers"},hr=function(t){function e(e){var n=e||{},i=f({},n);delete i.layers;var r=n.layers;t.call(this,i),this.layersListenerKeys_=[],this.listenerKeys_={},w(this,Y(cr.LAYERS),this.handleLayersChanged_,this),r?Array.isArray(r)?r=new Z(r.slice(),{unique:!0}):fe("function"==typeof r.getArray,43):r=new Z(void 0,{unique:!0}),this.setLayers(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleLayerChange_=function(){this.changed()},e.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(E),this.layersListenerKeys_.length=0;var t=this.getLayers();for(var e in this.layersListenerKeys_.push(w(t,W.ADD,this.handleLayersAdd_,this),w(t,W.REMOVE,this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[e].forEach(E);p(this.listenerKeys_);for(var n=t.getArray(),i=0,r=n.length;i<r;i++){var o=n[i];this.listenerKeys_[F(o)]=[w(o,B,this.handleLayerChange_,this),w(o,k.CHANGE,this.handleLayerChange_,this)]}this.changed()},e.prototype.handleLayersAdd_=function(t){var e=t.element;this.listenerKeys_[F(e)]=[w(e,B,this.handleLayerChange_,this),w(e,k.CHANGE,this.handleLayerChange_,this)],this.changed()},e.prototype.handleLayersRemove_=function(t){var e=F(t.element);this.listenerKeys_[e].forEach(E),delete this.listenerKeys_[e],this.changed()},e.prototype.getLayers=function(){return this.get(cr.LAYERS)},e.prototype.setLayers=function(t){this.set(cr.LAYERS,t)},e.prototype.getLayersArray=function(t){var e=void 0!==t?t:[];return this.getLayers().forEach(function(t){t.getLayersArray(e)}),e},e.prototype.getLayerStatesArray=function(t){var e=void 0!==t?t:[],n=e.length;this.getLayers().forEach(function(t){t.getLayerStatesArray(e)});for(var i=this.getLayerState(),r=n,o=e.length;r<o;r++){var s=e[r];s.opacity*=i.opacity,s.visible=s.visible&&i.visible,s.maxResolution=Math.min(s.maxResolution,i.maxResolution),s.minResolution=Math.max(s.minResolution,i.minResolution),void 0!==i.extent&&(void 0!==s.extent?s.extent=fn(s.extent,i.extent):s.extent=i.extent)}return e},e.prototype.getSourceState=function(){return lr.READY},e}(ur);function fr(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:e[0]=e[1]=t,e)}var pr=function(t){function e(e){t.call(this);var n=function(t){var e=null;void 0!==t.keyboardEventTarget&&(e="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var n,i,r,o={},s=t.layers&&"function"==typeof t.layers.getLayers?t.layers:new hr({layers:t.layers});o[le.LAYERGROUP]=s,o[le.TARGET]=t.target,o[le.VIEW]=void 0!==t.view?t.view:new nr,void 0!==t.controls&&(Array.isArray(t.controls)?n=new Z(t.controls.slice()):(fe("function"==typeof t.controls.getArray,47),n=t.controls));void 0!==t.interactions&&(Array.isArray(t.interactions)?i=new Z(t.interactions.slice()):(fe("function"==typeof t.interactions.getArray,48),i=t.interactions));void 0!==t.overlays?Array.isArray(t.overlays)?r=new Z(t.overlays.slice()):(fe("function"==typeof t.overlays.getArray,49),r=t.overlays):r=new Z;return{controls:n,interactions:i,keyboardEventTarget:e,overlays:r,values:o}}(e);this.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,this.loadTilesWhileAnimating_=void 0!==e.loadTilesWhileAnimating&&e.loadTilesWhileAnimating,this.loadTilesWhileInteracting_=void 0!==e.loadTilesWhileInteracting&&e.loadTilesWhileInteracting,this.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:ot,this.animationDelayKey_,this.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_.call(this,Date.now())}.bind(this),this.coordinateToPixelTransform_=[1,0,0,1,0,0],this.pixelToCoordinateTransform_=[1,0,0,1,0,0],this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+(at?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.viewport_.style.msTouchAction="none",this.viewport_.style.touchAction="none",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent";for(var i=[k.CLICK,k.DBLCLICK,k.MOUSEDOWN,k.TOUCHSTART,k.MSPOINTERDOWN,ct.POINTERDOWN,k.MOUSEWHEEL,k.WHEEL],r=0,o=i.length;r<o;++r)w(this.overlayContainerStopEvent_,i[r],O);for(var s in this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=new oe(this,e.moveTolerance),ct)w(this.mapBrowserEventHandler_,ct[s],this.handleMapBrowserEvent,this);this.keyboardEventTarget_=n.keyboardEventTarget,this.keyHandlerKeys_=null,w(this.viewport_,k.CONTEXTMENU,this.handleBrowserEvent,this),w(this.viewport_,k.WHEEL,this.handleBrowserEvent,this),w(this.viewport_,k.MOUSEWHEEL,this.handleBrowserEvent,this),this.controls=n.controls||new Z,this.interactions=n.interactions||new Z,this.overlays_=n.overlays,this.overlayIdIndex_={},this.renderer_=this.createRenderer(),this.handleResize_,this.focus_=null,this.postRenderFunctions_=[],this.tileQueue_=new de(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.skippedFeatureUids_={},w(this,Y(le.LAYERGROUP),this.handleLayerGroupChanged_,this),w(this,Y(le.VIEW),this.handleViewChanged_,this),w(this,Y(le.SIZE),this.handleSizeChanged_,this),w(this,Y(le.TARGET),this.handleTargetChanged_,this),this.setProperties(n.values),this.controls.forEach(function(t){t.setMap(this)}.bind(this)),w(this.controls,W.ADD,function(t){t.element.setMap(this)},this),w(this.controls,W.REMOVE,function(t){t.element.setMap(null)},this),this.interactions.forEach(function(t){t.setMap(this)}.bind(this)),w(this.interactions,W.ADD,function(t){t.element.setMap(this)},this),w(this.interactions,W.REMOVE,function(t){t.element.setMap(null)},this),this.overlays_.forEach(this.addOverlayInternal_.bind(this)),w(this.overlays_,W.ADD,function(t){this.addOverlayInternal_(t.element)},this),w(this.overlays_,W.REMOVE,function(t){var e=t.element.getId();void 0!==e&&delete this.overlayIdIndex_[e.toString()],t.element.setMap(null)},this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},e.prototype.addControl=function(t){this.getControls().push(t)},e.prototype.addInteraction=function(t){this.getInteractions().push(t)},e.prototype.addLayer=function(t){this.getLayerGroup().getLayers().push(t)},e.prototype.addOverlay=function(t){this.getOverlays().push(t)},e.prototype.addOverlayInternal_=function(t){var e=t.getId();void 0!==e&&(this.overlayIdIndex_[e.toString()]=t),t.setMap(this)},e.prototype.disposeInternal=function(){this.mapBrowserEventHandler_.dispose(),x(this.viewport_,k.CONTEXTMENU,this.handleBrowserEvent,this),x(this.viewport_,k.WHEEL,this.handleBrowserEvent,this),x(this.viewport_,k.MOUSEWHEEL,this.handleBrowserEvent,this),void 0!==this.handleResize_&&(removeEventListener(k.RESIZE,this.handleResize_,!1),this.handleResize_=void 0),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0),this.setTarget(null),t.prototype.disposeInternal.call(this)},e.prototype.forEachFeatureAtPixel=function(t,e,n){if(this.frameState_){var i=this.getCoordinateFromPixel(t),r=void 0!==(n=void 0!==n?n:{}).hitTolerance?n.hitTolerance*this.frameState_.pixelRatio:0,o=void 0!==n.layerFilter?n.layerFilter:S;return this.renderer_.forEachFeatureAtCoordinate(i,this.frameState_,r,e,null,o,null)}},e.prototype.getFeaturesAtPixel=function(t,e){var n=null;return this.forEachFeatureAtPixel(t,function(t){n||(n=[]),n.push(t)},e),n},e.prototype.forEachLayerAtPixel=function(t,e,n){if(this.frameState_){var i=n||{},r=void 0!==i.hitTolerance?n.hitTolerance*this.frameState_.pixelRatio:0,o=i.layerFilter||S;return this.renderer_.forEachLayerAtPixel(t,this.frameState_,r,e,null,o,null)}},e.prototype.hasFeatureAtPixel=function(t,e){if(!this.frameState_)return!1;var n=this.getCoordinateFromPixel(t),i=void 0!==(e=void 0!==e?e:{}).layerFilter?e.layerFilter:S,r=void 0!==e.hitTolerance?e.hitTolerance*this.frameState_.pixelRatio:0;return this.renderer_.hasFeatureAtCoordinate(n,this.frameState_,r,i,null)},e.prototype.getEventCoordinate=function(t){return this.getCoordinateFromPixel(this.getEventPixel(t))},e.prototype.getEventPixel=function(t){var e=this.viewport_.getBoundingClientRect(),n="changedTouches"in t?t.changedTouches[0]:t;return[n.clientX-e.left,n.clientY-e.top]},e.prototype.getTarget=function(){return this.get(le.TARGET)},e.prototype.getTargetElement=function(){var t=this.getTarget();return void 0!==t?"string"==typeof t?document.getElementById(t):t:null},e.prototype.getCoordinateFromPixel=function(t){var e=this.frameState_;return e?ci(e.pixelToCoordinateTransform,t.slice()):null},e.prototype.getControls=function(){return this.controls},e.prototype.getOverlays=function(){return this.overlays_},e.prototype.getOverlayById=function(t){var e=this.overlayIdIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getInteractions=function(){return this.interactions},e.prototype.getLayerGroup=function(){return this.get(le.LAYERGROUP)},e.prototype.getLayers=function(){return this.getLayerGroup().getLayers()},e.prototype.getPixelFromCoordinate=function(t){var e=this.frameState_;return e?ci(e.coordinateToPixelTransform,t.slice(0,2)):null},e.prototype.getRenderer=function(){return this.renderer_},e.prototype.getSize=function(){return this.get(le.SIZE)},e.prototype.getView=function(){return this.get(le.VIEW)},e.prototype.getViewport=function(){return this.viewport_},e.prototype.getOverlayContainer=function(){return this.overlayContainer_},e.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},e.prototype.getTilePriority=function(t,e,n,i){var r=this.frameState_;if(!(r&&e in r.wantedTiles))return 1/0;if(!r.wantedTiles[e][t.getKey()])return 1/0;var o=n[0]-r.focus[0],s=n[1]-r.focus[1];return 65536*Math.log(i)+Math.sqrt(o*o+s*s)/i},e.prototype.handleBrowserEvent=function(t,e){var n=e||t.type,i=new q(n,this,t);this.handleMapBrowserEvent(i)},e.prototype.handleMapBrowserEvent=function(t){if(this.frameState_){this.focus_=t.coordinate,t.frameState=this.frameState_;var e=this.getInteractions().getArray();if(!1!==this.dispatchEvent(t))for(var n=e.length-1;n>=0;n--){var i=e[n];if(i.getActive())if(!i.handleEvent(t))break}}},e.prototype.handlePostRender=function(){var t=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){var n=this.maxTilesLoading_,i=n;if(t){var r=t.viewHints;r[Se]&&(n=this.loadTilesWhileAnimating_?8:0,i=2),r[Te]&&(n=this.loadTilesWhileInteracting_?8:0,i=2)}e.getTilesLoading()<n&&(e.reprioritize(),e.loadMoreTiles(n,i))}!t||!this.hasListener(ce.RENDERCOMPLETE)||t.animate||this.tileQueue_.getTilesLoading()||function t(e){for(var n=0,i=e.length;n<i;++n){var r=e[n];if("function"==typeof r.getLayers)return t(r.getLayers().getArray());var o=r.getSource();if(o&&o.loading)return!0}return!1}(this.getLayers().getArray())||this.renderer_.dispatchRenderEvent(ce.RENDERCOMPLETE,t);for(var o=this.postRenderFunctions_,s=0,a=o.length;s<a;++s)o[s](this,t);o.length=0},e.prototype.handleSizeChanged_=function(){this.render()},e.prototype.handleTargetChanged_=function(){var t;if(this.getTarget()&&(t=this.getTargetElement()),this.keyHandlerKeys_){for(var e=0,n=this.keyHandlerKeys_.length;e<n;++e)E(this.keyHandlerKeys_[e]);this.keyHandlerKeys_=null}if(t){t.appendChild(this.viewport_);var i=this.keyboardEventTarget_?this.keyboardEventTarget_:t;this.keyHandlerKeys_=[w(i,k.KEYDOWN,this.handleBrowserEvent,this),w(i,k.KEYPRESS,this.handleBrowserEvent,this)],this.handleResize_||(this.handleResize_=this.updateSize.bind(this),window.addEventListener(k.RESIZE,this.handleResize_,!1))}else this.renderer_.removeLayerRenderers(),or(this.viewport_),void 0!==this.handleResize_&&(removeEventListener(k.RESIZE,this.handleResize_,!1),this.handleResize_=void 0);this.updateSize()},e.prototype.handleTileChange_=function(){this.render()},e.prototype.handleViewPropertyChanged_=function(){this.render()},e.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(E(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(E(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var t=this.getView();t&&(this.viewport_.setAttribute("data-view",F(t)),this.viewPropertyListenerKey_=w(t,B,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=w(t,k.CHANGE,this.handleViewPropertyChanged_,this)),this.render()},e.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(E),this.layerGroupPropertyListenerKeys_=null);var t=this.getLayerGroup();t&&(this.layerGroupPropertyListenerKeys_=[w(t,B,this.render,this),w(t,k.CHANGE,this.render,this)]),this.render()},e.prototype.isRendered=function(){return!!this.frameState_},e.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},e.prototype.render=function(){void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},e.prototype.removeControl=function(t){return this.getControls().remove(t)},e.prototype.removeInteraction=function(t){return this.getInteractions().remove(t)},e.prototype.removeLayer=function(t){return this.getLayerGroup().getLayers().remove(t)},e.prototype.removeOverlay=function(t){return this.getOverlays().remove(t)},e.prototype.renderFrame_=function(t){var e,n=this.getSize(),i=this.getView(),r=[1/0,1/0,-1/0,-1/0],o=this.frameState_,s=null;if(void 0!==n&&function(t){return t[0]>0&&t[1]>0}(n)&&i&&i.isDef()){for(var a=i.getHints(this.frameState_?this.frameState_.viewHints:void 0),u=this.getLayerGroup().getLayerStatesArray(),l={},c=0,h=u.length;c<h;++c)l[F(u[c].layer)]=u[c];e=i.getState(this.pixelRatio_),s={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,extent:r,focus:this.focus_?this.focus_:e.center,index:this.frameIndex_++,layerStates:l,layerStatesArray:u,pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:n,skippedFeatureUids:this.skippedFeatureUids_,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:e,viewHints:a,wantedTiles:{}}}if(s&&(s.extent=cn(e.center,e.resolution,e.rotation,s.size,r)),this.frameState_=s,this.renderer_.renderFrame(s),s){if(s.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,s.postRenderFunctions),o)(!this.previousExtent_||!mn(this.previousExtent_)&&!$e(s.extent,this.previousExtent_))&&(this.dispatchEvent(new K(ae,this,o)),this.previousExtent_=qe(this.previousExtent_));this.previousExtent_&&!s.viewHints[Se]&&!s.viewHints[Te]&&!$e(s.extent,this.previousExtent_)&&(this.dispatchEvent(new K(ue,this,s)),ze(s.extent,this.previousExtent_))}this.dispatchEvent(new K(se,this,s)),setTimeout(this.handlePostRender.bind(this),0)},e.prototype.setLayerGroup=function(t){this.set(le.LAYERGROUP,t)},e.prototype.setSize=function(t){this.set(le.SIZE,t)},e.prototype.setTarget=function(t){this.set(le.TARGET,t)},e.prototype.setView=function(t){this.set(le.VIEW,t)},e.prototype.skipFeature=function(t){this.skippedFeatureUids_[F(t)]=!0,this.render()},e.prototype.updateSize=function(){var t=this.getTargetElement();if(t){var e=getComputedStyle(t);this.setSize([t.offsetWidth-parseFloat(e.borderLeftWidth)-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)-parseFloat(e.borderRightWidth),t.offsetHeight-parseFloat(e.borderTopWidth)-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom)-parseFloat(e.borderBottomWidth)])}else this.setSize(void 0)},e.prototype.unskipFeature=function(t){delete this.skippedFeatureUids_[F(t)],this.render()},e}(V);var dr,vr,gr=function(t){function e(e){t.call(this),this.element=e.element?e.element:null,this.target_=null,this.map_=null,this.listenerKeys=[],this.render=e.render?e.render:R,e.target&&this.setTarget(e.target)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){or(this.element),t.prototype.disposeInternal.call(this)},e.prototype.getMap=function(){return this.map_},e.prototype.setMap=function(t){this.map_&&or(this.element);for(var e=0,n=this.listenerKeys.length;e<n;++e)E(this.listenerKeys[e]);(this.listenerKeys.length=0,this.map_=t,this.map_)&&((this.target_?this.target_:t.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==R&&this.listenerKeys.push(w(t,se,this.render,this)),t.render())},e.prototype.setTarget=function(t){this.target_="string"==typeof t?document.getElementById(t):t},e}(V),mr="ol-hidden",yr="ol-selectable",_r="ol-unselectable",wr="ol-control",br="ol-collapsed",xr=(vr={},function(t){if(dr||(dr=document.createElement("div").style),!(t in vr)){dr.font=t;var e=dr.fontFamily;if(dr.font="",!e)return null;vr[t]=e.split(/,\s?/)}return vr[t]});function Er(t,e){return t.visible&&e>=t.minResolution&&e<t.maxResolution}var Cr=function(t){function e(e){var n=f({},e);delete n.source,t.call(this,n),this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,e.map&&this.setMap(e.map),w(this,Y(ar.SOURCE),this.handleSourcePropertyChange_,this);var i=e.source?e.source:null;this.setSource(i)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getLayersArray=function(t){var e=t||[];return e.push(this),e},e.prototype.getLayerStatesArray=function(t){var e=t||[];return e.push(this.getLayerState()),e},e.prototype.getSource=function(){return this.get(ar.SOURCE)||null},e.prototype.getSourceState=function(){var t=this.getSource();return t?t.getState():lr.UNDEFINED},e.prototype.handleSourceChange_=function(){this.changed()},e.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(E(this.sourceChangeKey_),this.sourceChangeKey_=null);var t=this.getSource();t&&(this.sourceChangeKey_=w(t,k.CHANGE,this.handleSourceChange_,this)),this.changed()},e.prototype.setMap=function(t){this.mapPrecomposeKey_&&(E(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(E(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=w(t,ce.PRECOMPOSE,function(t){var e=t,n=this.getLayerState();n.managed=!1,void 0===this.getZIndex()&&(n.zIndex=1/0),e.frameState.layerStatesArray.push(n),e.frameState.layerStates[F(this)]=n},this),this.mapRenderKey_=w(this,k.CHANGE,t.render,t),this.changed())},e.prototype.setSource=function(t){this.set(ar.SOURCE,t)},e}(ur);function jr(t){this.updateElement_(t.frameState)}var Sr=function(t){function e(e){var n=e||{};t.call(this,{element:document.createElement("div"),render:n.render||jr,target:n.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=void 0===n.collapsed||n.collapsed,this.overrideCollapsible_=void 0!==n.collapsible,this.collapsible_=void 0===n.collapsible||n.collapsible,this.collapsible_||(this.collapsed_=!1);var i=void 0!==n.className?n.className:"ol-attribution",r=void 0!==n.tipLabel?n.tipLabel:"Attributions",o=void 0!==n.collapseLabel?n.collapseLabel:"»";"string"==typeof o?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=o):this.collapseLabel_=o;var s=void 0!==n.label?n.label:"i";"string"==typeof s?(this.label_=document.createElement("span"),this.label_.textContent=s):this.label_=s;var a=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_,u=document.createElement("button");u.setAttribute("type","button"),u.title=r,u.appendChild(a),w(u,k.CLICK,this.handleClick_,this);var l=i+" "+_r+" "+wr+(this.collapsed_&&this.collapsible_?" "+br:"")+(this.collapsible_?"":" ol-uncollapsible"),c=this.element;c.className=l,c.appendChild(this.ulElement_),c.appendChild(u),this.renderedAttributions_=[],this.renderedVisible_=!0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.collectSourceAttributions_=function(t){for(var e={},n=[],i=t.layerStatesArray,r=t.viewState.resolution,o=0,s=i.length;o<s;++o){var a=i[o];if(Er(a,r)){var u=a.layer.getSource();if(u){var l=u.getAttributions();if(l){var c=l(t);if(c)if(this.overrideCollapsible_||!1!==u.getAttributionsCollapsible()||this.setCollapsible(!1),Array.isArray(c))for(var h=0,f=c.length;h<f;++h)c[h]in e||(n.push(c[h]),e[c[h]]=!0);else c in e||(n.push(c),e[c]=!0)}}}}return n},e.prototype.updateElement_=function(t){if(t){var e=this.collectSourceAttributions_(t),n=e.length>0;if(this.renderedVisible_!=n&&(this.element.style.display=n?"":"none",this.renderedVisible_=n),!Jt(e,this.renderedAttributions_)){sr(this.ulElement_);for(var i=0,r=e.length;i<r;++i){var o=document.createElement("li");o.innerHTML=e[i],this.ulElement_.appendChild(o)}this.renderedAttributions_=e}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},e.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_()},e.prototype.handleToggle_=function(){this.element.classList.toggle(br),this.collapsed_?rr(this.collapseLabel_,this.label_):rr(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_},e.prototype.getCollapsible=function(){return this.collapsible_},e.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),!t&&this.collapsed_&&this.handleToggle_())},e.prototype.setCollapsed=function(t){this.collapsible_&&this.collapsed_!==t&&this.handleToggle_()},e.prototype.getCollapsed=function(){return this.collapsed_},e}(gr);function Tr(t){var e=t.frameState;if(e){var n=e.viewState.rotation;if(n!=this.rotation_){var i="rotate("+n+"rad)";if(this.autoHide_){var r=this.element.classList.contains(mr);r||0!==n?r&&0!==n&&this.element.classList.remove(mr):this.element.classList.add(mr)}this.label_.style.msTransform=i,this.label_.style.webkitTransform=i,this.label_.style.transform=i}this.rotation_=n}}var Rr=function(t){function e(e){var n=e||{};t.call(this,{element:document.createElement("div"),render:n.render||Tr,target:n.target});var i=void 0!==n.className?n.className:"ol-rotate",r=void 0!==n.label?n.label:"⇧";this.label_=null,"string"==typeof r?(this.label_=document.createElement("span"),this.label_.className="ol-compass",this.label_.textContent=r):(this.label_=r,this.label_.classList.add("ol-compass"));var o=n.tipLabel?n.tipLabel:"Reset rotation",s=document.createElement("button");s.className=i+"-reset",s.setAttribute("type","button"),s.title=o,s.appendChild(this.label_),w(s,k.CLICK,this.handleClick_,this);var a=i+" "+_r+" "+wr,u=this.element;u.className=a,u.appendChild(s),this.callResetNorth_=n.resetNorth?n.resetNorth:void 0,this.duration_=void 0!==n.duration?n.duration:250,this.autoHide_=void 0===n.autoHide||n.autoHide,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(mr)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleClick_=function(t){t.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()},e.prototype.resetNorth_=function(){var t=this.getMap().getView();t&&void 0!==t.getRotation()&&(this.duration_>0?t.animate({rotation:0,duration:this.duration_,easing:De}):t.setRotation(0))},e}(gr),Ir=function(t){function e(e){var n=e||{};t.call(this,{element:document.createElement("div"),target:n.target});var i=void 0!==n.className?n.className:"ol-zoom",r=void 0!==n.delta?n.delta:1,o=void 0!==n.zoomInLabel?n.zoomInLabel:"+",s=void 0!==n.zoomOutLabel?n.zoomOutLabel:"−",a=void 0!==n.zoomInTipLabel?n.zoomInTipLabel:"Zoom in",u=void 0!==n.zoomOutTipLabel?n.zoomOutTipLabel:"Zoom out",l=document.createElement("button");l.className=i+"-in",l.setAttribute("type","button"),l.title=a,l.appendChild("string"==typeof o?document.createTextNode(o):o),w(l,k.CLICK,this.handleClick_.bind(this,r));var c=document.createElement("button");c.className=i+"-out",c.setAttribute("type","button"),c.title=u,c.appendChild("string"==typeof s?document.createTextNode(s):s),w(c,k.CLICK,this.handleClick_.bind(this,-r));var h=i+" "+_r+" "+wr,f=this.element;f.className=h,f.appendChild(l),f.appendChild(c),this.duration_=void 0!==n.duration?n.duration:250}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleClick_=function(t,e){e.preventDefault(),this.zoomByDelta_(t)},e.prototype.zoomByDelta_=function(t){var e=this.getMap().getView();if(e){var n=e.getResolution();if(n){var i=e.constrainResolution(n,t);this.duration_>0?(e.getAnimating()&&e.cancelAnimations(),e.animate({resolution:i,duration:this.duration_,easing:De})):e.setResolution(i)}}},e}(gr);function Or(t){var e=t||{},n=new Z;return(void 0===e.zoom||e.zoom)&&n.push(new Ir(e.zoomOptions)),(void 0===e.rotate||e.rotate)&&n.push(new Rr(e.rotateOptions)),(void 0===e.attribution||e.attribution)&&n.push(new Sr(e.attributionOptions)),n}var Ar=function(t,e,n){this.decay_=t,this.minVelocity_=e,this.delay_=n,this.points_=[],this.angle_=0,this.initialVelocity_=0};Ar.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},Ar.prototype.update=function(t,e){this.points_.push(t,e,Date.now())},Ar.prototype.end=function(){if(this.points_.length<6)return!1;var t=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<t)return!1;for(var n=e-3;n>0&&this.points_[n+2]>t;)n-=3;var i=this.points_[e+2]-this.points_[n+2];if(i<1e3/60)return!1;var r=this.points_[e]-this.points_[n],o=this.points_[e+1]-this.points_[n+1];return this.angle_=Math.atan2(o,r),this.initialVelocity_=Math.sqrt(r*r+o*o)/i,this.initialVelocity_>this.minVelocity_},Ar.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},Ar.prototype.getAngle=function(){return this.angle_};var Lr=Ar,kr={ACTIVE:"active"};function Mr(t,e,n,i){Pr(t,e=t.constrainRotation(e,0),n,i)}function Pr(t,e,n,i){if(void 0!==e){var r=t.getRotation(),o=t.getCenter();void 0!==r&&o&&i>0?t.animate({rotation:e,anchor:n,duration:i,easing:De}):t.rotate(e,n)}}function Dr(t,e,n,i,r){Nr(t,e=t.constrainResolution(e,0,r),n,i)}function Fr(t,e,n,i){var r=t.getResolution(),o=t.constrainResolution(r,e,0);if(void 0!==o){var s=t.getResolutions();o=ge(o,t.getMinResolution()||s[s.length-1],t.getMaxResolution()||s[0])}if(n&&void 0!==o&&o!==r){var a=t.getCenter(),u=t.calculateCenterZoom(o,n);u=t.constrainCenter(u),n=[(o*a[0]-r*u[0])/(o-r),(o*a[1]-r*u[1])/(o-r)]}Nr(t,o,n,i)}function Nr(t,e,n,i){if(e){var r=t.getResolution(),o=t.getCenter();if(void 0!==r&&o&&e!==r&&i)t.animate({resolution:e,anchor:n,duration:i,easing:De});else{if(n){var s=t.calculateCenterZoom(e,n);t.setCenter(s)}t.setResolution(e)}}}var Gr=function(t){function e(e){t.call(this),e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getActive=function(){return this.get(kr.ACTIVE)},e.prototype.getMap=function(){return this.map_},e.prototype.handleEvent=function(t){return!0},e.prototype.setActive=function(t){this.set(kr.ACTIVE,t)},e.prototype.setMap=function(t){this.map_=t},e}(V);function Wr(t){var e=!1;if(t.type==ct.DBLCLICK){var n=t.originalEvent,i=t.map,r=t.coordinate,o=n.shiftKey?-this.delta_:this.delta_;Fr(i.getView(),o,r,this.duration_),t.preventDefault(),e=!0}return!e}var Br=function(t){function e(e){t.call(this,{handleEvent:Wr});var n=e||{};this.delta_=n.delta?n.delta:1,this.duration_=void 0!==n.duration?n.duration:250}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Gr),zr=function(t){var e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},Ur=function(t){return t.target.getTargetElement()===document.activeElement},Yr=S,Vr=function(t){var e=t.originalEvent;return 0==e.button&&!(it&&rt&&e.ctrlKey)},Xr=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},Hr=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},Zr=function(t){var e=t.originalEvent.target.tagName;return"INPUT"!==e&&"SELECT"!==e&&"TEXTAREA"!==e},Kr=function(t){var e=t.pointerEvent;return fe(void 0!==e,56),"mouse"==e.pointerType};function qr(t){for(var e=t.length,n=0,i=0,r=0;r<e;r++)n+=t[r].clientX,i+=t[r].clientY;return[n/e,i/e]}var Jr=function(t){function e(e){var n=e||{};t.call(this,n),n.handleDownEvent&&(this.handleDownEvent=n.handleDownEvent),n.handleDragEvent&&(this.handleDragEvent=n.handleDragEvent),n.handleMoveEvent&&(this.handleMoveEvent=n.handleMoveEvent),n.handleUpEvent&&(this.handleUpEvent=n.handleUpEvent),n.stopDown&&(this.stopDown=n.stopDown),this.handlingDownUpSequence=!1,this.trackedPointers_={},this.targetPointers=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDownEvent=function(t){return!1},e.prototype.handleDragEvent=function(t){},e.prototype.handleEvent=function(t){if(!t.pointerEvent)return!0;var e=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==ct.POINTERDRAG)this.handleDragEvent(t);else if(t.type==ct.POINTERUP){var n=this.handleUpEvent(t);this.handlingDownUpSequence=n&&this.targetPointers.length>0}}else if(t.type==ct.POINTERDOWN){var i=this.handleDownEvent(t);i&&t.preventDefault(),this.handlingDownUpSequence=i,e=this.stopDown(i)}else t.type==ct.POINTERMOVE&&this.handleMoveEvent(t);return!e},e.prototype.handleMoveEvent=function(t){},e.prototype.handleUpEvent=function(t){return!1},e.prototype.stopDown=function(t){return t},e.prototype.updateTrackedPointers_=function(t){if(function(t){var e=t.type;return e===ct.POINTERDOWN||e===ct.POINTERDRAG||e===ct.POINTERUP}(t)){var e=t.pointerEvent,n=e.pointerId.toString();t.type==ct.POINTERUP?delete this.trackedPointers_[n]:t.type==ct.POINTERDOWN?this.trackedPointers_[n]=e:n in this.trackedPointers_&&(this.trackedPointers_[n]=e),this.targetPointers=d(this.trackedPointers_)}},e}(Gr),Qr=function(t){function e(e){t.call(this,{stopDown:T});var n=e||{};this.kinetic_=n.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1,this.condition_=n.condition?n.condition:Xr,this.noKinetic_=!1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDragEvent=function(t){this.panning_||(this.panning_=!0,this.getMap().getView().setHint(Te,1));var e=this.targetPointers,n=qr(e);if(e.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(n[0],n[1]),this.lastCentroid){var i=this.lastCentroid[0]-n[0],r=n[1]-this.lastCentroid[1],o=t.map.getView(),s=[i,r];Me(s,o.getResolution()),ke(s,o.getRotation()),Ae(s,o.getCenter()),s=o.constrainCenter(s),o.setCenter(s)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=n,this.lastPointersCount_=e.length},e.prototype.handleUpEvent=function(t){var e=t.map,n=e.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var i=this.kinetic_.getDistance(),r=this.kinetic_.getAngle(),o=n.getCenter(),s=e.getPixelFromCoordinate(o),a=e.getCoordinateFromPixel([s[0]-i*Math.cos(r),s[1]-i*Math.sin(r)]);n.animate({center:n.constrainCenter(a),duration:500,easing:De})}return this.panning_&&(this.panning_=!1,n.setHint(Te,-1)),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>0&&this.condition_(t)){var e=t.map.getView();return this.lastCentroid=null,e.getAnimating()&&e.setCenter(t.frameState.viewState.center),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1},e}(Jr),$r=function(t){function e(e){var n=e||{};t.call(this,{stopDown:T}),this.condition_=n.condition?n.condition:zr,this.lastAngle_=void 0,this.duration_=void 0!==n.duration?n.duration:250}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDragEvent=function(t){if(Kr(t)){var e=t.map,n=e.getView();if(n.getConstraints().rotation!==Ce){var i=e.getSize(),r=t.pixel,o=Math.atan2(i[1]/2-r[1],r[0]-i[0]/2);if(void 0!==this.lastAngle_){var s=o-this.lastAngle_;Pr(n,n.getRotation()-s)}this.lastAngle_=o}}},e.prototype.handleUpEvent=function(t){if(!Kr(t))return!0;var e=t.map.getView();return e.setHint(Te,-1),Mr(e,e.getRotation(),void 0,this.duration_),!1},e.prototype.handleDownEvent=function(t){return!!Kr(t)&&(!(!Vr(t)||!this.condition_(t))&&(t.map.getView().setHint(Te,1),this.lastAngle_=void 0,!0))},e}(Jr),to=function(t){function e(e){t.call(this),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.setMap(null)},e.prototype.render_=function(){var t=this.startPixel_,e=this.endPixel_,n=this.element_.style;n.left=Math.min(t[0],e[0])+"px",n.top=Math.min(t[1],e[1])+"px",n.width=Math.abs(e[0]-t[0])+"px",n.height=Math.abs(e[1]-t[1])+"px"},e.prototype.setMap=function(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var e=this.element_.style;e.left=e.top=e.width=e.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},e.prototype.setPixels=function(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()},e.prototype.createOrUpdateGeometry=function(){var t=this.startPixel_,e=this.endPixel_,n=[t,[t[0],e[1]],e,[e[0],t[1]]].map(this.map_.getCoordinateFromPixel,this.map_);n[4]=n[0].slice(),this.geometry_?this.geometry_.setCoordinates([n]):this.geometry_=new Ji([n])},e.prototype.getGeometry=function(){return this.geometry_},e}(j),eo="boxstart",no="boxdrag",io="boxend",ro=function(t){function e(e,n,i){t.call(this,e),this.coordinate=n,this.mapBrowserEvent=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(A);function oo(){var t,e,n=this.getMap(),i=n.getView(),r=n.getSize(),o=this.getGeometry().getExtent();if(this.out_){var s=i.calculateExtent(r),a=(t=[n.getPixelFromCoordinate(an(o)),n.getPixelFromCoordinate(dn(o))],nn(qe(e),t));yn(s,1/i.getResolutionForExtent(a,r)),o=s}var u=i.constrainResolution(i.getResolutionForExtent(o,r)),l=ln(o);l=i.constrainCenter(l),i.animate({resolution:u,center:l,duration:this.duration_,easing:De})}var so=function(t){function e(e){var n=e||{},i=n.condition?n.condition:Hr;t.call(this,{condition:i,className:n.className||"ol-dragzoom",onBoxEnd:oo}),this.duration_=void 0!==n.duration?n.duration:200,this.out_=void 0!==n.out&&n.out}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(function(t){function e(e){t.call(this);var n=e||{};this.box_=new to(n.className||"ol-dragbox"),this.minArea_=void 0!==n.minArea?n.minArea:64,this.onBoxEnd_=n.onBoxEnd?n.onBoxEnd:R,this.startPixel_=null,this.condition_=n.condition?n.condition:Yr,this.boxEndCondition_=n.boxEndCondition?n.boxEndCondition:this.defaultBoxEndCondition}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.defaultBoxEndCondition=function(t,e,n){var i=n[0]-e[0],r=n[1]-e[1];return i*i+r*r>=this.minArea_},e.prototype.getGeometry=function(){return this.box_.getGeometry()},e.prototype.handleDragEvent=function(t){Kr(t)&&(this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new ro(no,t.coordinate,t)))},e.prototype.handleUpEvent=function(t){return!Kr(t)||(this.box_.setMap(null),this.boxEndCondition_(t,this.startPixel_,t.pixel)&&(this.onBoxEnd_(t),this.dispatchEvent(new ro(io,t.coordinate,t))),!1)},e.prototype.handleDownEvent=function(t){return!!Kr(t)&&(!(!Vr(t)||!this.condition_(t))&&(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new ro(eo,t.coordinate,t)),!0))},e}(Jr)),ao={LEFT:37,UP:38,RIGHT:39,DOWN:40};function uo(t){var e=!1;if(t.type==k.KEYDOWN){var n=t.originalEvent.keyCode;if(this.condition_(t)&&(n==ao.DOWN||n==ao.LEFT||n==ao.RIGHT||n==ao.UP)){var i=t.map.getView(),r=i.getResolution()*this.pixelDelta_,o=0,s=0;n==ao.DOWN?s=-r:n==ao.LEFT?o=-r:n==ao.RIGHT?o=r:s=r;var a=[o,s];ke(a,i.getRotation()),function(t,e,n){var i=t.getCenter();if(i){var r=t.constrainCenter([i[0]+e[0],i[1]+e[1]]);n?t.animate({duration:n,easing:Ne,center:r}):t.setCenter(r)}}(i,a,this.duration_),t.preventDefault(),e=!0}}return!e}var lo=function(t){function e(e){t.call(this,{handleEvent:uo});var n=e||{};this.defaultCondition_=function(t){return Xr(t)&&Zr(t)},this.condition_=void 0!==n.condition?n.condition:this.defaultCondition_,this.duration_=void 0!==n.duration?n.duration:100,this.pixelDelta_=void 0!==n.pixelDelta?n.pixelDelta:128}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Gr);function co(t){var e=!1;if(t.type==k.KEYDOWN||t.type==k.KEYPRESS){var n=t.originalEvent.charCode;if(this.condition_(t)&&(n=="+".charCodeAt(0)||n=="-".charCodeAt(0))){var i=t.map,r=n=="+".charCodeAt(0)?this.delta_:-this.delta_;Fr(i.getView(),r,void 0,this.duration_),t.preventDefault(),e=!0}}return!e}var ho=function(t){function e(e){t.call(this,{handleEvent:co});var n=e||{};this.condition_=n.condition?n.condition:Zr,this.delta_=n.delta?n.delta:1,this.duration_=void 0!==n.duration?n.duration:100}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Gr),fo="trackpad",po="wheel",vo=function(t){function e(e){var n=e||{};t.call(this,n),this.delta_=0,this.duration_=void 0!==n.duration?n.duration:250,this.timeout_=void 0!==n.timeout?n.timeout:80,this.useAnchor_=void 0===n.useAnchor||n.useAnchor,this.constrainResolution_=n.constrainResolution||!1,this.condition_=n.condition?n.condition:Yr,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.trackpadDeltaPerZoom_=300,this.trackpadZoomBuffer_=1.5}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.decrementInteractingHint_=function(){this.trackpadTimeoutId_=void 0,this.getMap().getView().setHint(Te,-1)},e.prototype.handleEvent=function(t){if(!this.condition_(t))return!0;var e=t.type;if(e!==k.WHEEL&&e!==k.MOUSEWHEEL)return!0;t.preventDefault();var n,i=t.map,r=t.originalEvent;if(this.useAnchor_&&(this.lastAnchor_=t.coordinate),t.type==k.WHEEL?(n=r.deltaY,et&&r.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(n/=ot),r.deltaMode===WheelEvent.DOM_DELTA_LINE&&(n*=40)):t.type==k.MOUSEWHEEL&&(n=-r.wheelDeltaY,nt&&(n/=3)),0===n)return!1;var o=Date.now();if(void 0===this.startTime_&&(this.startTime_=o),(!this.mode_||o-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(n)<4?fo:po),this.mode_===fo){var s=i.getView();this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):s.setHint(Te,1),this.trackpadTimeoutId_=setTimeout(this.decrementInteractingHint_.bind(this),this.trackpadEventGap_);var a=s.getResolution()*Math.pow(2,n/this.trackpadDeltaPerZoom_),u=s.getMinResolution(),l=s.getMaxResolution(),c=0;if(a<u?(a=Math.max(a,u/this.trackpadZoomBuffer_),c=1):a>l&&(a=Math.min(a,l*this.trackpadZoomBuffer_),c=-1),this.lastAnchor_){var h=s.calculateCenterZoom(a,this.lastAnchor_);s.setCenter(s.constrainCenter(h))}return s.setResolution(a),0===c&&this.constrainResolution_&&s.animate({resolution:s.constrainResolution(a,n>0?-1:1),easing:De,anchor:this.lastAnchor_,duration:this.duration_}),c>0?s.animate({resolution:u,easing:De,anchor:this.lastAnchor_,duration:500}):c<0&&s.animate({resolution:l,easing:De,anchor:this.lastAnchor_,duration:500}),this.startTime_=o,!1}this.delta_+=n;var f=Math.max(this.timeout_-(o-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,i),f),!1},e.prototype.handleWheelZoom_=function(t){var e=t.getView();e.getAnimating()&&e.cancelAnimations();Fr(e,-ge(this.delta_,-1,1),this.lastAnchor_,this.duration_),this.mode_=void 0,this.delta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},e.prototype.setMouseAnchor=function(t){this.useAnchor_=t,t||(this.lastAnchor_=null)},e}(Gr),go=function(t){function e(e){var n=e||{},i=n;i.stopDown||(i.stopDown=T),t.call(this,i),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=void 0!==n.threshold?n.threshold:.3,this.duration_=void 0!==n.duration?n.duration:250}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDragEvent=function(t){var e=0,n=this.targetPointers[0],i=this.targetPointers[1],r=Math.atan2(i.clientY-n.clientY,i.clientX-n.clientX);if(void 0!==this.lastAngle_){var o=r-this.lastAngle_;this.rotationDelta_+=o,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=o}this.lastAngle_=r;var s=t.map,a=s.getView();if(a.getConstraints().rotation!==Ce){var u=s.getViewport().getBoundingClientRect(),l=qr(this.targetPointers);if(l[0]-=u.left,l[1]-=u.top,this.anchor_=s.getCoordinateFromPixel(l),this.rotating_){var c=a.getRotation();s.render(),Pr(a,c+e,this.anchor_)}}},e.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var e=t.map.getView();if(e.setHint(Te,-1),this.rotating_)Mr(e,e.getRotation(),this.anchor_,this.duration_);return!1}return!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||e.getView().setHint(Te,1),!0}return!1},e}(Jr),mo=function(t){function e(e){var n=e||{},i=n;i.stopDown||(i.stopDown=T),t.call(this,i),this.constrainResolution_=n.constrainResolution||!1,this.anchor_=null,this.duration_=void 0!==n.duration?n.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDragEvent=function(t){var e=1,n=this.targetPointers[0],i=this.targetPointers[1],r=n.clientX-i.clientX,o=n.clientY-i.clientY,s=Math.sqrt(r*r+o*o);void 0!==this.lastDistance_&&(e=this.lastDistance_/s),this.lastDistance_=s;var a=t.map,u=a.getView(),l=u.getResolution(),c=u.getMaxResolution(),h=u.getMinResolution(),f=l*e;f>c?(e=c/l,f=c):f<h&&(e=h/l,f=h),1!=e&&(this.lastScaleDelta_=e);var p=a.getViewport().getBoundingClientRect(),d=qr(this.targetPointers);d[0]-=p.left,d[1]-=p.top,this.anchor_=a.getCoordinateFromPixel(d),a.render(),Nr(u,f,this.anchor_)},e.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var e=t.map.getView();e.setHint(Te,-1);var n=e.getResolution();if(this.constrainResolution_||n<e.getMinResolution()||n>e.getMaxResolution()){var i=this.lastScaleDelta_-1;Dr(e,n,this.anchor_,this.duration_,i)}return!1}return!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().setHint(Te,1),!0}return!1},e}(Jr);var yo=function(t){function e(e){if(t.call(this),this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,w(this,Y(this.geometryName_),this.handleGeometryChanged_,this),e)if("function"==typeof e.getSimplifiedGeometry){var n=e;this.setGeometry(n)}else{var i=e;this.setProperties(i)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){var t=new e(this.getProperties());t.setGeometryName(this.getGeometryName());var n=this.getGeometry();n&&t.setGeometry(n.clone());var i=this.getStyle();return i&&t.setStyle(i),t},e.prototype.getGeometry=function(){return this.get(this.geometryName_)},e.prototype.getId=function(){return this.id_},e.prototype.getGeometryName=function(){return this.geometryName_},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.handleGeometryChange_=function(){this.changed()},e.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(E(this.geometryChangeKey_),this.geometryChangeKey_=null);var t=this.getGeometry();t&&(this.geometryChangeKey_=w(t,k.CHANGE,this.handleGeometryChange_,this)),this.changed()},e.prototype.setGeometry=function(t){this.set(this.geometryName_,t)},e.prototype.setStyle=function(t){this.style_=t,this.styleFunction_=t?function(t){if("function"==typeof t)return t;var e;if(Array.isArray(t))e=t;else{fe("function"==typeof t.getZIndex,41);var n=t;e=[n]}return function(){return e}}(t):void 0,this.changed()},e.prototype.setId=function(t){this.id_=t,this.changed()},e.prototype.setGeometryName=function(t){x(this,Y(this.geometryName_),this.handleGeometryChanged_,this),this.geometryName_=t,w(this,Y(this.geometryName_),this.handleGeometryChanged_,this),this.handleGeometryChanged_()},e}(V),_o=function(t){function e(e,n,i){if(t.call(this),void 0!==i&&void 0===n)this.setFlatCoordinates(i,e);else{var r=n||0;this.setCenterAndRadius(e,r,i)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),void 0,this.layout)},e.prototype.closestPointXY=function(t,e,n,i){var r=this.flatCoordinates,o=t-r[0],s=e-r[1],a=o*o+s*s;if(a<i){if(0===a)for(var u=0;u<this.stride;++u)n[u]=r[u];else{var l=this.getRadius()/Math.sqrt(a);n[0]=r[0]+l*o,n[1]=r[1]+l*s;for(var c=2;c<this.stride;++c)n[c]=r[c]}return n.length=this.stride,a}return i},e.prototype.containsXY=function(t,e){var n=this.flatCoordinates,i=t-n[0],r=e-n[1];return i*i+r*r<=this.getRadiusSquared_()},e.prototype.getCenter=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.computeExtent=function(t){var e=this.flatCoordinates,n=e[this.stride]-e[0];return Ke(e[0]-n,e[1]-n,e[0]+n,e[1]+n,t)},e.prototype.getRadius=function(){return Math.sqrt(this.getRadiusSquared_())},e.prototype.getRadiusSquared_=function(){var t=this.flatCoordinates[this.stride]-this.flatCoordinates[0],e=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return t*t+e*e},e.prototype.getType=function(){return wn.CIRCLE},e.prototype.intersectsExtent=function(t){if(gn(t,this.getExtent())){var e=this.getCenter();return t[0]<=e[0]&&t[2]>=e[0]||(t[1]<=e[1]&&t[3]>=e[1]||sn(t,this.intersectsCoordinate,this))}return!1},e.prototype.setCenter=function(t){var e=this.stride,n=this.flatCoordinates[e]-this.flatCoordinates[0],i=t.slice();i[e]=i[0]+n;for(var r=1;r<e;++r)i[e+r]=t[r];this.setFlatCoordinates(this.layout,i),this.changed()},e.prototype.setCenterAndRadius=function(t,e,n){this.setLayout(n,t,0),this.flatCoordinates||(this.flatCoordinates=[]);var i=this.flatCoordinates,r=ji(i,0,t,this.stride);i[r++]=i[0]+e;for(var o=1,s=this.stride;o<s;++o)i[r++]=i[o];i.length=r,this.changed()},e.prototype.getCoordinates=function(){return null},e.prototype.setCoordinates=function(t,e){},e.prototype.setRadius=function(t){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+t,this.changed()},e}(mi);_o.prototype.transform;var wo=_o;function bo(t,e,n,i,r,o){var s=NaN,a=NaN,u=(n-e)/i;if(1===u)s=t[e],a=t[e+1];else if(2==u)s=(1-r)*t[e]+r*t[e+i],a=(1-r)*t[e+1]+r*t[e+i+1];else if(0!==u){for(var l=t[e],c=t[e+1],h=0,f=[0],p=e+i;p<n;p+=i){var d=t[p],v=t[p+1];h+=Math.sqrt((d-l)*(d-l)+(v-c)*(v-c)),f.push(h),l=d,c=v}var g=r*h,m=function(t,e,n){for(var i,r,o=n||Xt,s=0,a=t.length,u=!1;s<a;)(r=+o(t[i=s+(a-s>>1)],e))<0?s=i+1:(a=i,u=!r);return u?s:~s}(f,g);if(m<0){var y=(g-f[-m-2])/(f[-m-1]-f[-m-2]),_=e+(-m-2)*i;s=xe(t[_],t[_+i],y),a=xe(t[_+1],t[_+i+1],y)}else s=t[e+m*i],a=t[e+m*i+1]}return o?(o[0]=s,o[1]=a,o):[s,a]}function xo(t,e,n,i,r,o){if(n==e)return null;var s;if(r<t[e+i-1])return o?((s=t.slice(e,e+i))[i-1]=r,s):null;if(t[n-1]<r)return o?((s=t.slice(n-i,n))[i-1]=r,s):null;if(r==t[e+i-1])return t.slice(e,e+i);for(var a=e/i,u=n/i;a<u;){var l=a+u>>1;r<t[(l+1)*i-1]?u=l:a=l+1}var c=t[a*i-1];if(r==c)return t.slice((a-1)*i,(a-1)*i+i);var h=(r-c)/(t[(a+1)*i-1]-c);s=[];for(var f=0;f<i-1;++f)s.push(xe(t[(a-1)*i+f],t[a*i+f],h));return s.push(r),s}function Eo(t,e,n,i){for(var r=t[e],o=t[e+1],s=0,a=e+i;a<n;a+=i){var u=t[a],l=t[a+1];s+=Math.sqrt((u-r)*(u-r)+(l-o)*(l-o)),r=u,o=l}return s}var Co=function(t){function e(e,n){t.call(this),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===n||Array.isArray(e[0])?this.setCoordinates(e,n):this.setFlatCoordinates(n,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.appendCoordinate=function(t){this.flatCoordinates?qt(this.flatCoordinates,t):this.flatCoordinates=t.slice(),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,i){return i<Ue(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(bi(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Ei(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,e,n,i))},e.prototype.forEachSegment=function(t){return zi(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinateAtM=function(t,e){if(this.layout!=bn.XYM&&this.layout!=bn.XYZM)return null;var n=void 0!==e&&e;return xo(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n)},e.prototype.getCoordinates=function(){return Ri(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinateAt=function(t,e){return bo(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e)},e.prototype.getLength=function(){return Eo(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[];return n.length=Ai(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new e(n,bn.XY)},e.prototype.getType=function(){return wn.LINE_STRING},e.prototype.intersectsExtent=function(t){return Ui(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Si(this.flatCoordinates,0,t,this.stride),this.changed()},e}(mi),jo=function(t){function e(e,n,i){if(t.call(this),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(e[0]))this.setCoordinates(e,n);else if(void 0!==n&&i)this.setFlatCoordinates(n,e),this.ends_=i;else{for(var r=this.getLayout(),o=e,s=[],a=[],u=0,l=o.length;u<l;++u){var c=o[u];0===u&&(r=c.getLayout()),qt(s,c.getFlatCoordinates()),a.push(s.length)}this.setFlatCoordinates(r,s),this.ends_=a}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.appendLineString=function(t){this.flatCoordinates?qt(this.flatCoordinates,t.getFlatCoordinates().slice()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice())},e.prototype.closestPointXY=function(t,e,n,i){return i<Ue(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(xi(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Ci(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,t,e,n,i))},e.prototype.getCoordinateAtM=function(t,e,n){if(this.layout!=bn.XYM&&this.layout!=bn.XYZM||0===this.flatCoordinates.length)return null;var i=void 0!==e&&e,r=void 0!==n&&n;return function(t,e,n,i,r,o,s){if(s)return xo(t,e,n[n.length-1],i,r,o);var a;if(r<t[i-1])return o?((a=t.slice(0,i))[i-1]=r,a):null;if(t[t.length-1]<r)return o?((a=t.slice(t.length-i))[i-1]=r,a):null;for(var u=0,l=n.length;u<l;++u){var c=n[u];if(e!=c){if(r<t[e+i-1])return null;if(r<=t[c-1])return xo(t,e,c,i,r,!1);e=c}}return null}(this.flatCoordinates,0,this.ends_,this.stride,t,i,r)},e.prototype.getCoordinates=function(){return Ii(this.flatCoordinates,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getLineString=function(t){return t<0||this.ends_.length<=t?null:new Co(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLineStrings=function(){for(var t=this.flatCoordinates,e=this.ends_,n=this.layout,i=[],r=0,o=0,s=e.length;o<s;++o){var a=e[o],u=new Co(t.slice(r,a),n);i.push(u),r=a}return i},e.prototype.getFlatMidpoints=function(){for(var t=[],e=this.flatCoordinates,n=0,i=this.ends_,r=this.stride,o=0,s=i.length;o<s;++o){var a=i[o];qt(t,bo(e,n,a,r,.5)),n=a}return t},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],i=[];return n.length=Li(this.flatCoordinates,0,this.ends_,this.stride,t,n,0,i),new e(n,bn.XY,i)},e.prototype.getType=function(){return wn.MULTI_LINE_STRING},e.prototype.intersectsExtent=function(t){return function(t,e,n,i,r){for(var o=0,s=n.length;o<s;++o){if(Ui(t,e,n[o],i,r))return!0;e=n[o]}return!1}(this.flatCoordinates,0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=Ti(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()},e}(mi),So=function(t){function e(e,n){t.call(this),n&&!Array.isArray(e[0])?this.setFlatCoordinates(n,e):this.setCoordinates(e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.appendPoint=function(t){this.flatCoordinates?qt(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,i){if(i<Ue(this.getExtent(),t,e))return i;for(var r=this.flatCoordinates,o=this.stride,s=0,a=r.length;s<a;s+=o){var u=_e(t,e,r[s],r[s+1]);if(u<i){i=u;for(var l=0;l<o;++l)n[l]=r[s+l];n.length=o}}return i},e.prototype.getCoordinates=function(){return Ri(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getPoint=function(t){var e=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return t<0||e<=t?null:new Fi(this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride),this.layout)},e.prototype.getPoints=function(){for(var t=this.flatCoordinates,e=this.layout,n=this.stride,i=[],r=0,o=t.length;r<o;r+=n){var s=new Fi(t.slice(r,r+n),e);i.push(s)}return i},e.prototype.getType=function(){return wn.MULTI_POINT},e.prototype.intersectsExtent=function(t){for(var e=this.flatCoordinates,n=this.stride,i=0,r=e.length;i<r;i+=n){if(Xe(t,e[i],e[i+1]))return!0}return!1},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Si(this.flatCoordinates,0,t,this.stride),this.changed()},e}(mi);var To=function(t){function e(e,n,i){if(t.call(this),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!i&&!Array.isArray(e[0])){for(var r=this.getLayout(),o=e,s=[],a=[],u=0,l=o.length;u<l;++u){var c=o[u];0===u&&(r=c.getLayout());for(var h=s.length,f=c.getEnds(),p=0,d=f.length;p<d;++p)f[p]+=h;qt(s,c.getFlatCoordinates()),a.push(f)}n=r,e=s,i=a}void 0!==n&&i?(this.setFlatCoordinates(n,e),this.endss_=i):this.setCoordinates(e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.appendPolygon=function(t){var e;if(this.flatCoordinates){var n=this.flatCoordinates.length;qt(this.flatCoordinates,t.getFlatCoordinates());for(var i=0,r=(e=t.getEnds().slice()).length;i<r;++i)e[i]+=n}else this.flatCoordinates=t.getFlatCoordinates().slice(),e=t.getEnds().slice(),this.endss_.push();this.endss_.push(e),this.changed()},e.prototype.clone=function(){for(var t=this.endss_.length,n=new Array(t),i=0;i<t;++i)n[i]=this.endss_[i].slice();return new e(this.flatCoordinates.slice(),this.layout,n)},e.prototype.closestPointXY=function(t,e,n,i){return i<Ue(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(function(t,e,n,i,r){for(var o=0,s=n.length;o<s;++o){var a=n[o];r=xi(t,e,a,i,r),e=a[a.length-1]}return r}(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),function(t,e,n,i,r,o,s,a,u,l,c){for(var h=c||[NaN,NaN],f=0,p=n.length;f<p;++f){var d=n[f];l=Ci(t,e,d,i,r,o,s,a,u,l,h),e=d[d.length-1]}return l}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,t,e,n,i))},e.prototype.containsXY=function(t,e){return function(t,e,n,i,r,o){if(0===n.length)return!1;for(var s=0,a=n.length;s<a;++s){var u=n[s];if(Wi(t,e,u,i,r,o))return!0;e=u[u.length-1]}return!1}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,e)},e.prototype.getArea=function(){return function(t,e,n,i){for(var r=0,o=0,s=n.length;o<s;++o){var a=n[o];r+=_i(t,e,a,i),e=a[a.length-1]}return r}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},e.prototype.getCoordinates=function(t){var e;return void 0!==t?Ki(e=this.getOrientedFlatCoordinates().slice(),0,this.endss_,this.stride,t):e=this.flatCoordinates,Oi(e,0,this.endss_,this.stride)},e.prototype.getEndss=function(){return this.endss_},e.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var t=function(t,e,n,i){for(var r=[],o=[1/0,1/0,-1/0,-1/0],s=0,a=n.length;s<a;++s){var u=n[s];o=Qe(t,e,u[0],i),r.push((o[0]+o[2])/2,(o[1]+o[3])/2),e=u[u.length-1]}return r}(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=function(t,e,n,i,r){for(var o=[],s=0,a=n.length;s<a;++s){var u=n[s];o=Bi(t,e,u,i,r,2*s,o),e=u[u.length-1]}return o}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},e.prototype.getInteriorPoints=function(){return new So(this.getFlatInteriorPoints().slice(),bn.XYM)},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;!function(t,e,n,i,r){for(var o=0,s=n.length;o<s;++o)if(!Hi(t,e,n[o],i,r))return!1;return!0}(t,0,this.endss_,this.stride)?(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Ki(this.orientedFlatCoordinates_,0,this.endss_,this.stride)):this.orientedFlatCoordinates_=t,this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],i=[];return n.length=function(t,e,n,i,r,o,s,a){for(var u=0,l=n.length;u<l;++u){var c=n[u],h=[];s=Pi(t,e,c,i,r,o,s,h),a.push(h),e=c[c.length-1]}return s}(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),n,0,i),new e(n,bn.XY,i)},e.prototype.getPolygon=function(t){if(t<0||this.endss_.length<=t)return null;var e;if(0===t)e=0;else{var n=this.endss_[t-1];e=n[n.length-1]}var i=this.endss_[t].slice(),r=i[i.length-1];if(0!==e)for(var o=0,s=i.length;o<s;++o)i[o]-=e;return new Ji(this.flatCoordinates.slice(e,r),this.layout,i)},e.prototype.getPolygons=function(){for(var t=this.layout,e=this.flatCoordinates,n=this.endss_,i=[],r=0,o=0,s=n.length;o<s;++o){var a=n[o].slice(),u=a[a.length-1];if(0!==r)for(var l=0,c=a.length;l<c;++l)a[l]-=r;var h=new Ji(e.slice(r,u),t,a);i.push(h),r=u}return i},e.prototype.getType=function(){return wn.MULTI_POLYGON},e.prototype.intersectsExtent=function(t){return function(t,e,n,i,r){for(var o=0,s=n.length;o<s;++o){var a=n[o];if(Yi(t,e,a,i,r))return!0;e=a[a.length-1]}return!1}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,3),this.flatCoordinates||(this.flatCoordinates=[]);var n=function(t,e,n,i,r){for(var o=r||[],s=0,a=0,u=n.length;a<u;++a){var l=Ti(t,e,n[a],i,o[s]);o[s++]=l,e=l[l.length-1]}return o.length=s,o}(this.flatCoordinates,0,t,this.stride,this.endss_);if(0===n.length)this.flatCoordinates.length=0;else{var i=n[n.length-1];this.flatCoordinates.length=0===i.length?0:i[i.length-1]}this.changed()},e}(mi),Ro={IMAGE:"IMAGE",TILE:"TILE",VECTOR_TILE:"VECTOR_TILE",VECTOR:"VECTOR"},Io={IMAGE:"image",VECTOR:"vector"},Oo=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,Ao=/^([a-z]*)$/i;function Lo(t){return"string"==typeof t?t:Po(t)}var ko=function(){var t={},e=0;return function(n){var i;if(t.hasOwnProperty(n))i=t[n];else{if(e>=1024){var r=0;for(var o in t)0==(3&r++)&&(delete t[o],--e)}i=function(t){var e,n,i,r,o;Ao.exec(t)&&(t=function(t){var e=document.createElement("div");if(e.style.color=t,""!==e.style.color){document.body.appendChild(e);var n=getComputedStyle(e).color;return document.body.removeChild(e),n}return""}(t));if(Oo.exec(t)){var s,a=t.length-1;s=a<=4?1:2;var u=4===a||8===a;e=parseInt(t.substr(1+0*s,s),16),n=parseInt(t.substr(1+1*s,s),16),i=parseInt(t.substr(1+2*s,s),16),r=u?parseInt(t.substr(1+3*s,s),16):255,1==s&&(e=(e<<4)+e,n=(n<<4)+n,i=(i<<4)+i,u&&(r=(r<<4)+r)),o=[e,n,i,r/255]}else 0==t.indexOf("rgba(")?Mo(o=t.slice(5,-1).split(",").map(Number)):0==t.indexOf("rgb(")?((o=t.slice(4,-1).split(",").map(Number)).push(1),Mo(o)):fe(!1,14);return o}(n),t[n]=i,++e}return i}}();function Mo(t){return t[0]=ge(t[0]+.5|0,0,255),t[1]=ge(t[1]+.5|0,0,255),t[2]=ge(t[2]+.5|0,0,255),t[3]=ge(t[3],0,1),t}function Po(t){var e=t[0];e!=(0|e)&&(e=e+.5|0);var n=t[1];n!=(0|n)&&(n=n+.5|0);var i=t[2];return i!=(0|i)&&(i=i+.5|0),"rgba("+e+","+n+","+i+","+(void 0===t[3]?1:t[3])+")"}function Do(t){return Array.isArray(t)?Po(t):t}var Fo={IDLE:0,LOADING:1,LOADED:2,ERROR:3},No=function(t){function e(e){t.call(this),this.highWaterMark=void 0!==e?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.canExpireCache=function(){return this.getCount()>this.highWaterMark},e.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null,this.dispatchEvent(k.CLEAR)},e.prototype.containsKey=function(t){return this.entries_.hasOwnProperty(t)},e.prototype.forEach=function(t,e){for(var n=this.oldest_;n;)t.call(e,n.value_,n.key_,this),n=n.newer},e.prototype.get=function(t){var e=this.entries_[t];return fe(void 0!==e,15),e===this.newest_?e.value_:(e===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(e.newer.older=e.older,e.older.newer=e.newer),e.newer=null,e.older=this.newest_,this.newest_.newer=e,this.newest_=e,e.value_)},e.prototype.remove=function(t){var e=this.entries_[t];return fe(void 0!==e,15),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[t],--this.count_,e.value_},e.prototype.getCount=function(){return this.count_},e.prototype.getKeys=function(){var t,e=new Array(this.count_),n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.key_;return e},e.prototype.getValues=function(){var t,e=new Array(this.count_),n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.value_;return e},e.prototype.peekLast=function(){return this.oldest_.value_},e.prototype.peekLastKey=function(){return this.oldest_.key_},e.prototype.peekFirstKey=function(){return this.newest_.key_},e.prototype.pop=function(){var t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_},e.prototype.replace=function(t,e){this.get(t),this.entries_[t].value_=e},e.prototype.set=function(t,e){fe(!(t in this.entries_),16);var n={key_:t,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=n:this.oldest_=n,this.newest_=n,this.entries_[t]=n,++this.count_},e.prototype.setSize=function(t){this.highWaterMark=t},e.prototype.prune=function(){for(;this.canExpireCache();)this.pop()},e}(L),Go=[0,0,0,1],Wo=[],Bo=[0,0,0,1],zo=[0,0,0,0],Uo=new No,Yo={},Vo=null,Xo={},Ho=function(){var t,e,n=60,i=Yo,r="32px ",o=["monospace","serif"],s=o.length,a="wmytzilWMYTZIL@#/&?$%10";function u(t){for(var n=Zo(),i=100;i<=700;i+=300){for(var u=i+" ",l=!0,c=0;c<s;++c){var h=o[c];if(n.font=u+r+h,e=n.measureText(a).width,t!=h){n.font=u+r+t+","+h;var f=n.measureText(a).width;l=l&&f!=e}}if(l)return!0}return!1}function l(){var e=!0;for(var r in i)i[r]<n&&(u(r)?(i[r]=n,p(Xo),Vo=null,Uo.clear()):(++i[r],e=!1));e&&(clearInterval(t),t=void 0)}return function(e){var r=xr(e);if(r)for(var o=0,s=r.length;o<s;++o){var a=r[o];a in i||(i[a]=n,u(a)||(i[a]=0,void 0===t&&(t=setInterval(l,32))))}}}();function Zo(){return Vo||(Vo=ir(1,1)),Vo}var Ko,qo,Jo=(qo=Xo,function(t){var e=qo[t];return void 0==e&&(Ko||((Ko=document.createElement("span")).textContent="M",Ko.style.margin=Ko.style.padding="0 !important",Ko.style.position="absolute !important",Ko.style.left="-99999px !important"),Ko.style.font=t,document.body.appendChild(Ko),e=qo[t]=Ko.offsetHeight,document.body.removeChild(Ko)),e});function Qo(t,e){var n=Zo();return t!=n.font&&(n.font=t),n.measureText(e).width}function $o(t,e,n,i){0!==e&&(t.translate(n,i),t.rotate(e),t.translate(-n,-i))}var ts=[1,0,0,1,0,0];function es(t,e,n,i,r,o,s,a,u,l,c){var h;1!=n&&(h=t.globalAlpha,t.globalAlpha=h*n),e&&t.setTransform.apply(t,e),t.drawImage(i,r,o,s,a,u,l,s*c,a*c),h&&(t.globalAlpha=h),e&&t.setTransform.apply(t,ts)}var ns=function(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale};ns.prototype.clone=function(){return new ns({opacity:this.getOpacity(),scale:this.getScale(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},ns.prototype.getOpacity=function(){return this.opacity_},ns.prototype.getRotateWithView=function(){return this.rotateWithView_},ns.prototype.getRotation=function(){return this.rotation_},ns.prototype.getScale=function(){return this.scale_},ns.prototype.getSnapToPixel=function(){return!1},ns.prototype.getAnchor=function(){return P()},ns.prototype.getImage=function(t){return P()},ns.prototype.getHitDetectionImage=function(t){return P()},ns.prototype.getImageState=function(){return P()},ns.prototype.getImageSize=function(){return P()},ns.prototype.getHitDetectionImageSize=function(){return P()},ns.prototype.getOrigin=function(){return P()},ns.prototype.getSize=function(){return P()},ns.prototype.setOpacity=function(t){this.opacity_=t},ns.prototype.setRotateWithView=function(t){this.rotateWithView_=t},ns.prototype.setRotation=function(t){this.rotation_=t},ns.prototype.setScale=function(t){this.scale_=t},ns.prototype.setSnapToPixel=function(t){},ns.prototype.listenImageChange=function(t,e){return P()},ns.prototype.load=function(){P()},ns.prototype.unlistenImageChange=function(t,e){P()};var is=ns,rs=function(t){function e(e){var n=void 0!==e.rotateWithView&&e.rotateWithView;t.call(this,{opacity:1,rotateWithView:n,rotation:void 0!==e.rotation?e.rotation:0,scale:1}),this.checksums_=null,this.canvas_=null,this.hitDetectionCanvas_=null,this.fill_=void 0!==e.fill?e.fill:null,this.origin_=[0,0],this.points_=e.points,this.radius_=void 0!==e.radius?e.radius:e.radius1,this.radius2_=e.radius2,this.angle_=void 0!==e.angle?e.angle:0,this.stroke_=void 0!==e.stroke?e.stroke:null,this.anchor_=null,this.size_=null,this.imageSize_=null,this.hitDetectionImageSize_=null,this.atlasManager_=e.atlasManager,this.render_(this.atlasManager_)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){var t=new e({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),atlasManager:this.atlasManager_});return t.setOpacity(this.getOpacity()),t.setScale(this.getScale()),t},e.prototype.getAnchor=function(){return this.anchor_},e.prototype.getAngle=function(){return this.angle_},e.prototype.getFill=function(){return this.fill_},e.prototype.getHitDetectionImage=function(t){return this.hitDetectionCanvas_},e.prototype.getImage=function(t){return this.canvas_},e.prototype.getImageSize=function(){return this.imageSize_},e.prototype.getHitDetectionImageSize=function(){return this.hitDetectionImageSize_},e.prototype.getImageState=function(){return Fo.LOADED},e.prototype.getOrigin=function(){return this.origin_},e.prototype.getPoints=function(){return this.points_},e.prototype.getRadius=function(){return this.radius_},e.prototype.getRadius2=function(){return this.radius2_},e.prototype.getSize=function(){return this.size_},e.prototype.getStroke=function(){return this.stroke_},e.prototype.listenImageChange=function(t,e){},e.prototype.load=function(){},e.prototype.unlistenImageChange=function(t,e){},e.prototype.render_=function(t){var e,n,i="",r="",o=0,s=null,a=0,u=0;this.stroke_&&(null===(n=this.stroke_.getColor())&&(n=Bo),n=Do(n),void 0===(u=this.stroke_.getWidth())&&(u=1),s=this.stroke_.getLineDash(),a=this.stroke_.getLineDashOffset(),st||(s=null,a=0),void 0===(r=this.stroke_.getLineJoin())&&(r="round"),void 0===(i=this.stroke_.getLineCap())&&(i="round"),void 0===(o=this.stroke_.getMiterLimit())&&(o=10));var l=2*(this.radius_+u)+1,c={strokeStyle:n,strokeWidth:u,size:l,lineCap:i,lineDash:s,lineDashOffset:a,lineJoin:r,miterLimit:o};if(void 0===t){var h=ir(l,l);this.canvas_=h.canvas,e=l=this.canvas_.width,this.draw_(c,h,0,0),this.createHitDetectionCanvas_(c)}else{l=Math.round(l);var f,p=!this.fill_;p&&(f=this.drawHitDetectionCanvas_.bind(this,c));var d=this.getChecksum(),v=t.add(d,l,l,this.draw_.bind(this,c),f);this.canvas_=v.image,this.origin_=[v.offsetX,v.offsetY],e=v.image.width,p?(this.hitDetectionCanvas_=v.hitImage,this.hitDetectionImageSize_=[v.hitImage.width,v.hitImage.height]):(this.hitDetectionCanvas_=this.canvas_,this.hitDetectionImageSize_=[e,e])}this.anchor_=[l/2,l/2],this.size_=[l,l],this.imageSize_=[e,e]},e.prototype.draw_=function(t,e,n,i){var r,o,s;e.setTransform(1,0,0,1,0,0),e.translate(n,i),e.beginPath();var a=this.points_;if(a===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var u=void 0!==this.radius2_?this.radius2_:this.radius_;for(u!==this.radius_&&(a*=2),r=0;r<=a;r++)o=2*r*Math.PI/a-Math.PI/2+this.angle_,s=r%2==0?this.radius_:u,e.lineTo(t.size/2+s*Math.cos(o),t.size/2+s*Math.sin(o))}if(this.fill_){var l=this.fill_.getColor();null===l&&(l=Go),e.fillStyle=Do(l),e.fill()}this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke()),e.closePath()},e.prototype.createHitDetectionCanvas_=function(t){if(this.hitDetectionImageSize_=[t.size,t.size],this.fill_)this.hitDetectionCanvas_=this.canvas_;else{var e=ir(t.size,t.size);this.hitDetectionCanvas_=e.canvas,this.drawHitDetectionCanvas_(t,e,0,0)}},e.prototype.drawHitDetectionCanvas_=function(t,e,n,i){e.setTransform(1,0,0,1,0,0),e.translate(n,i),e.beginPath();var r=this.points_;if(r===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var o,s,a,u=void 0!==this.radius2_?this.radius2_:this.radius_;for(u!==this.radius_&&(r*=2),o=0;o<=r;o++)a=2*o*Math.PI/r-Math.PI/2+this.angle_,s=o%2==0?this.radius_:u,e.lineTo(t.size/2+s*Math.cos(a),t.size/2+s*Math.sin(a))}e.fillStyle=Lo(Go),e.fill(),this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.stroke()),e.closePath()},e.prototype.getChecksum=function(){var t=this.stroke_?this.stroke_.getChecksum():"-",e=this.fill_?this.fill_.getChecksum():"-";if(!this.checksums_||t!=this.checksums_[1]||e!=this.checksums_[2]||this.radius_!=this.checksums_[3]||this.radius2_!=this.checksums_[4]||this.angle_!=this.checksums_[5]||this.points_!=this.checksums_[6]){var n="r"+t+e+(void 0!==this.radius_?this.radius_.toString():"-")+(void 0!==this.radius2_?this.radius2_.toString():"-")+(void 0!==this.angle_?this.angle_.toString():"-")+(void 0!==this.points_?this.points_.toString():"-");this.checksums_=[n,t,e,this.radius_,this.radius2_,this.angle_,this.points_]}return this.checksums_[0]},e}(is),os=function(t){function e(e){var n=e||{};t.call(this,{points:1/0,fill:n.fill,radius:n.radius,stroke:n.stroke,atlasManager:n.atlasManager})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){var t=new e({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),atlasManager:this.atlasManager_});return t.setOpacity(this.getOpacity()),t.setScale(this.getScale()),t},e.prototype.setRadius=function(t){this.radius_=t,this.render_(this.atlasManager_)},e}(rs),ss=function(t){var e=t||{};this.color_=void 0!==e.color?e.color:null,this.checksum_=void 0};ss.prototype.clone=function(){var t=this.getColor();return new ss({color:Array.isArray(t)?t.slice():t||void 0})},ss.prototype.getColor=function(){return this.color_},ss.prototype.setColor=function(t){this.color_=t,this.checksum_=void 0},ss.prototype.getChecksum=function(){if(void 0===this.checksum_){var t=this.color_;t?Array.isArray(t)||"string"==typeof t?this.checksum_="f"+Lo(t):this.checksum_=F(this.color_):this.checksum_="f-"}return this.checksum_};var as=ss,us=function(t){var e=t||{};this.color_=void 0!==e.color?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=void 0!==e.lineDash?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width,this.checksum_=void 0};us.prototype.clone=function(){var t=this.getColor();return new us({color:Array.isArray(t)?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},us.prototype.getColor=function(){return this.color_},us.prototype.getLineCap=function(){return this.lineCap_},us.prototype.getLineDash=function(){return this.lineDash_},us.prototype.getLineDashOffset=function(){return this.lineDashOffset_},us.prototype.getLineJoin=function(){return this.lineJoin_},us.prototype.getMiterLimit=function(){return this.miterLimit_},us.prototype.getWidth=function(){return this.width_},us.prototype.setColor=function(t){this.color_=t,this.checksum_=void 0},us.prototype.setLineCap=function(t){this.lineCap_=t,this.checksum_=void 0},us.prototype.setLineDash=function(t){this.lineDash_=t,this.checksum_=void 0},us.prototype.setLineDashOffset=function(t){this.lineDashOffset_=t,this.checksum_=void 0},us.prototype.setLineJoin=function(t){this.lineJoin_=t,this.checksum_=void 0},us.prototype.setMiterLimit=function(t){this.miterLimit_=t,this.checksum_=void 0},us.prototype.setWidth=function(t){this.width_=t,this.checksum_=void 0},us.prototype.getChecksum=function(){return void 0===this.checksum_&&(this.checksum_="s",this.color_?"string"==typeof this.color_?this.checksum_+=this.color_:this.checksum_+=F(this.color_):this.checksum_+="-",this.checksum_+=","+(void 0!==this.lineCap_?this.lineCap_.toString():"-")+","+(this.lineDash_?this.lineDash_.toString():"-")+","+(void 0!==this.lineDashOffset_?this.lineDashOffset_:"-")+","+(void 0!==this.lineJoin_?this.lineJoin_:"-")+","+(void 0!==this.miterLimit_?this.miterLimit_.toString():"-")+","+(void 0!==this.width_?this.width_.toString():"-")),this.checksum_};var ls=us,cs=function(t){var e=t||{};this.geometry_=null,this.geometryFunction_=ps,void 0!==e.geometry&&this.setGeometry(e.geometry),this.fill_=void 0!==e.fill?e.fill:null,this.image_=void 0!==e.image?e.image:null,this.renderer_=void 0!==e.renderer?e.renderer:null,this.stroke_=void 0!==e.stroke?e.stroke:null,this.text_=void 0!==e.text?e.text:null,this.zIndex_=e.zIndex};cs.prototype.clone=function(){var t=this.getGeometry();return t&&"object"==typeof t&&(t=t.clone()),new cs({geometry:t,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},cs.prototype.getRenderer=function(){return this.renderer_},cs.prototype.setRenderer=function(t){this.renderer_=t},cs.prototype.getGeometry=function(){return this.geometry_},cs.prototype.getGeometryFunction=function(){return this.geometryFunction_},cs.prototype.getFill=function(){return this.fill_},cs.prototype.setFill=function(t){this.fill_=t},cs.prototype.getImage=function(){return this.image_},cs.prototype.setImage=function(t){this.image_=t},cs.prototype.getStroke=function(){return this.stroke_},cs.prototype.setStroke=function(t){this.stroke_=t},cs.prototype.getText=function(){return this.text_},cs.prototype.setText=function(t){this.text_=t},cs.prototype.getZIndex=function(){return this.zIndex_},cs.prototype.setGeometry=function(t){"function"==typeof t?this.geometryFunction_=t:"string"==typeof t?this.geometryFunction_=function(e){return e.get(t)}:t?void 0!==t&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=ps,this.geometry_=t},cs.prototype.setZIndex=function(t){this.zIndex_=t};var hs=null;function fs(t,e){if(!hs){var n=new as({color:"rgba(255,255,255,0.4)"}),i=new ls({color:"#3399CC",width:1.25});hs=[new cs({image:new os({fill:n,stroke:i,radius:5}),fill:n,stroke:i})]}return hs}function ps(t){return t.getGeometry()}var ds=cs,vs="renderOrder",gs=function(t){function e(e){var n=e||{},i=f({},n);delete i.style,delete i.renderBuffer,delete i.updateWhileAnimating,delete i.updateWhileInteracting,t.call(this,i),this.declutter_=void 0!==n.declutter&&n.declutter,this.renderBuffer_=void 0!==n.renderBuffer?n.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(n.style),this.updateWhileAnimating_=void 0!==n.updateWhileAnimating&&n.updateWhileAnimating,this.updateWhileInteracting_=void 0!==n.updateWhileInteracting&&n.updateWhileInteracting,this.renderMode_=n.renderMode||Io.VECTOR,this.type=Ro.VECTOR}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDeclutter=function(){return this.declutter_},e.prototype.setDeclutter=function(t){this.declutter_=t},e.prototype.getRenderBuffer=function(){return this.renderBuffer_},e.prototype.getRenderOrder=function(){return this.get(vs)},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},e.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},e.prototype.setRenderOrder=function(t){this.set(vs,t)},e.prototype.setStyle=function(t){this.style_=void 0!==t?t:fs,this.styleFunction_=null===t?void 0:function(t){var e;if("function"==typeof t)e=t;else{var n;Array.isArray(t)?n=t:(fe("function"==typeof t.getZIndex,41),n=[t]),e=function(){return n}}return e}(this.style_),this.changed()},e.prototype.getRenderMode=function(){return this.renderMode_},e}(Cr);gs.prototype.getSource;var ms=gs,ys={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"};function _s(t,e){return function(t,e,n,i){return function(r,o,s){var a=new XMLHttpRequest;a.open("GET","function"==typeof t?t(r,o,s):t,!0),e.getType()==ys.ARRAY_BUFFER&&(a.responseType="arraybuffer"),a.onload=function(t){if(!a.status||a.status>=200&&a.status<300){var r,o=e.getType();o==ys.JSON||o==ys.TEXT?r=a.responseText:o==ys.XML?(r=a.responseXML)||(r=(new DOMParser).parseFromString(a.responseText,"application/xml")):o==ys.ARRAY_BUFFER&&(r=a.response),r?n.call(this,e.readFeatures(r,{featureProjection:s}),e.readProjection(r),e.getLastExtent()):i.call(this)}else i.call(this)}.bind(this),a.onerror=function(){i.call(this)}.bind(this),a.send()}}(t,e,function(t,e){"function"==typeof this.addFeatures&&this.addFeatures(t)},R)}function ws(t,e){return[[-1/0,-1/0,1/0,1/0]]}function bs(t){return t?Array.isArray(t)?function(e){return t}:"function"==typeof t?t:function(e){return[t]}:null}var xs=function(t){function e(e){t.call(this),this.projection_=Jn(e.projection),this.attributions_=bs(e.attributions),this.attributionsCollapsible_=void 0===e.attributionsCollapsible||e.attributionsCollapsible,this.loading=!1,this.state_=void 0!==e.state?e.state:lr.READY,this.wrapX_=void 0!==e.wrapX&&e.wrapX}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getAttributions=function(){return this.attributions_},e.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolutions=function(){return P()},e.prototype.getState=function(){return this.state_},e.prototype.getWrapX=function(){return this.wrapX_},e.prototype.refresh=function(){this.changed()},e.prototype.setAttributions=function(t){this.attributions_=bs(t),this.changed()},e.prototype.setState=function(t){this.state_=t,this.changed()},e}(V),Es={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature"},Cs=n("emf4"),js=n.n(Cs),Ss=function(t){this.rbush_=js()(t,void 0),this.items_={}};Ss.prototype.insert=function(t,e){var n={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};this.rbush_.insert(n),this.items_[F(e)]=n},Ss.prototype.load=function(t,e){for(var n=new Array(e.length),i=0,r=e.length;i<r;i++){var o=t[i],s=e[i],a={minX:o[0],minY:o[1],maxX:o[2],maxY:o[3],value:s};n[i]=a,this.items_[F(s)]=a}this.rbush_.load(n)},Ss.prototype.remove=function(t){var e=F(t),n=this.items_[e];return delete this.items_[e],null!==this.rbush_.remove(n)},Ss.prototype.update=function(t,e){var n=this.items_[F(e)];$e([n.minX,n.minY,n.maxX,n.maxY],t)||(this.remove(e),this.insert(t,e))},Ss.prototype.getAll=function(){return this.rbush_.all().map(function(t){return t.value})},Ss.prototype.getInExtent=function(t){var e={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this.rbush_.search(e).map(function(t){return t.value})},Ss.prototype.forEach=function(t,e){return this.forEach_(this.getAll(),t,e)},Ss.prototype.forEachInExtent=function(t,e,n){return this.forEach_(this.getInExtent(t),e,n)},Ss.prototype.forEach_=function(t,e,n){for(var i,r=0,o=t.length;r<o;r++)if(i=e.call(n,t[r]))return i;return i},Ss.prototype.isEmpty=function(){return v(this.items_)},Ss.prototype.clear=function(){this.rbush_.clear(),this.items_={}},Ss.prototype.getExtent=function(t){var e=this.rbush_.toJSON();return Ke(e.minX,e.minY,e.maxX,e.maxY,t)},Ss.prototype.concat=function(t){for(var e in this.rbush_.load(t.rbush_.all()),t.items_)this.items_[e]=t.items_[e]};var Ts=Ss,Rs=function(t){function e(e,n){t.call(this,e),this.feature=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(A),Is=function(t){function e(e){var n=e||{};t.call(this,{attributions:n.attributions,projection:void 0,state:lr.READY,wrapX:void 0===n.wrapX||n.wrapX}),this.loader_=R,this.format_=n.format,this.overlaps_=void 0==n.overlaps||n.overlaps,this.url_=n.url,void 0!==n.loader?this.loader_=n.loader:void 0!==this.url_&&(fe(this.format_,7),this.loader_=_s(this.url_,this.format_)),this.strategy_=void 0!==n.strategy?n.strategy:ws;var i,r,o=void 0===n.useSpatialIndex||n.useSpatialIndex;this.featuresRtree_=o?new Ts:null,this.loadedExtentsRtree_=new Ts,this.nullGeometryFeatures_={},this.idIndex_={},this.undefIdIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null,Array.isArray(n.features)?r=n.features:n.features&&(r=(i=n.features).getArray()),o||void 0!==i||(i=new Z(r)),void 0!==r&&this.addFeaturesInternal(r),void 0!==i&&this.bindFeaturesCollection_(i)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addFeature=function(t){this.addFeatureInternal(t),this.changed()},e.prototype.addFeatureInternal=function(t){var e=F(t);if(this.addToIndex_(e,t)){this.setupChangeEvents_(e,t);var n=t.getGeometry();if(n){var i=n.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(i,t)}else this.nullGeometryFeatures_[e]=t;this.dispatchEvent(new Rs(Es.ADDFEATURE,t))}},e.prototype.setupChangeEvents_=function(t,e){this.featureChangeKeys_[t]=[w(e,k.CHANGE,this.handleFeatureChange_,this),w(e,B,this.handleFeatureChange_,this)]},e.prototype.addToIndex_=function(t,e){var n=!0,i=e.getId();return void 0!==i?i.toString()in this.idIndex_?n=!1:this.idIndex_[i.toString()]=e:(fe(!(t in this.undefIdIndex_),30),this.undefIdIndex_[t]=e),n},e.prototype.addFeatures=function(t){this.addFeaturesInternal(t),this.changed()},e.prototype.addFeaturesInternal=function(t){for(var e=[],n=[],i=[],r=0,o=t.length;r<o;r++){var s=t[r],a=F(s);this.addToIndex_(a,s)&&n.push(s)}for(var u=0,l=n.length;u<l;u++){var c=n[u],h=F(c);this.setupChangeEvents_(h,c);var f=c.getGeometry();if(f){var p=f.getExtent();e.push(p),i.push(c)}else this.nullGeometryFeatures_[h]=c}this.featuresRtree_&&this.featuresRtree_.load(e,i);for(var d=0,v=n.length;d<v;d++)this.dispatchEvent(new Rs(Es.ADDFEATURE,n[d]))},e.prototype.bindFeaturesCollection_=function(t){var e=!1;w(this,Es.ADDFEATURE,function(n){e||(e=!0,t.push(n.feature),e=!1)}),w(this,Es.REMOVEFEATURE,function(n){e||(e=!0,t.remove(n.feature),e=!1)}),w(t,W.ADD,function(t){e||(e=!0,this.addFeature(t.element),e=!1)},this),w(t,W.REMOVE,function(t){e||(e=!0,this.removeFeature(t.element),e=!1)},this),this.featuresCollection_=t},e.prototype.clear=function(t){if(t){for(var e in this.featureChangeKeys_){this.featureChangeKeys_[e].forEach(E)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.undefIdIndex_={})}else if(this.featuresRtree_)for(var n in this.featuresRtree_.forEach(this.removeFeatureInternal,this),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[n]);this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.loadedExtentsRtree_.clear(),this.nullGeometryFeatures_={};var i=new Rs(Es.CLEAR);this.dispatchEvent(i),this.changed()},e.prototype.forEachFeature=function(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)},e.prototype.forEachFeatureAtCoordinateDirect=function(t,e){var n=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(n,function(n){return n.getGeometry().intersectsCoordinate(t)?e(n):void 0})},e.prototype.forEachFeatureInExtent=function(t,e){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,e);this.featuresCollection_&&this.featuresCollection_.forEach(e)},e.prototype.forEachFeatureIntersectingExtent=function(t,e){return this.forEachFeatureInExtent(t,function(n){if(n.getGeometry().intersectsExtent(t)){var i=e(n);if(i)return i}})},e.prototype.getFeaturesCollection=function(){return this.featuresCollection_},e.prototype.getFeatures=function(){var t;return this.featuresCollection_?t=this.featuresCollection_.getArray():this.featuresRtree_&&(t=this.featuresRtree_.getAll(),v(this.nullGeometryFeatures_)||qt(t,d(this.nullGeometryFeatures_))),t},e.prototype.getFeaturesAtCoordinate=function(t){var e=[];return this.forEachFeatureAtCoordinateDirect(t,function(t){e.push(t)}),e},e.prototype.getFeaturesInExtent=function(t){return this.featuresRtree_.getInExtent(t)},e.prototype.getClosestFeatureToCoordinate=function(t,e){var n=t[0],i=t[1],r=null,o=[NaN,NaN],s=1/0,a=[-1/0,-1/0,1/0,1/0],u=e||S;return this.featuresRtree_.forEachInExtent(a,function(t){if(u(t)){var e=t.getGeometry(),l=s;if((s=e.closestPointXY(n,i,o,s))<l){r=t;var c=Math.sqrt(s);a[0]=n-c,a[1]=i-c,a[2]=n+c,a[3]=i+c}}}),r},e.prototype.getExtent=function(t){return this.featuresRtree_.getExtent(t)},e.prototype.getFeatureById=function(t){var e=this.idIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getFormat=function(){return this.format_},e.prototype.getOverlaps=function(){return this.overlaps_},e.prototype.getUrl=function(){return this.url_},e.prototype.handleFeatureChange_=function(t){var e=t.target,n=F(e),i=e.getGeometry();if(i){var r=i.getExtent();n in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[n],this.featuresRtree_&&this.featuresRtree_.insert(r,e)):this.featuresRtree_&&this.featuresRtree_.update(r,e)}else n in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(e),this.nullGeometryFeatures_[n]=e);var o=e.getId();if(void 0!==o){var s=o.toString();n in this.undefIdIndex_?(delete this.undefIdIndex_[n],this.idIndex_[s]=e):this.idIndex_[s]!==e&&(this.removeFromIdIndex_(e),this.idIndex_[s]=e)}else n in this.undefIdIndex_||(this.removeFromIdIndex_(e),this.undefIdIndex_[n]=e);this.changed(),this.dispatchEvent(new Rs(Es.CHANGEFEATURE,e))},e.prototype.hasFeature=function(t){var e=t.getId();return void 0!==e?e in this.idIndex_:F(t)in this.undefIdIndex_},e.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&v(this.nullGeometryFeatures_)},e.prototype.loadFeatures=function(t,e,n){var i=this,r=this.loadedExtentsRtree_,o=this.strategy_(t,e);this.loading=!1;for(var s=function(t,s){var a=o[t];r.forEachInExtent(a,function(t){return Ve(t.extent,a)})||(i.loader_.call(i,a,e,n),r.insert(a,{extent:a.slice()}),i.loading=i.loader_!==R)},a=0,u=o.length;a<u;++a)s(a)},e.prototype.removeLoadedExtent=function(t){var e,n=this.loadedExtentsRtree_;n.forEachInExtent(t,function(n){if($e(n.extent,t))return e=n,!0}),e&&n.remove(e)},e.prototype.removeFeature=function(t){var e=F(t);e in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[e]:this.featuresRtree_&&this.featuresRtree_.remove(t),this.removeFeatureInternal(t),this.changed()},e.prototype.removeFeatureInternal=function(t){var e=F(t);this.featureChangeKeys_[e].forEach(E),delete this.featureChangeKeys_[e];var n=t.getId();void 0!==n?delete this.idIndex_[n.toString()]:delete this.undefIdIndex_[e],this.dispatchEvent(new Rs(Es.REMOVEFEATURE,t))},e.prototype.removeFromIdIndex_=function(t){var e=!1;for(var n in this.idIndex_)if(this.idIndex_[n]===t){delete this.idIndex_[n],e=!0;break}return e},e.prototype.setLoader=function(t){this.loader_=t},e}(xs);function Os(t){var e=t||{},n=new Z,i=new Lr(-.005,.05,100);return(void 0===e.altShiftDragRotate||e.altShiftDragRotate)&&n.push(new $r),(void 0===e.doubleClickZoom||e.doubleClickZoom)&&n.push(new Br({delta:e.zoomDelta,duration:e.zoomDuration})),(void 0===e.dragPan||e.dragPan)&&n.push(new Qr({condition:e.onFocusOnly?Ur:void 0,kinetic:i})),(void 0===e.pinchRotate||e.pinchRotate)&&n.push(new go),(void 0===e.pinchZoom||e.pinchZoom)&&n.push(new mo({constrainResolution:e.constrainResolution,duration:e.zoomDuration})),(void 0===e.keyboard||e.keyboard)&&(n.push(new lo),n.push(new ho({delta:e.zoomDelta,duration:e.zoomDuration}))),(void 0===e.mouseWheelZoom||e.mouseWheelZoom)&&n.push(new vo({condition:e.onFocusOnly?Ur:void 0,constrainResolution:e.constrainResolution,duration:e.zoomDuration})),(void 0===e.shiftDragZoom||e.shiftDragZoom)&&n.push(new so({duration:e.zoomDuration})),n}var As=.5,Ls=function(t){function e(e,n,i,r){t.call(this),this.extent=e,this.pixelRatio_=i,this.resolution=n,this.state=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.changed=function(){this.dispatchEvent(k.CHANGE)},e.prototype.getExtent=function(){return this.extent},e.prototype.getImage=function(){return P()},e.prototype.getPixelRatio=function(){return this.pixelRatio_},e.prototype.getResolution=function(){return this.resolution},e.prototype.getState=function(){return this.state},e.prototype.load=function(){P()},e}(L),ks=function(t){function e(e,n,i,r,o){var s=void 0!==o?Fo.IDLE:Fo.LOADED;t.call(this,e,n,i,s),this.loader_=void 0!==o?o:null,this.canvas_=r,this.error_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getError=function(){return this.error_},e.prototype.handleLoad_=function(t){t?(this.error_=t,this.state=Fo.ERROR):this.state=Fo.LOADED,this.changed()},e.prototype.load=function(){this.state==Fo.IDLE&&(this.state=Fo.LOADING,this.changed(),this.loader_(this.handleLoad_.bind(this)))},e.prototype.getImage=function(){return this.canvas_},e}(Ls),Ms=function(t){function e(e,n,i,r,o){t.call(this,e),this.vectorContext=n,this.frameState=i,this.context=r,this.glContext=o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(A),Ps=function(){};Ps.prototype.drawCustom=function(t,e,n){},Ps.prototype.drawGeometry=function(t){},Ps.prototype.setStyle=function(t){},Ps.prototype.drawCircle=function(t,e){},Ps.prototype.drawFeature=function(t,e){},Ps.prototype.drawGeometryCollection=function(t,e){},Ps.prototype.drawLineString=function(t,e){},Ps.prototype.drawMultiLineString=function(t,e){},Ps.prototype.drawMultiPoint=function(t,e){},Ps.prototype.drawMultiPolygon=function(t,e){},Ps.prototype.drawPoint=function(t,e){},Ps.prototype.drawPolygon=function(t,e){},Ps.prototype.drawText=function(t,e){},Ps.prototype.setFillStrokeStyle=function(t,e){},Ps.prototype.setImageStyle=function(t,e){},Ps.prototype.setTextStyle=function(t,e){};var Ds=Ps,Fs=function(t){function e(e,n,i,r,o){t.call(this),this.context_=e,this.pixelRatio_=n,this.extent_=i,this.transform_=r,this.viewRotation_=o,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=0,this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=0,this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=[1,0,0,1,0,0]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawImages_=function(t,e,n,i){if(this.image_){var r=xn(t,e,n,2,this.transform_,this.pixelCoordinates_),o=this.context_,s=this.tmpLocalTransform_,a=o.globalAlpha;1!=this.imageOpacity_&&(o.globalAlpha=a*this.imageOpacity_);var u=this.imageRotation_;this.imageRotateWithView_&&(u+=this.viewRotation_);for(var l=0,c=r.length;l<c;l+=2){var h=r[l]-this.imageAnchorX_,f=r[l+1]-this.imageAnchorY_;if(0!==u||1!=this.imageScale_){var p=h+this.imageAnchorX_,d=f+this.imageAnchorY_;pi(s,p,d,this.imageScale_,this.imageScale_,u,-p,-d),o.setTransform.apply(o,s)}o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,h,f,this.imageWidth_,this.imageHeight_)}0===u&&1==this.imageScale_||o.setTransform(1,0,0,1,0,0),1!=this.imageOpacity_&&(o.globalAlpha=a)}},e.prototype.drawText_=function(t,e,n,i){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var r=xn(t,e,n,i,this.transform_,this.pixelCoordinates_),o=this.context_,s=this.textRotation_;for(this.textRotateWithView_&&(s+=this.viewRotation_);e<n;e+=i){var a=r[e]+this.textOffsetX_,u=r[e+1]+this.textOffsetY_;if(0!==s||1!=this.textScale_){var l=pi(this.tmpLocalTransform_,a,u,this.textScale_,this.textScale_,s,-a,-u);o.setTransform.apply(o,l)}this.textStrokeState_&&o.strokeText(this.text_,a,u),this.textFillState_&&o.fillText(this.text_,a,u)}0===s&&1==this.textScale_||o.setTransform(1,0,0,1,0,0)}},e.prototype.moveToLineTo_=function(t,e,n,i,r){var o=this.context_,s=xn(t,e,n,i,this.transform_,this.pixelCoordinates_);o.moveTo(s[0],s[1]);var a=s.length;r&&(a-=2);for(var u=2;u<a;u+=2)o.lineTo(s[u],s[u+1]);return r&&o.closePath(),n},e.prototype.drawRings_=function(t,e,n,i){for(var r=0,o=n.length;r<o;++r)e=this.moveToLineTo_(t,e,n[r],i,!0);return e},e.prototype.drawCircle=function(t){if(gn(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=function(t,e,n){var i=t.getFlatCoordinates();if(i){var r=t.getStride();return xn(i,0,i.length,r,e,n)}return null}(t,this.transform_,this.pixelCoordinates_),n=e[2]-e[0],i=e[3]-e[1],r=Math.sqrt(n*n+i*i),o=this.context_;o.beginPath(),o.arc(e[0],e[1],r,0,2*Math.PI),this.fillState_&&o.fill(),this.strokeState_&&o.stroke()}""!==this.text_&&this.drawText_(t.getCenter(),0,2,2)}},e.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},e.prototype.drawGeometry=function(t){switch(t.getType()){case wn.POINT:this.drawPoint(t);break;case wn.LINE_STRING:this.drawLineString(t);break;case wn.POLYGON:this.drawPolygon(t);break;case wn.MULTI_POINT:this.drawMultiPoint(t);break;case wn.MULTI_LINE_STRING:this.drawMultiLineString(t);break;case wn.MULTI_POLYGON:this.drawMultiPolygon(t);break;case wn.GEOMETRY_COLLECTION:this.drawGeometryCollection(t);break;case wn.CIRCLE:this.drawCircle(t)}},e.prototype.drawFeature=function(t,e){var n=e.getGeometryFunction()(t);n&&gn(this.extent_,n.getExtent())&&(this.setStyle(e),this.drawGeometry(n))},e.prototype.drawGeometryCollection=function(t){for(var e=t.getGeometriesArray(),n=0,i=e.length;n<i;++n)this.drawGeometry(e[n])},e.prototype.drawPoint=function(t){var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)},e.prototype.drawMultiPoint=function(t){var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)},e.prototype.drawLineString=function(t){if(gn(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(n,0,n.length,t.getStride(),!1),e.stroke()}if(""!==this.text_){var i=t.getFlatMidpoint();this.drawText_(i,0,2,2)}}},e.prototype.drawMultiLineString=function(t){var e=t.getExtent();if(gn(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var n=this.context_,i=t.getFlatCoordinates(),r=0,o=t.getEnds(),s=t.getStride();n.beginPath();for(var a=0,u=o.length;a<u;++a)r=this.moveToLineTo_(i,r,o[a],s,!1);n.stroke()}if(""!==this.text_){var l=t.getFlatMidpoints();this.drawText_(l,0,l.length,2)}}},e.prototype.drawPolygon=function(t){if(gn(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var n=t.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}},e.prototype.drawMultiPolygon=function(t){if(gn(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=t.getOrientedFlatCoordinates(),i=0,r=t.getEndss(),o=t.getStride();e.beginPath();for(var s=0,a=r.length;s<a;++s){var u=r[s];i=this.drawRings_(n,i,u,o)}this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var l=t.getFlatInteriorPoints();this.drawText_(l,0,l.length,2)}}},e.prototype.setContextFillState_=function(t){var e=this.context_,n=this.contextFillState_;n?n.fillStyle!=t.fillStyle&&(n.fillStyle=e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},e.prototype.setContextStrokeState_=function(t){var e=this.context_,n=this.contextStrokeState_;n?(n.lineCap!=t.lineCap&&(n.lineCap=e.lineCap=t.lineCap),st&&(Jt(n.lineDash,t.lineDash)||e.setLineDash(n.lineDash=t.lineDash),n.lineDashOffset!=t.lineDashOffset&&(n.lineDashOffset=e.lineDashOffset=t.lineDashOffset)),n.lineJoin!=t.lineJoin&&(n.lineJoin=e.lineJoin=t.lineJoin),n.lineWidth!=t.lineWidth&&(n.lineWidth=e.lineWidth=t.lineWidth),n.miterLimit!=t.miterLimit&&(n.miterLimit=e.miterLimit=t.miterLimit),n.strokeStyle!=t.strokeStyle&&(n.strokeStyle=e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,st&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})},e.prototype.setContextTextState_=function(t){var e=this.context_,n=this.contextTextState_,i=t.textAlign?t.textAlign:"center";n?(n.font!=t.font&&(n.font=e.font=t.font),n.textAlign!=i&&(n.textAlign=e.textAlign=i),n.textBaseline!=t.textBaseline&&(n.textBaseline=e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=i,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:i,textBaseline:t.textBaseline})},e.prototype.setFillStrokeStyle=function(t,e){if(t){var n=t.getColor();this.fillState_={fillStyle:Do(n||Go)}}else this.fillState_=null;if(e){var i=e.getColor(),r=e.getLineCap(),o=e.getLineDash(),s=e.getLineDashOffset(),a=e.getLineJoin(),u=e.getWidth(),l=e.getMiterLimit();this.strokeState_={lineCap:void 0!==r?r:"round",lineDash:o||Wo,lineDashOffset:s||0,lineJoin:void 0!==a?a:"round",lineWidth:this.pixelRatio_*(void 0!==u?u:1),miterLimit:void 0!==l?l:10,strokeStyle:Do(i||Bo)}}else this.strokeState_=null},e.prototype.setImageStyle=function(t){if(t){var e=t.getAnchor(),n=t.getImage(1),i=t.getOrigin(),r=t.getSize();this.imageAnchorX_=e[0],this.imageAnchorY_=e[1],this.imageHeight_=r[1],this.image_=n,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=i[0],this.imageOriginY_=i[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=t.getScale()*this.pixelRatio_,this.imageWidth_=r[0]}else this.image_=null},e.prototype.setTextStyle=function(t){if(t){var e=t.getFill();if(e){var n=e.getColor();this.textFillState_={fillStyle:Do(n||Go)}}else this.textFillState_=null;var i=t.getStroke();if(i){var r=i.getColor(),o=i.getLineCap(),s=i.getLineDash(),a=i.getLineDashOffset(),u=i.getLineJoin(),l=i.getWidth(),c=i.getMiterLimit();this.textStrokeState_={lineCap:void 0!==o?o:"round",lineDash:s||Wo,lineDashOffset:a||0,lineJoin:void 0!==u?u:"round",lineWidth:void 0!==l?l:1,miterLimit:void 0!==c?c:10,strokeStyle:Do(r||Bo)}}else this.textStrokeState_=null;var h=t.getFont(),f=t.getOffsetX(),p=t.getOffsetY(),d=t.getRotateWithView(),v=t.getRotation(),g=t.getScale(),m=t.getText(),y=t.getTextAlign(),_=t.getTextBaseline();this.textState_={font:void 0!==h?h:"10px sans-serif",textAlign:void 0!==y?y:"center",textBaseline:void 0!==_?_:"middle"},this.text_=void 0!==m?m:"",this.textOffsetX_=void 0!==f?this.pixelRatio_*f:0,this.textOffsetY_=void 0!==p?this.pixelRatio_*p:0,this.textRotateWithView_=void 0!==d&&d,this.textRotation_=void 0!==v?v:0,this.textScale_=this.pixelRatio_*(void 0!==g?g:1)}else this.text_=""},e}(Ds),Ns=function(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32};function Gs(t,e,n){return e+":"+t+":"+(n?Lo(n):"null")}Ns.prototype.clear=function(){this.cache_={},this.cacheSize_=0},Ns.prototype.expire=function(){if(this.cacheSize_>this.maxCacheSize_){var t=0;for(var e in this.cache_){var n=this.cache_[e];0!=(3&t++)||n.hasListener()||(delete this.cache_[e],--this.cacheSize_)}}},Ns.prototype.get=function(t,e,n){var i=Gs(t,e,n);return i in this.cache_?this.cache_[i]:null},Ns.prototype.set=function(t,e,n,i){var r=Gs(t,e,n);this.cache_[r]=i,++this.cacheSize_},Ns.prototype.setSize=function(t){this.maxCacheSize_=t,this.expire()};var Ws=new Ns;function Bs(t,e){Ws.expire()}function zs(t,e){return t.zIndex-e.zIndex}var Us=[],Ys=function(t){function e(e){t.call(this,e);var n=e.getViewport();this.context_=ir(),this.canvas_=this.context_.canvas,this.canvas_.style.width="100%",this.canvas_.style.height="100%",this.canvas_.style.display="block",this.canvas_.className=_r,n.insertBefore(this.canvas_,n.childNodes[0]||null),this.renderedVisible_=!0,this.transform_=[1,0,0,1,0,0]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.dispatchRenderEvent=function(t,e){var n=this.getMap(),i=this.context_;if(n.hasListener(t)){var r=e.extent,o=e.pixelRatio,s=e.viewState.rotation,a=this.getTransform(e),u=new Fs(i,o,r,a,s),l=new Ms(t,u,e,i,null);n.dispatchEvent(l)}},e.prototype.getTransform=function(t){var e=t.viewState,n=this.canvas_.width/2,i=this.canvas_.height/2,r=t.pixelRatio/e.resolution,o=-r,s=-e.rotation,a=-e.center[0],u=-e.center[1];return pi(this.transform_,n,i,r,o,s,a,u)},e.prototype.renderFrame=function(t){if(t){var e=this.context_,n=t.pixelRatio,i=Math.round(t.size[0]*n),r=Math.round(t.size[1]*n);this.canvas_.width!=i||this.canvas_.height!=r?(this.canvas_.width=i,this.canvas_.height=r):e.clearRect(0,0,i,r);var o=t.viewState.rotation;this.calculateMatrices2D(t),this.dispatchRenderEvent(ce.PRECOMPOSE,t);var s=t.layerStatesArray;!function(t,e){var n,i=t.length,r=Array(t.length);for(n=0;n<i;n++)r[n]={index:n,value:t[n]};for(r.sort(function(t,n){return e(t.value,n.value)||t.index-n.index}),n=0;n<t.length;n++)t[n]=r[n].value}(s,zs),o&&(e.save(),$o(e,o,i/2,r/2));var a,u,l=t.viewState.resolution;for(a=0,u=s.length;a<u;++a){var c=s[a],h=c.layer,f=this.getLayerRenderer(h);Er(c,l)&&c.sourceState==lr.READY&&(f.prepareFrame(t,c)&&f.composeFrame(t,c,e))}o&&e.restore(),this.dispatchRenderEvent(ce.POSTCOMPOSE,t),this.renderedVisible_||(this.canvas_.style.display="",this.renderedVisible_=!0),this.scheduleRemoveUnusedLayerRenderers(t),this.scheduleExpireIconCache(t)}else this.renderedVisible_&&(this.canvas_.style.display="none",this.renderedVisible_=!1)},e.prototype.forEachLayerAtPixel=function(t,e,n,i,r,o,s){var a,u,l=e.viewState.resolution,c=e.layerStatesArray,h=c.length,f=ci(e.pixelToCoordinateTransform,t.slice());for(u=h-1;u>=0;--u){var p=c[u],d=p.layer;if(Er(p,l)&&o.call(s,d))if(a=this.getLayerRenderer(d).forEachLayerAtCoordinate(f,e,n,i,r))return a}},e.prototype.registerLayerRenderers=function(e){t.prototype.registerLayerRenderers.call(this,e);for(var n=0,i=e.length;n<i;++n){var r=e[n];Ht(Us,r)||Us.push(r)}},e}(function(t){function e(e){t.call(this),this.map_=e,this.layerRenderers_={},this.layerRendererListeners_={},this.layerRendererConstructors_=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.dispatchRenderEvent=function(t,e){P()},e.prototype.registerLayerRenderers=function(t){this.layerRendererConstructors_.push.apply(this.layerRendererConstructors_,t)},e.prototype.calculateMatrices2D=function(t){var e=t.viewState,n=t.coordinateToPixelTransform,i=t.pixelToCoordinateTransform;pi(n,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),function(t){var e,n=(e=t)[0]*e[3]-e[1]*e[2];fe(0!==n,32);var i=t[0],r=t[1],o=t[2],s=t[3],a=t[4],u=t[5];t[0]=s/n,t[1]=-r/n,t[2]=-o/n,t[3]=i/n,t[4]=(o*u-s*a)/n,t[5]=-(i*u-r*a)/n}(li(i,n))},e.prototype.removeLayerRenderers=function(){for(var t in this.layerRenderers_)this.removeLayerRendererByKey_(t).dispose()},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,r,o,s){var a,u=e.viewState,l=u.resolution;function c(t,n){var o=e.layerStates[F(n)].managed;if(!(F(t)in e.skippedFeatureUids)||o)return i.call(r,t,o?n:null)}var h=u.projection,f=t;if(h.canWrapX()){var p=h.getExtent(),d=vn(p),v=t[0];if(v<p[0]||v>p[2])f=[v+d*Math.ceil((p[0]-v)/d),t[1]]}var g,m=e.layerStatesArray;for(g=m.length-1;g>=0;--g){var y=m[g],_=y.layer;if(Er(y,l)&&o.call(s,_)){var w=this.getLayerRenderer(_),b=_.getSource();if(b&&(a=w.forEachFeatureAtCoordinate(b.getWrapX()?f:t,e,n,c)),a)return a}}},e.prototype.forEachLayerAtPixel=function(t,e,n,i,r,o,s){return P()},e.prototype.hasFeatureAtCoordinate=function(t,e,n,i,r){return void 0!==this.forEachFeatureAtCoordinate(t,e,n,S,this,i,r)},e.prototype.getLayerRenderer=function(t){var e=F(t);if(e in this.layerRenderers_)return this.layerRenderers_[e];for(var n,i=0,r=this.layerRendererConstructors_.length;i<r;++i){var o=this.layerRendererConstructors_[i];if(o.handles(t)){n=o.create(this,t);break}}if(!n)throw new Error("Unable to create renderer for layer: "+t.getType());return this.layerRenderers_[e]=n,this.layerRendererListeners_[e]=w(n,k.CHANGE,this.handleLayerRendererChange_,this),n},e.prototype.getLayerRendererByKey=function(t){return this.layerRenderers_[t]},e.prototype.getLayerRenderers=function(){return this.layerRenderers_},e.prototype.getMap=function(){return this.map_},e.prototype.handleLayerRendererChange_=function(){this.map_.render()},e.prototype.removeLayerRendererByKey_=function(t){var e=this.layerRenderers_[t];return delete this.layerRenderers_[t],E(this.layerRendererListeners_[t]),delete this.layerRendererListeners_[t],e},e.prototype.removeUnusedLayerRenderers_=function(t,e){for(var n in this.layerRenderers_)e&&n in e.layerStates||this.removeLayerRendererByKey_(n).dispose()},e.prototype.renderFrame=function(t){P()},e.prototype.scheduleExpireIconCache=function(t){t.postRenderFunctions.push(Bs)},e.prototype.scheduleRemoveUnusedLayerRenderers=function(t){for(var e in this.layerRenderers_)if(!(e in t.layerStates))return void t.postRenderFunctions.push(this.removeUnusedLayerRenderers_.bind(this))},e}(j)),Vs=function(t){function e(e){t.call(this,e),this.renderedResolution,this.transform_=[1,0,0,1,0,0]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clip=function(t,e,n){var i=e.pixelRatio,r=e.size[0]*i,o=e.size[1]*i,s=e.viewState.rotation,a=pn(n),u=dn(n),l=un(n),c=an(n);ci(e.coordinateToPixelTransform,a),ci(e.coordinateToPixelTransform,u),ci(e.coordinateToPixelTransform,l),ci(e.coordinateToPixelTransform,c),t.save(),$o(t,-s,r/2,o/2),t.beginPath(),t.moveTo(a[0]*i,a[1]*i),t.lineTo(u[0]*i,u[1]*i),t.lineTo(l[0]*i,l[1]*i),t.lineTo(c[0]*i,c[1]*i),t.clip(),$o(t,s,r/2,o/2)},e.prototype.dispatchComposeEvent_=function(t,e,n,i){var r=this.getLayer();if(r.hasListener(t)){var o=n.size[0]*n.pixelRatio,s=n.size[1]*n.pixelRatio,a=n.viewState.rotation;$o(e,-a,o/2,s/2);var u=void 0!==i?i:this.getTransform(n,0),l=new Fs(e,n.pixelRatio,n.extent,u,n.viewState.rotation),c=new Ms(t,l,n,e,null);r.dispatchEvent(c),$o(e,a,o/2,s/2)}},e.prototype.forEachLayerAtCoordinate=function(t,e,n,i,r){return this.forEachFeatureAtCoordinate(t,e,n,S)?i.call(r,this.getLayer(),null):void 0},e.prototype.postCompose=function(t,e,n,i){this.dispatchComposeEvent_(ce.POSTCOMPOSE,t,e,i)},e.prototype.preCompose=function(t,e,n){this.dispatchComposeEvent_(ce.PRECOMPOSE,t,e,n)},e.prototype.dispatchRenderEvent=function(t,e,n){this.dispatchComposeEvent_(ce.RENDER,t,e,n)},e.prototype.getTransform=function(t,e){var n=t.viewState,i=t.pixelRatio,r=i*t.size[0]/2,o=i*t.size[1]/2,s=i/n.resolution,a=-s,u=-n.rotation,l=-n.center[0]+e,c=-n.center[1];return pi(this.transform_,r,o,s,a,u,l,c)},e.prototype.composeFrame=function(t,e,n){P()},e.prototype.prepareFrame=function(t,e){return P()},e}(function(t){function e(e){t.call(this),this.layer_=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createLoadedTileFinder=function(t,e,n){return function(i,r){return t.forEachLoadedTile(e,i,r,function(t){n[i]||(n[i]={}),n[i][t.tileCoord.toString()]=t})}},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,i){},e.prototype.getLayer=function(){return this.layer_},e.prototype.handleImageChange_=function(t){t.target.getState()===Fo.LOADED&&this.renderIfReadyAndVisible()},e.prototype.hasFeatureAtCoordinate=function(t,e){return!1},e.prototype.loadImage=function(t){var e=t.getState();return e!=Fo.LOADED&&e!=Fo.ERROR&&w(t,k.CHANGE,this.handleImageChange_,this),e==Fo.IDLE&&(t.load(),e=t.getState()),e==Fo.LOADED},e.prototype.renderIfReadyAndVisible=function(){var t=this.getLayer();t.getVisible()&&t.getSourceState()==lr.READY&&this.changed()},e.prototype.scheduleExpireCache=function(t,e){if(e.canExpireCache()){var n=function(t,e,n){var i=F(t);i in n.usedTiles&&t.expireCache(n.viewState.projection,n.usedTiles[i])}.bind(null,e);t.postRenderFunctions.push(n)}},e.prototype.updateUsedTiles=function(t,e,n,i){var r=F(e),o=n.toString();r in t?o in t[r]?t[r][o].extend(i):t[r][o]=i:(t[r]={},t[r][o]=i)},e.prototype.manageTilePyramid=function(t,e,n,i,r,o,s,a,u,l){var c=F(e);c in t.wantedTiles||(t.wantedTiles[c]={});var h,f,p,d,v,g,m=t.wantedTiles[c],y=t.tileQueue;for(g=n.getMinZoom();g<=s;++g)for(f=n.getTileRangeForExtentAndZ(o,g,f),p=n.getResolution(g),d=f.minX;d<=f.maxX;++d)for(v=f.minY;v<=f.maxY;++v)s-g<=a?((h=e.getTile(g,d,v,i,r)).getState()==he.IDLE&&(m[h.getKey()]=!0,y.isKeyQueued(h.getKey())||y.enqueue([h,c,n.getTileCoordCenter(h.tileCoord),p])),void 0!==u&&u.call(l,h)):e.useTile(g,d,v,r)},e}(M)),Xs=function(t){function e(e){t.call(this,e),this.coordinateToCanvasPixelTransform=[1,0,0,1,0,0],this.hitCanvasContext_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.composeFrame=function(t,e,n){this.preCompose(n,t);var i=this.getImage();if(i){var r=e.extent,o=void 0!==r&&!Ve(r,t.extent)&&gn(r,t.extent);o&&this.clip(n,t,r);var s=this.getImageTransform(),a=n.globalAlpha;n.globalAlpha=e.opacity;var u=s[4],l=s[5],c=i.width*s[0],h=i.height*s[3];c>=.5&&h>=.5&&n.drawImage(i,0,0,+i.width,+i.height,Math.round(u),Math.round(l),Math.round(c),Math.round(h)),n.globalAlpha=a,o&&n.restore()}this.postCompose(n,t,e)},e.prototype.getImage=function(){return P()},e.prototype.getImageTransform=function(){return P()},e.prototype.forEachLayerAtCoordinate=function(t,e,n,i,r){if(this.getImage()){var o=ci(this.coordinateToCanvasPixelTransform,t.slice());Me(o,e.viewState.resolution/this.renderedResolution),this.hitCanvasContext_||(this.hitCanvasContext_=ir(1,1)),this.hitCanvasContext_.clearRect(0,0,1,1),this.hitCanvasContext_.drawImage(this.getImage(),o[0],o[1],1,1,0,0,1,1);var s=this.hitCanvasContext_.getImageData(0,0,1,1).data;return s[3]>0?i.call(r,this.getLayer(),s):void 0}},e}(Vs),Hs=function(t){function e(n){if(t.call(this,n),this.image_=null,this.imageTransform_=[1,0,0,1,0,0],this.skippedFeatures_=[],this.vectorRenderer_=null,n.getType()===Ro.VECTOR)for(var i=0,r=Us.length;i<r;++i){var o=Us[i];if(o!==e&&o.handles(n)){this.vectorRenderer_=new o(n);break}}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.vectorRenderer_&&this.vectorRenderer_.dispose(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.image_?this.image_.getImage():null},e.prototype.getImageTransform=function(){return this.imageTransform_},e.prototype.prepareFrame=function(t,e){var n,i=t.pixelRatio,r=t.size,o=t.viewState,s=o.center,a=o.resolution,u=this.getLayer().getSource(),l=t.viewHints,c=this.vectorRenderer_,h=t.extent;if(c||void 0===e.extent||(h=fn(h,e.extent)),!l[Se]&&!l[Te]&&!mn(h)){var p=o.projection,d=this.skippedFeatures_;if(c){var v=c.context,g=f({},t,{size:[vn(h)/a,hn(h)/a],viewState:f({},t.viewState,{rotation:0})}),m=Object.keys(g.skippedFeatureUids).sort();n=new ks(h,a,i,v.canvas,function(t){!c.prepareFrame(g,e)||!c.replayGroupChanged&&Jt(d,m)||(v.canvas.width=g.size[0]*i,v.canvas.height=g.size[1]*i,c.compose(v,g,e),d=m,t())})}else n=u.getImage(h,a,i,p);n&&this.loadImage(n)&&(this.image_=n,this.skippedFeatures_=d)}if(this.image_){var y=(n=this.image_).getExtent(),_=n.getResolution(),w=n.getPixelRatio(),b=i*_/(a*w),x=pi(this.imageTransform_,i*r[0]/2,i*r[1]/2,b,b,0,w*(y[0]-s[0])/_,w*(s[1]-y[3])/_);pi(this.coordinateToCanvasPixelTransform,i*r[0]/2-x[4],i*r[1]/2-x[5],i/a,-i/a,0,-s[0],-s[1]),this.renderedResolution=_*i/w}return!!this.image_},e.prototype.forEachFeatureAtCoordinate=function(e,n,i,r){return this.vectorRenderer_?this.vectorRenderer_.forEachFeatureAtCoordinate(e,n,i,r):t.prototype.forEachFeatureAtCoordinate.call(this,e,n,i,r)},e}(Xs);Hs.handles=function(t){return t.getType()===Ro.IMAGE||t.getType()===Ro.VECTOR&&t.getRenderMode()===Io.IMAGE},Hs.create=function(t,e){return new Hs(e)};var Zs=Hs,Ks=function(t,e,n,i){this.minX=t,this.maxX=e,this.minY=n,this.maxY=i};function qs(t,e,n,i,r){return void 0!==r?(r.minX=t,r.maxX=e,r.minY=n,r.maxY=i,r):new Ks(t,e,n,i)}Ks.prototype.contains=function(t){return this.containsXY(t[1],t[2])},Ks.prototype.containsTileRange=function(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY},Ks.prototype.containsXY=function(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY},Ks.prototype.equals=function(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY},Ks.prototype.extend=function(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)},Ks.prototype.getHeight=function(){return this.maxY-this.minY+1},Ks.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},Ks.prototype.getWidth=function(){return this.maxX-this.minX+1},Ks.prototype.intersects=function(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY};var Js=Ks,Qs=function(t){function e(e,n){t.call(this,e),this.context=n?null:ir(),this.oversampling_,this.renderedExtent_=null,this.renderedRevision,this.renderedTiles=[],this.newTiles_=!1,this.tmpExtent=[1/0,1/0,-1/0,-1/0],this.tmpTileRange_=new Js(0,0,0,0),this.imageTransform_=[1,0,0,1,0,0],this.zDirection=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isDrawableTile_=function(t){var e=this.getLayer(),n=t.getState(),i=e.getUseInterimTilesOnError();return n==he.LOADED||n==he.EMPTY||n==he.ERROR&&!i},e.prototype.getTile=function(t,e,n,i,r){var o=this.getLayer(),s=o.getSource().getTile(t,e,n,i,r);return s.getState()==he.ERROR&&(o.getUseInterimTilesOnError()?o.getPreload()>0&&(this.newTiles_=!0):s.setState(he.LOADED)),this.isDrawableTile_(s)||(s=s.getInterimTile()),s},e.prototype.prepareFrame=function(t,e){var n=t.pixelRatio,i=t.size,r=t.viewState,o=r.projection,s=r.resolution,a=r.center,u=this.getLayer(),l=u.getSource(),c=l.getRevision(),h=l.getTileGridForProjection(o),f=h.getZForResolution(s,this.zDirection),p=h.getResolution(f),d=Math.round(s/p)||1,v=t.extent;if(void 0!==e.extent&&(v=fn(v,e.extent)),mn(v))return!1;var g=h.getTileRangeForExtentAndZ(v,f),m=h.getTileRangeExtent(f,g),y=l.getTilePixelRatio(n),_={};_[f]={};var w,b,x,E=this.createLoadedTileFinder(l,o,_),C=t.viewHints,j=C[Se]||C[Te],S=this.tmpExtent,T=this.tmpTileRange_;for(this.newTiles_=!1,b=g.minX;b<=g.maxX;++b)for(x=g.minY;x<=g.maxY;++x)if(!(Date.now()-t.time>16&&j)){if(w=this.getTile(f,b,x,n,o),this.isDrawableTile_(w)){var R=F(this);if(w.getState()==he.LOADED){_[f][w.tileCoord.toString()]=w;var I=w.inTransition(R);this.newTiles_||!I&&-1!==this.renderedTiles.indexOf(w)||(this.newTiles_=!0)}if(1===w.getAlpha(R,t.time))continue}var O=h.getTileCoordChildTileRange(w.tileCoord,T,S),A=!1;O&&(A=E(f+1,O)),A||h.forEachTileCoordParentTileRange(w.tileCoord,E,null,T,S)}var L=p*n/y*d;if(!(this.renderedResolution&&Date.now()-t.time>16&&j)&&(this.newTiles_||!this.renderedExtent_||!Ve(this.renderedExtent_,v)||this.renderedRevision!=c||d!=this.oversampling_||!j&&L!=this.renderedResolution)){var k=this.context;if(k){var M=l.getTilePixelSize(f,n,o),P=Math.round(g.getWidth()*M[0]/d),D=Math.round(g.getHeight()*M[1]/d),N=k.canvas;N.width!=P||N.height!=D?(this.oversampling_=d,N.width=P,N.height=D):((this.renderedExtent_&&!$e(m,this.renderedExtent_)||this.renderedRevision!=c)&&k.clearRect(0,0,P,D),d=this.oversampling_)}this.renderedTiles.length=0;var G,W,B,z,U,Y,V,X,H,Z,K=Object.keys(_).map(Number);for(K.sort(function(t,e){return t===f?1:e===f?-1:t>e?1:t<e?-1:0}),z=0,U=K.length;z<U;++z)for(var q in B=K[z],W=l.getTilePixelSize(B,n,o),G=h.getResolution(B)/p,V=y*l.getGutterForProjection(o),X=_[B])w=X[q],b=((Y=h.getTileCoordExtent(w.getTileCoord(),S))[0]-m[0])/p*y/d,x=(m[3]-Y[3])/p*y/d,H=W[0]*G/d,Z=W[1]*G/d,this.drawTileImage(w,t,e,b,x,H,Z,V,f===B),this.renderedTiles.push(w);this.renderedRevision=c,this.renderedResolution=p*n/y*d,this.renderedExtent_=m}var J=this.renderedResolution/s,Q=pi(this.imageTransform_,n*i[0]/2,n*i[1]/2,J,J,0,(this.renderedExtent_[0]-a[0])/this.renderedResolution*n,(a[1]-this.renderedExtent_[3])/this.renderedResolution*n);return pi(this.coordinateToCanvasPixelTransform,n*i[0]/2-Q[4],n*i[1]/2-Q[5],n/s,-n/s,0,-a[0],-a[1]),this.updateUsedTiles(t.usedTiles,l,f,g),this.manageTilePyramid(t,l,h,n,o,v,f,u.getPreload()),this.scheduleExpireCache(t,l),this.renderedTiles.length>0},e.prototype.drawTileImage=function(t,e,n,i,r,o,s,a,u){var l=this.getTileImage(t);if(l){var c=F(this),h=u?t.getAlpha(c,e.time):1,f=this.getLayer().getSource();1!==h||f.getOpaque(e.viewState.projection)||this.context.clearRect(i,r,o,s);var p=h!==this.context.globalAlpha;p&&(this.context.save(),this.context.globalAlpha=h),this.context.drawImage(l,a,a,l.width-2*a,l.height-2*a,i,r,o,s),p&&this.context.restore(),1!==h?e.animate=!0:u&&t.endTransition(c)}},e.prototype.getImage=function(){var t=this.context;return t?t.canvas:null},e.prototype.getImageTransform=function(){return this.imageTransform_},e.prototype.getTileImage=function(t){return t.getImage()},e}(Xs);Qs.handles=function(t){return t.getType()===Ro.TILE},Qs.create=function(t,e){return new Qs(e)},Qs.prototype.getLayer;var $s=Qs,ta=function(){};ta.prototype.getReplay=function(t,e){return P()},ta.prototype.isEmpty=function(){return P()},ta.prototype.addDeclutter=function(t){return P()};var ea=ta,na={CIRCLE:"Circle",DEFAULT:"Default",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"};function ia(t,e,n,i,r,o,s,a){for(var u,l,c,h=[],f=t[e]>t[n-i],p=r.length,d=t[e],v=t[e+1],g=t[e+=i],m=t[e+1],y=0,_=Math.sqrt(Math.pow(g-d,2)+Math.pow(m-v,2)),w="",b=0,x=0;x<p;++x){l=f?p-x-1:x;var E=r.charAt(l),C=o(w=f?E+w:w+E)-b;b+=C;for(var j=s+C/2;e<n-i&&y+_<j;)d=g,v=m,g=t[e+=i],m=t[e+1],y+=_,_=Math.sqrt(Math.pow(g-d,2)+Math.pow(m-v,2));var S=j-y,T=Math.atan2(m-v,g-d);if(f&&(T+=T>0?-Math.PI:Math.PI),void 0!==c){var R=T-c;if(R+=R>Math.PI?-2*Math.PI:R<-Math.PI?2*Math.PI:0,Math.abs(R)>a)return null}var I=S/_,O=xe(d,g,I),A=xe(v,m,I);c==T?(f&&(u[0]=O,u[1]=A,u[2]=C/2),u[4]=w):(b=C,u=[O,A,C/2,T,w=E],f?h.unshift(u):h.push(u),c=T),s+=C}return h}var ra={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},oa=[ra.FILL],sa=[ra.STROKE],aa=[ra.BEGIN_PATH],ua=[ra.CLOSE_PATH],la=ra,ca=[na.POLYGON,na.CIRCLE,na.LINE_STRING,na.IMAGE,na.TEXT,na.DEFAULT],ha={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},fa=[1/0,1/0,-1/0,-1/0],pa=[1,0,0,1,0,0],da=function(t){function e(e,n,i,r,o,s){t.call(this),this.declutterTree=s,this.tolerance=e,this.maxExtent=n,this.overlaps=o,this.pixelRatio=r,this.maxLineWidth=0,this.resolution=i,this.alignFill_,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.coordinateCache_={},this.renderedTransform_=[1,0,0,1,0,0],this.hitDetectionInstructions=[],this.pixelCoordinates_=null,this.state={},this.viewRotation_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.replayTextBackground_=function(t,e,n,i,r,o,s){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,n),t.lineTo.apply(t,i),t.lineTo.apply(t,r),t.lineTo.apply(t,e),o&&(this.alignFill_=o[2],this.fill_(t)),s&&(this.setStrokeStyle_(t,s),t.stroke())},e.prototype.replayImage_=function(t,e,n,i,r,o,s,a,u,l,c,h,f,p,d,v,g,m){var y=g||m;e-=r*=f,n-=o*=f;var _,w,b,x,E=d+l>i.width?i.width-l:d,C=a+c>i.height?i.height-c:a,j=v[3]+E*f+v[1],S=v[0]+C*f+v[2],T=e-v[3],R=n-v[0];(y||0!==h)&&(_=[T,R],w=[T+j,R],b=[T+j,R+S],x=[T,R+S]);var I=null;if(0!==h){var O=e+r,A=n+o;I=pi(pa,O,A,1,1,h,-O,-A),qe(fa),en(fa,ci(pa,_)),en(fa,ci(pa,w)),en(fa,ci(pa,b)),en(fa,ci(pa,x))}else Ke(T,R,T+j,R+S,fa);var L=t.canvas,k=m?m[2]*f/2:0,M=fa[0]-k<=L.width&&fa[2]+k>=0&&fa[1]-k<=L.height&&fa[3]+k>=0;if(p&&(e=Math.round(e),n=Math.round(n)),s){if(!M&&1==s[4])return;tn(s,fa);var P=M?[t,I?I.slice(0):null,u,i,l,c,E,C,e,n,f]:null;P&&y&&P.push(g,m,_,w,b,x),s.push(P)}else M&&(y&&this.replayTextBackground_(t,_,w,b,x,g,m),es(t,I,u,i,l,c,E,C,e,n,f))},e.prototype.applyPixelRatio=function(t){var e=this.pixelRatio;return 1==e?t:t.map(function(t){return t*e})},e.prototype.appendFlatCoordinates=function(t,e,n,i,r,o){var s=this.coordinates.length,a=this.getBufferedMaxExtent();o&&(e+=i);var u,l,c,h=[t[e],t[e+1]],f=[NaN,NaN],p=!0;for(u=e+i;u<n;u+=i)f[0]=t[u],f[1]=t[u+1],(c=He(a,f))!==l?(p&&(this.coordinates[s++]=h[0],this.coordinates[s++]=h[1]),this.coordinates[s++]=f[0],this.coordinates[s++]=f[1],p=!1):c===Ge.INTERSECTING?(this.coordinates[s++]=f[0],this.coordinates[s++]=f[1],p=!1):p=!0,h[0]=f[0],h[1]=f[1],l=c;return(r&&p||u===e+i)&&(this.coordinates[s++]=h[0],this.coordinates[s++]=h[1]),s},e.prototype.drawCustomCoordinates_=function(t,e,n,i,r){for(var o=0,s=n.length;o<s;++o){var a=n[o],u=this.appendFlatCoordinates(t,e,a,i,!1,!1);r.push(u),e=a}return e},e.prototype.drawCustom=function(t,e,n){this.beginGeometry(t,e);var i,r,o,s,a,u=t.getType(),l=t.getStride(),c=this.coordinates.length;if(u==wn.MULTI_POLYGON){i=(t=t).getOrientedFlatCoordinates(),s=[];var h=t.getEndss();a=0;for(var f=0,p=h.length;f<p;++f){var d=[];a=this.drawCustomCoordinates_(i,a,h[f],l,d),s.push(d)}this.instructions.push([la.CUSTOM,c,s,t,n,Oi])}else u==wn.POLYGON||u==wn.MULTI_LINE_STRING?(o=[],i=u==wn.POLYGON?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),a=this.drawCustomCoordinates_(i,0,t.getEnds(),l,o),this.instructions.push([la.CUSTOM,c,o,t,n,Ii])):u==wn.LINE_STRING||u==wn.MULTI_POINT?(i=t.getFlatCoordinates(),r=this.appendFlatCoordinates(i,0,i.length,l,!1,!1),this.instructions.push([la.CUSTOM,c,r,t,n,Ri])):u==wn.POINT&&(i=t.getFlatCoordinates(),this.coordinates.push(i[0],i[1]),r=this.coordinates.length,this.instructions.push([la.CUSTOM,c,r,t,n]));this.endGeometry(t,e)},e.prototype.beginGeometry=function(t,e){this.beginGeometryInstruction1_=[la.BEGIN_GEOMETRY,e,0],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[la.BEGIN_GEOMETRY,e,0],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},e.prototype.finish=function(){},e.prototype.fill_=function(t){if(this.alignFill_){var e=ci(this.renderedTransform_,[0,0]),n=512*this.pixelRatio;t.translate(e[0]%n,e[1]%n),t.rotate(this.viewRotation_)}t.fill(),this.alignFill_&&t.setTransform.apply(t,ts)},e.prototype.setStrokeStyle_=function(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],st&&(t.lineDashOffset=e[7],t.setLineDash(e[6]))},e.prototype.renderDeclutter_=function(t,e){if(t&&t.length>5){var n=t[4];if(1==n||n==t.length-5){var i={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};if(!this.declutterTree.collides(i)){this.declutterTree.insert(i);for(var r=5,o=t.length;r<o;++r){var s=t[r];s&&(s.length>11&&this.replayTextBackground_(s[0],s[13],s[14],s[15],s[16],s[11],s[12]),es.apply(void 0,s))}}t.length=5,qe(t)}}},e.prototype.replay_=function(t,e,n,i,r,o,s){var a;this.pixelCoordinates_&&Jt(e,this.renderedTransform_)?a=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),a=xn(this.coordinates,0,this.coordinates.length,2,e,this.pixelCoordinates_),li(this.renderedTransform_,e));for(var u,l,c,h,f,p,d,g,m,y,_,w,b=!v(n),x=0,E=i.length,C=0,j=0,S=0,T=null,R=null,I=this.coordinateCache_,O=this.viewRotation_,A={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:O},L=this.instructions!=i||this.overlaps?0:200;x<E;){var k=i[x];switch(k[0]){case la.BEGIN_GEOMETRY:y=k[1],b&&n[F(y)]||!y.getGeometry()?x=k[2]:void 0===s||gn(s,y.getGeometry().getExtent())?++x:x=k[2]+1;break;case la.BEGIN_PATH:j>L&&(this.fill_(t),j=0),S>L&&(t.stroke(),S=0),j||S||(t.beginPath(),h=f=NaN),++x;break;case la.CIRCLE:var M=a[C=k[1]],P=a[C+1],D=a[C+2]-M,N=a[C+3]-P,G=Math.sqrt(D*D+N*N);t.moveTo(M+G,P),t.arc(M,P,G,0,2*Math.PI,!0),++x;break;case la.CLOSE_PATH:t.closePath(),++x;break;case la.CUSTOM:C=k[1],u=k[2];var W=k[3],B=k[4],z=6==k.length?k[5]:void 0;A.geometry=W,A.feature=y,x in I||(I[x]=[]);var U=I[x];z?z(a,C,u,2,U):(U[0]=a[C],U[1]=a[C+1],U.length=2),B(U,A),++x;break;case la.DRAW_IMAGE:C=k[1],u=k[2],m=k[3],l=k[4],c=k[5],g=o?null:k[6];var Y=k[7],V=k[8],X=k[9],H=k[10],Z=k[11],K=k[12],q=k[13],J=k[14],Q=void 0,$=void 0,tt=void 0;for(k.length>16?(Q=k[15],$=k[16],tt=k[17]):(Q=zo,$=tt=!1),Z&&(K+=O);C<u;C+=2)this.replayImage_(t,a[C],a[C+1],m,l,c,g,Y,V,X,H,K,q,r,J,Q,$?T:null,tt?R:null);this.renderDeclutter_(g,y),++x;break;case la.DRAW_CHARS:var et=k[1],nt=k[2],it=k[3];g=o?null:k[4];var rt=k[5],ot=k[6],st=k[7],at=k[8],ut=k[9],lt=k[10],ct=k[11],ht=k[12],ft=k[13],pt=k[14],dt=Eo(a,et,nt,2),vt=at(ht);if(rt||vt<=dt){var gt=this.textStates[ft].textAlign,mt=ia(a,et,nt,2,ht,at,(dt-vt)*ha[gt],st);if(mt){var yt=void 0,_t=void 0,wt=void 0,bt=void 0,xt=void 0;if(lt)for(yt=0,_t=mt.length;yt<_t;++yt)wt=(xt=mt[yt])[4],bt=this.getImage(wt,ft,"",lt),l=xt[2]+ct,c=it*bt.height+2*(.5-it)*ct-ut,this.replayImage_(t,xt[0],xt[1],bt,l,c,g,bt.height,1,0,0,xt[3],pt,!1,bt.width,zo,null,null);if(ot)for(yt=0,_t=mt.length;yt<_t;++yt)wt=(xt=mt[yt])[4],bt=this.getImage(wt,ft,ot,""),l=xt[2],c=it*bt.height-ut,this.replayImage_(t,xt[0],xt[1],bt,l,c,g,bt.height,1,0,0,xt[3],pt,!1,bt.width,zo,null,null)}}this.renderDeclutter_(g,y),++x;break;case la.END_GEOMETRY:if(void 0!==o){var Et=o(y=k[1]);if(Et)return Et}++x;break;case la.FILL:L?j++:this.fill_(t),++x;break;case la.MOVE_TO_LINE_TO:for(C=k[1],u=k[2],_=a[C],d=(w=a[C+1])+.5|0,(p=_+.5|0)===h&&d===f||(t.moveTo(_,w),h=p,f=d),C+=2;C<u;C+=2)p=(_=a[C])+.5|0,d=(w=a[C+1])+.5|0,C!=u-2&&p===h&&d===f||(t.lineTo(_,w),h=p,f=d);++x;break;case la.SET_FILL_STYLE:T=k,this.alignFill_=k[2],j&&(this.fill_(t),j=0,S&&(t.stroke(),S=0)),t.fillStyle=k[1],++x;break;case la.SET_STROKE_STYLE:R=k,S&&(t.stroke(),S=0),this.setStrokeStyle_(t,k),++x;break;case la.STROKE:L?S++:t.stroke(),++x;break;default:++x}}j&&this.fill_(t),S&&t.stroke()},e.prototype.replay=function(t,e,n,i,r){this.viewRotation_=n,this.replay_(t,e,i,this.instructions,r,void 0,void 0)},e.prototype.replayHitDetection=function(t,e,n,i,r,o){return this.viewRotation_=n,this.replay_(t,e,i,this.hitDetectionInstructions,!0,r,o)},e.prototype.reverseHitDetectionInstructions=function(){var t,e=this.hitDetectionInstructions;e.reverse();var n,i,r=e.length,o=-1;for(t=0;t<r;++t)(i=(n=e[t])[0])==la.END_GEOMETRY?o=t:i==la.BEGIN_GEOMETRY&&(n[2]=t,Kt(this.hitDetectionInstructions,o,t),o=-1)},e.prototype.setFillStrokeStyle=function(t,e){var n=this.state;if(t){var i=t.getColor();n.fillStyle=Do(i||Go)}else n.fillStyle=void 0;if(e){var r=e.getColor();n.strokeStyle=Do(r||Bo);var o=e.getLineCap();n.lineCap=void 0!==o?o:"round";var s=e.getLineDash();n.lineDash=s?s.slice():Wo;var a=e.getLineDashOffset();n.lineDashOffset=a||0;var u=e.getLineJoin();n.lineJoin=void 0!==u?u:"round";var l=e.getWidth();n.lineWidth=void 0!==l?l:1;var c=e.getMiterLimit();n.miterLimit=void 0!==c?c:10,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)}else n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0},e.prototype.createFill=function(t,e){var n=t.fillStyle,i=[la.SET_FILL_STYLE,n];return"string"!=typeof n&&i.push(!0),i},e.prototype.applyStroke=function(t){this.instructions.push(this.createStroke(t))},e.prototype.createStroke=function(t){return[la.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]},e.prototype.updateFillStyle=function(t,e,n){var i=t.fillStyle;"string"==typeof i&&t.currentFillStyle==i||(void 0!==i&&this.instructions.push(e.call(this,t,n)),t.currentFillStyle=i)},e.prototype.updateStrokeStyle=function(t,e){var n=t.strokeStyle,i=t.lineCap,r=t.lineDash,o=t.lineDashOffset,s=t.lineJoin,a=t.lineWidth,u=t.miterLimit;(t.currentStrokeStyle!=n||t.currentLineCap!=i||r!=t.currentLineDash&&!Jt(t.currentLineDash,r)||t.currentLineDashOffset!=o||t.currentLineJoin!=s||t.currentLineWidth!=a||t.currentMiterLimit!=u)&&(void 0!==n&&e.call(this,t),t.currentStrokeStyle=n,t.currentLineCap=i,t.currentLineDash=r,t.currentLineDashOffset=o,t.currentLineJoin=s,t.currentLineWidth=a,t.currentMiterLimit=u)},e.prototype.endGeometry=function(t,e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var n=[la.END_GEOMETRY,e];this.instructions.push(n),this.hitDetectionInstructions.push(n)},e.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=ze(this.maxExtent),this.maxLineWidth>0)){var t=this.resolution*(this.maxLineWidth+1)/2;Be(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},e}(Ds),va=function(t){function e(e,n,i,r,o,s){t.call(this,e,n,i,r,o,s),this.declutterGroup_=null,this.hitDetectionImage_=null,this.image_=null,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawCoordinates_=function(t,e,n,i){return this.appendFlatCoordinates(t,e,n,i,!1,!1)},e.prototype.drawPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var n=t.getFlatCoordinates(),i=t.getStride(),r=this.coordinates.length,o=this.drawCoordinates_(n,0,n.length,i);this.instructions.push([la.DRAW_IMAGE,r,o,this.image_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.width_]),this.hitDetectionInstructions.push([la.DRAW_IMAGE,r,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_]),this.endGeometry(t,e)}},e.prototype.drawMultiPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var n=t.getFlatCoordinates(),i=t.getStride(),r=this.coordinates.length,o=this.drawCoordinates_(n,0,n.length,i);this.instructions.push([la.DRAW_IMAGE,r,o,this.image_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.width_]),this.hitDetectionInstructions.push([la.DRAW_IMAGE,r,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_]),this.endGeometry(t,e)}},e.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0},e.prototype.setImageStyle=function(t,e){var n=t.getAnchor(),i=t.getSize(),r=t.getHitDetectionImage(1),o=t.getImage(1),s=t.getOrigin();this.anchorX_=n[0],this.anchorY_=n[1],this.declutterGroup_=e,this.hitDetectionImage_=r,this.image_=o,this.height_=i[1],this.opacity_=t.getOpacity(),this.originX_=s[0],this.originY_=s[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScale(),this.width_=i[0]},e}(da),ga=function(t){function e(e,n,i,r,o,s){t.call(this,e,n,i,r,o,s)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawFlatCoordinates_=function(t,e,n,i){var r=this.coordinates.length,o=this.appendFlatCoordinates(t,e,n,i,!1,!1),s=[la.MOVE_TO_LINE_TO,r,o];return this.instructions.push(s),this.hitDetectionInstructions.push(s),n},e.prototype.drawLineString=function(t,e){var n=this.state,i=n.strokeStyle,r=n.lineWidth;if(void 0!==i&&void 0!==r){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([la.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],aa);var o=t.getFlatCoordinates(),s=t.getStride();this.drawFlatCoordinates_(o,0,o.length,s),this.hitDetectionInstructions.push(sa),this.endGeometry(t,e)}},e.prototype.drawMultiLineString=function(t,e){var n=this.state,i=n.strokeStyle,r=n.lineWidth;if(void 0!==i&&void 0!==r){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([la.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],aa);for(var o=t.getEnds(),s=t.getFlatCoordinates(),a=t.getStride(),u=0,l=0,c=o.length;l<c;++l)u=this.drawFlatCoordinates_(s,u,o[l],a);this.hitDetectionInstructions.push(sa),this.endGeometry(t,e)}},e.prototype.finish=function(){var t=this.state;void 0!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&this.instructions.push(sa),this.reverseHitDetectionInstructions(),this.state=null},e.prototype.applyStroke=function(e){void 0!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(sa),e.lastStroke=this.coordinates.length),e.lastStroke=0,t.prototype.applyStroke.call(this,e),this.instructions.push(aa)},e}(da),ma=function(t){function e(e,n,i,r,o,s){t.call(this,e,n,i,r,o,s)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawFlatCoordinatess_=function(t,e,n,i){var r=this.state,o=void 0!==r.fillStyle,s=void 0!=r.strokeStyle,a=n.length;this.instructions.push(aa),this.hitDetectionInstructions.push(aa);for(var u=0;u<a;++u){var l=n[u],c=this.coordinates.length,h=this.appendFlatCoordinates(t,e,l,i,!0,!s),f=[la.MOVE_TO_LINE_TO,c,h];this.instructions.push(f),this.hitDetectionInstructions.push(f),s&&(this.instructions.push(ua),this.hitDetectionInstructions.push(ua)),e=l}return o&&(this.instructions.push(oa),this.hitDetectionInstructions.push(oa)),s&&(this.instructions.push(sa),this.hitDetectionInstructions.push(sa)),e},e.prototype.drawCircle=function(t,e){var n=this.state,i=n.fillStyle,r=n.strokeStyle;if(void 0!==i||void 0!==r){this.setFillStrokeStyles_(t),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([la.SET_FILL_STYLE,Lo(Go)]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([la.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var o=t.getFlatCoordinates(),s=t.getStride(),a=this.coordinates.length;this.appendFlatCoordinates(o,0,o.length,s,!1,!1);var u=[la.CIRCLE,a];this.instructions.push(aa,u),this.hitDetectionInstructions.push(aa,u),this.hitDetectionInstructions.push(oa),void 0!==n.fillStyle&&this.instructions.push(oa),void 0!==n.strokeStyle&&(this.instructions.push(sa),this.hitDetectionInstructions.push(sa)),this.endGeometry(t,e)}},e.prototype.drawPolygon=function(t,e){var n=this.state,i=n.fillStyle,r=n.strokeStyle;if(void 0!==i||void 0!==r){this.setFillStrokeStyles_(t),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([la.SET_FILL_STYLE,Lo(Go)]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([la.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var o=t.getEnds(),s=t.getOrientedFlatCoordinates(),a=t.getStride();this.drawFlatCoordinatess_(s,0,o,a),this.endGeometry(t,e)}},e.prototype.drawMultiPolygon=function(t,e){var n=this.state,i=n.fillStyle,r=n.strokeStyle;if(void 0!==i||void 0!==r){this.setFillStrokeStyles_(t),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([la.SET_FILL_STYLE,Lo(Go)]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([la.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);for(var o=t.getEndss(),s=t.getOrientedFlatCoordinates(),a=t.getStride(),u=0,l=0,c=o.length;l<c;++l)u=this.drawFlatCoordinatess_(s,u,o[l],a);this.endGeometry(t,e)}},e.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var t=this.tolerance;if(0!==t)for(var e=this.coordinates,n=0,i=e.length;n<i;++n)e[n]=ki(e[n],t)},e.prototype.setFillStrokeStyles_=function(t){var e=this.state;void 0!==e.fillStyle&&this.updateFillStyle(e,this.createFill,t),void 0!==e.strokeStyle&&this.updateStrokeStyle(e,this.applyStroke)},e}(da);function ya(t,e,n,i,r){var o,s,a,u,l,c,h,f,p,d=n,v=n,g=0,m=0,y=n;for(o=n;o<i;o+=r){var _=e[o],w=e[o+1];void 0!==u&&(f=_-u,p=w-l,a=Math.sqrt(f*f+p*p),void 0!==c&&(m+=s,Math.acos((c*f+h*p)/(s*a))>t&&(m>g&&(g=m,d=y,v=o),m=0,y=o-r)),s=a,c=f,h=p),u=_,l=w}return(m+=a)>g?[y,o]:[d,v]}var _a="point",wa="line";var ba={Circle:ma,Default:da,Image:va,LineString:ga,Polygon:ma,Text:function(t){function e(e,n,i,r,o,s){t.call(this,e,n,i,r,o,s),this.declutterGroup_,this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.widths_={},Uo.prune()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawText=function(t,e){var n=this.textFillState_,i=this.textStrokeState_,r=this.textState_;if(""!==this.text_&&r&&(n||i)){var o,s,a=this.coordinates.length,u=t.getType(),l=null,c=2,h=2;if(r.placement===wa){if(!gn(this.getBufferedMaxExtent(),t.getExtent()))return;var f;if(l=t.getFlatCoordinates(),h=t.getStride(),u==wn.LINE_STRING)f=[l.length];else if(u==wn.MULTI_LINE_STRING)f=t.getEnds();else if(u==wn.POLYGON)f=t.getEnds().slice(0,1);else if(u==wn.MULTI_POLYGON){var p=t.getEndss();for(f=[],o=0,s=p.length;o<s;++o)f.push(p[o][0])}this.beginGeometry(t,e);for(var d,v=r.textAlign,g=0,m=0,y=f.length;m<y;++m){if(void 0==v){var _=ya(r.maxAngle,l,g,f[m],h);g=_[0],d=_[1]}else d=f[m];for(o=g;o<d;o+=h)this.coordinates.push(l[o],l[o+1]);c=this.coordinates.length,g=f[m],this.drawChars_(a,c,this.declutterGroup_),a=c}this.endGeometry(t,e)}else{var w=this.getImage(this.text_,this.textKey_,this.fillKey_,this.strokeKey_),b=w.width/this.pixelRatio;switch(u){case wn.POINT:case wn.MULTI_POINT:c=(l=t.getFlatCoordinates()).length;break;case wn.LINE_STRING:l=t.getFlatMidpoint();break;case wn.CIRCLE:l=t.getCenter();break;case wn.MULTI_LINE_STRING:c=(l=t.getFlatMidpoints()).length;break;case wn.POLYGON:if(l=t.getFlatInteriorPoint(),!r.overflow&&l[2]/this.resolution<b)return;h=3;break;case wn.MULTI_POLYGON:var x=t.getFlatInteriorPoints();for(l=[],o=0,s=x.length;o<s;o+=3)(r.overflow||x[o+2]/this.resolution>=b)&&l.push(x[o],x[o+1]);if(0==(c=l.length))return}c=this.appendFlatCoordinates(l,0,c,h,!1,!1),(r.backgroundFill||r.backgroundStroke)&&(this.setFillStrokeStyle(r.backgroundFill,r.backgroundStroke),r.backgroundFill&&(this.updateFillStyle(this.state,this.createFill,t),this.hitDetectionInstructions.push(this.createFill(this.state,t))),r.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,e),this.drawTextImage_(w,a,c),this.endGeometry(t,e)}}},e.prototype.getImage=function(t,e,n,i){var r,o=i+e+t+n+this.pixelRatio;if(!Uo.containsKey(o)){var s=i?this.strokeStates[i]||this.textStrokeState_:null,a=n?this.fillStates[n]||this.textFillState_:null,u=this.textStates[e]||this.textState_,l=this.pixelRatio,c=u.scale*l,h=ha[u.textAlign||"center"],f=i&&s.lineWidth?s.lineWidth:0,p=t.split("\n"),d=p.length,v=[],g=function(t,e,n){for(var i=e.length,r=0,o=0;o<i;++o){var s=Qo(t,e[o]);r=Math.max(r,s),n.push(s)}return r}(u.font,p,v),m=Jo(u.font),y=m*d,_=g+f,w=ir(Math.ceil(_*c),Math.ceil((y+f)*c));r=w.canvas,Uo.set(o,r),1!=c&&w.scale(c,c),w.font=u.font,i&&(w.strokeStyle=s.strokeStyle,w.lineWidth=f,w.lineCap=s.lineCap,w.lineJoin=s.lineJoin,w.miterLimit=s.miterLimit,st&&s.lineDash.length&&(w.setLineDash(s.lineDash),w.lineDashOffset=s.lineDashOffset)),n&&(w.fillStyle=a.fillStyle),w.textBaseline="middle",w.textAlign="center";var b,x=.5-h,E=h*r.width/c+x*f;if(i)for(b=0;b<d;++b)w.strokeText(p[b],E+x*v[b],.5*(f+m)+b*m);if(n)for(b=0;b<d;++b)w.fillText(p[b],E+x*v[b],.5*(f+m)+b*m)}return Uo.get(o)},e.prototype.drawTextImage_=function(t,e,n){var i=this.textState_,r=this.textStrokeState_,o=this.pixelRatio,s=ha[i.textAlign||"center"],a=ha[i.textBaseline],u=r&&r.lineWidth?r.lineWidth:0,l=s*t.width/o+2*(.5-s)*u,c=a*t.height/o+2*(.5-a)*u;this.instructions.push([la.DRAW_IMAGE,e,n,t,(l-this.textOffsetX_)*o,(c-this.textOffsetY_)*o,this.declutterGroup_,t.height,1,0,0,this.textRotateWithView_,this.textRotation_,1,t.width,i.padding==zo?zo:i.padding.map(function(t){return t*o}),!!i.backgroundFill,!!i.backgroundStroke]),this.hitDetectionInstructions.push([la.DRAW_IMAGE,e,n,t,(l-this.textOffsetX_)*o,(c-this.textOffsetY_)*o,this.declutterGroup_,t.height,1,0,0,this.textRotateWithView_,this.textRotation_,1/o,t.width,i.padding,!!i.backgroundFill,!!i.backgroundStroke])},e.prototype.drawChars_=function(t,e,n){var i=this.textStrokeState_,r=this.textState_,o=this.textFillState_,s=this.strokeKey_;i&&(s in this.strokeStates||(this.strokeStates[s]={strokeStyle:i.strokeStyle,lineCap:i.lineCap,lineDashOffset:i.lineDashOffset,lineWidth:i.lineWidth,lineJoin:i.lineJoin,miterLimit:i.miterLimit,lineDash:i.lineDash}));var a=this.textKey_;this.textKey_ in this.textStates||(this.textStates[this.textKey_]={font:r.font,textAlign:r.textAlign||"center",scale:r.scale});var u=this.fillKey_;o&&(u in this.fillStates||(this.fillStates[u]={fillStyle:o.fillStyle}));var l=this.pixelRatio,c=ha[r.textBaseline],h=this.textOffsetY_*l,f=this.text_,p=r.font,d=r.scale,v=i?i.lineWidth*d/2:0,g=this.widths_[p];g||(this.widths_[p]=g={}),this.instructions.push([la.DRAW_CHARS,t,e,c,n,r.overflow,u,r.maxAngle,function(t){var e=g[t];return e||(e=g[t]=Qo(p,t)),e*d*l},h,s,v*l,f,a,1]),this.hitDetectionInstructions.push([la.DRAW_CHARS,t,e,c,n,r.overflow,u,r.maxAngle,function(t){var e=g[t];return e||(e=g[t]=Qo(p,t)),e*d},h,s,v,f,a,1/l])},e.prototype.setTextStyle=function(t,e){var n,i,r;if(t){this.declutterGroup_=e;var o=t.getFill();o?((i=this.textFillState_)||(i=this.textFillState_={}),i.fillStyle=Do(o.getColor()||Go)):i=this.textFillState_=null;var s=t.getStroke();if(s){(r=this.textStrokeState_)||(r=this.textStrokeState_={});var a=s.getLineDash(),u=s.getLineDashOffset(),l=s.getWidth(),c=s.getMiterLimit();r.lineCap=s.getLineCap()||"round",r.lineDash=a?a.slice():Wo,r.lineDashOffset=void 0===u?0:u,r.lineJoin=s.getLineJoin()||"round",r.lineWidth=void 0===l?1:l,r.miterLimit=void 0===c?10:c,r.strokeStyle=Do(s.getColor()||Bo)}else r=this.textStrokeState_=null;n=this.textState_;var h=t.getFont()||"10px sans-serif";Ho(h);var f=t.getScale();n.overflow=t.getOverflow(),n.font=h,n.maxAngle=t.getMaxAngle(),n.placement=t.getPlacement(),n.textAlign=t.getTextAlign(),n.textBaseline=t.getTextBaseline()||"middle",n.backgroundFill=t.getBackgroundFill(),n.backgroundStroke=t.getBackgroundStroke(),n.padding=t.getPadding()||zo,n.scale=void 0===f?1:f;var p=t.getOffsetX(),d=t.getOffsetY(),v=t.getRotateWithView(),g=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=void 0===p?0:p,this.textOffsetY_=void 0===d?0:d,this.textRotateWithView_=void 0!==v&&v,this.textRotation_=void 0===g?0:g,this.strokeKey_=r?("string"==typeof r.strokeStyle?r.strokeStyle:F(r.strokeStyle))+r.lineCap+r.lineDashOffset+"|"+r.lineWidth+r.lineJoin+r.miterLimit+"["+r.lineDash.join()+"]":"",this.textKey_=n.font+n.scale+(n.textAlign||"?"),this.fillKey_=i?"string"==typeof i.fillStyle?i.fillStyle:"|"+F(i.fillStyle):""}else this.text_=""},e}(da)},xa=function(t){function e(e,n,i,r,o,s,a){t.call(this),this.declutterTree_=s,this.declutterGroup_=null,this.tolerance_=e,this.maxExtent_=n,this.overlaps_=o,this.pixelRatio_=r,this.resolution_=i,this.renderBuffer_=a,this.replaysByZIndex_={},this.hitDetectionContext_=ir(1,1),this.hitDetectionTransform_=[1,0,0,1,0,0]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addDeclutter=function(t){var e=null;return this.declutterTree_&&(t?(e=this.declutterGroup_)[4]++:(e=this.declutterGroup_=[1/0,1/0,-1/0,-1/0]).push(1)),e},e.prototype.clip=function(t,e){var n=this.getClipCoords(e);t.beginPath(),t.moveTo(n[0],n[1]),t.lineTo(n[2],n[3]),t.lineTo(n[4],n[5]),t.lineTo(n[6],n[7]),t.clip()},e.prototype.hasReplays=function(t){for(var e in this.replaysByZIndex_)for(var n=this.replaysByZIndex_[e],i=0,r=t.length;i<r;++i)if(t[i]in n)return!0;return!1},e.prototype.finish=function(){for(var t in this.replaysByZIndex_){var e=this.replaysByZIndex_[t];for(var n in e)e[n].finish()}},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,r,o,s){var a,u=2*(i=Math.round(i))+1,l=pi(this.hitDetectionTransform_,i+.5,i+.5,1/e,-1/e,-n,-t[0],-t[1]),c=this.hitDetectionContext_;c.canvas.width!==u||c.canvas.height!==u?(c.canvas.width=u,c.canvas.height=u):c.clearRect(0,0,u,u),void 0!==this.renderBuffer_&&(en(a=[1/0,1/0,-1/0,-1/0],t),Be(a,e*(this.renderBuffer_+i),a));var h,f,p=function(t){if(void 0!==Ea[t])return Ea[t];for(var e=2*t+1,n=new Array(e),i=0;i<e;i++)n[i]=new Array(e);var r=t,o=0,s=0;for(;r>=o;)Ca(n,t+r,t+o),Ca(n,t+o,t+r),Ca(n,t-o,t+r),Ca(n,t-r,t+o),Ca(n,t-r,t-o),Ca(n,t-o,t-r),Ca(n,t+o,t-r),Ca(n,t+r,t-o),2*((s+=1+2*++o)-r)+1>0&&(s+=1-2*(r-=1));return Ea[t]=n,n}(i);function d(t){for(var e=c.getImageData(0,0,u,u).data,n=0;n<u;n++)for(var i=0;i<u;i++)if(p[n][i]&&e[4*(i*u+n)+3]>0){var r=void 0;return(!h||f!=na.IMAGE&&f!=na.TEXT||-1!==h.indexOf(t))&&(r=o(t)),r||void c.clearRect(0,0,u,u)}}this.declutterTree_&&(h=this.declutterTree_.all().map(function(t){return t.value}));var v,g,m,y,_,w=Object.keys(this.replaysByZIndex_).map(Number);for(w.sort(Xt),v=w.length-1;v>=0;--v){var b=w[v].toString();for(m=this.replaysByZIndex_[b],g=ca.length-1;g>=0;--g)if(void 0!==(y=m[f=ca[g]]))if(!s||f!=na.IMAGE&&f!=na.TEXT){if(_=y.replayHitDetection(c,l,n,r,d,a))return _}else{var x=s[b];x?x.push(y,l.slice(0)):s[b]=[y,l.slice(0)]}}},e.prototype.getClipCoords=function(t){var e=this.maxExtent_,n=e[0],i=e[1],r=e[2],o=e[3],s=[n,i,n,o,r,o,r,i];return xn(s,0,8,2,t,s),s},e.prototype.getReplay=function(t,e){var n=void 0!==t?t.toString():"0",i=this.replaysByZIndex_[n];void 0===i&&(i={},this.replaysByZIndex_[n]=i);var r=i[e];void 0===r&&(r=new(0,ba[e])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_,this.overlaps_,this.declutterTree_),i[e]=r);return r},e.prototype.getReplays=function(){return this.replaysByZIndex_},e.prototype.isEmpty=function(){return v(this.replaysByZIndex_)},e.prototype.replay=function(t,e,n,i,r,o,s){var a=Object.keys(this.replaysByZIndex_).map(Number);a.sort(Xt),t.save(),this.clip(t,e);var u,l,c,h,f,p,d=o||ca;for(u=0,l=a.length;u<l;++u){var v=a[u].toString();for(f=this.replaysByZIndex_[v],c=0,h=d.length;c<h;++c){var g=d[c];if(p=f[g],void 0!==p)if(!s||g!=na.IMAGE&&g!=na.TEXT)p.replay(t,e,n,i,r);else{var m=s[v];m?m.push(p,e.slice(0)):s[v]=[p,e.slice(0)]}}}t.restore()},e}(ea),Ea={0:[[!0]]};function Ca(t,e,n){var i,r=Math.floor(t.length/2);if(e>=r)for(i=r;i<e;i++)t[i][n]=!0;else if(e<r)for(i=e+1;i<r;i++)t[i][n]=!0}var ja=xa,Sa=.5,Ta={Point:function(t,e,n,i){var r=n.getImage();if(r){if(r.getImageState()!=Fo.LOADED)return;var o=t.getReplay(n.getZIndex(),na.IMAGE);o.setImageStyle(r,t.addDeclutter(!1)),o.drawPoint(e,i)}var s=n.getText();if(s){var a=t.getReplay(n.getZIndex(),na.TEXT);a.setTextStyle(s,t.addDeclutter(!!r)),a.drawText(e,i)}},LineString:function(t,e,n,i){var r=n.getStroke();if(r){var o=t.getReplay(n.getZIndex(),na.LINE_STRING);o.setFillStrokeStyle(null,r),o.drawLineString(e,i)}var s=n.getText();if(s){var a=t.getReplay(n.getZIndex(),na.TEXT);a.setTextStyle(s,t.addDeclutter(!1)),a.drawText(e,i)}},Polygon:function(t,e,n,i){var r=n.getFill(),o=n.getStroke();if(r||o){var s=t.getReplay(n.getZIndex(),na.POLYGON);s.setFillStrokeStyle(r,o),s.drawPolygon(e,i)}var a=n.getText();if(a){var u=t.getReplay(n.getZIndex(),na.TEXT);u.setTextStyle(a,t.addDeclutter(!1)),u.drawText(e,i)}},MultiPoint:function(t,e,n,i){var r=n.getImage();if(r){if(r.getImageState()!=Fo.LOADED)return;var o=t.getReplay(n.getZIndex(),na.IMAGE);o.setImageStyle(r,t.addDeclutter(!1)),o.drawMultiPoint(e,i)}var s=n.getText();if(s){var a=t.getReplay(n.getZIndex(),na.TEXT);a.setTextStyle(s,t.addDeclutter(!!r)),a.drawText(e,i)}},MultiLineString:function(t,e,n,i){var r=n.getStroke();if(r){var o=t.getReplay(n.getZIndex(),na.LINE_STRING);o.setFillStrokeStyle(null,r),o.drawMultiLineString(e,i)}var s=n.getText();if(s){var a=t.getReplay(n.getZIndex(),na.TEXT);a.setTextStyle(s,t.addDeclutter(!1)),a.drawText(e,i)}},MultiPolygon:function(t,e,n,i){var r=n.getFill(),o=n.getStroke();if(o||r){var s=t.getReplay(n.getZIndex(),na.POLYGON);s.setFillStrokeStyle(r,o),s.drawMultiPolygon(e,i)}var a=n.getText();if(a){var u=t.getReplay(n.getZIndex(),na.TEXT);u.setTextStyle(a,t.addDeclutter(!1)),u.drawText(e,i)}},GeometryCollection:function(t,e,n,i){var r,o,s=e.getGeometriesArray();for(r=0,o=s.length;r<o;++r){var a=Ta[s[r].getType()];a(t,s[r],n,i)}},Circle:function(t,e,n,i){var r=n.getFill(),o=n.getStroke();if(r||o){var s=t.getReplay(n.getZIndex(),na.CIRCLE);s.setFillStrokeStyle(r,o),s.drawCircle(e,i)}var a=n.getText();if(a){var u=t.getReplay(n.getZIndex(),na.TEXT);u.setTextStyle(a,t.addDeclutter(!1)),u.drawText(e,i)}}};function Ra(t,e){return parseInt(F(t),10)-parseInt(F(e),10)}function Ia(t,e){var n=Oa(t,e);return n*n}function Oa(t,e){return Sa*t/e}function Aa(t,e,n,i,r,o){var s=!1,a=n.getImage();if(a){var u=a.getImageState();u==Fo.LOADED||u==Fo.ERROR?a.unlistenImageChange(r,o):(u==Fo.IDLE&&a.load(),u=a.getImageState(),a.listenImageChange(r,o),s=!0)}return function(t,e,n,i){var r=n.getGeometryFunction()(e);if(!r)return;var o=r.getSimplifiedGeometry(i);if(n.getRenderer())!function t(e,n,i,r){if(n.getType()==wn.GEOMETRY_COLLECTION){for(var o=n.getGeometries(),s=0,a=o.length;s<a;++s)t(e,o[s],i,r);return}var u=e.getReplay(i.getZIndex(),na.DEFAULT);u.drawCustom(n,r,i.getRenderer())}(t,o,n,e);else{var s=Ta[o.getType()];s(t,o,n,e)}}(t,e,n,i),s}var La=function(t){function e(e){t.call(this,e),this.declutterTree_=e.getDeclutter()?js()(9,void 0):null,this.dirty_=!1,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=[1/0,1/0,-1/0,-1/0],this.renderedRenderOrder_=null,this.replayGroup_=null,this.replayGroupChanged=!0,this.context=ir(),w(Uo,k.CLEAR,this.handleFontsChanged_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){x(Uo,k.CLEAR,this.handleFontsChanged_,this),t.prototype.disposeInternal.call(this)},e.prototype.compose=function(t,e,n){var i=e.extent,r=e.pixelRatio,o=n.managed?e.skippedFeatureUids:{},s=e.viewState,a=s.projection,u=s.rotation,l=a.getExtent(),c=this.getLayer().getSource(),h=this.getTransform(e,0),f=n.extent,p=void 0!==f;p&&this.clip(t,e,f);var d=this.replayGroup_;if(d&&!d.isEmpty()){this.declutterTree_&&this.declutterTree_.clear();var v,g=this.getLayer(),m=0,y=0,_=1!==n.opacity,w=g.hasListener(ce.RENDER);if(_||w){var b=t.canvas.width,x=t.canvas.height;if(u){var E=Math.round(Math.sqrt(b*b+x*x));m=(E-b)/2,y=(E-x)/2,b=x=E}this.context.canvas.width=b,this.context.canvas.height=x,v=this.context}else v=t;var C=v.globalAlpha;_||(v.globalAlpha=n.opacity),v!=t&&v.translate(m,y);var j=e.viewHints,S=!(j[Se]||j[Te]),T=e.size[0]*r,R=e.size[1]*r;if($o(v,-u,T/2,R/2),d.replay(v,h,u,o,S),c.getWrapX()&&a.canWrapX()&&!Ve(l,i)){for(var I,O=i[0],A=vn(l),L=0;O<l[0];)I=A*--L,h=this.getTransform(e,I),d.replay(v,h,u,o,S),O+=A;for(L=0,O=i[2];O>l[2];)I=A*++L,h=this.getTransform(e,I),d.replay(v,h,u,o,S),O-=A}if($o(v,u,T/2,R/2),w&&this.dispatchRenderEvent(v,e,h),v!=t){if(_){var k=t.globalAlpha;t.globalAlpha=n.opacity,t.drawImage(v.canvas,-m,-y),t.globalAlpha=k}else t.drawImage(v.canvas,-m,-y);v.translate(-m,-y)}_||(v.globalAlpha=C)}p&&t.restore()},e.prototype.composeFrame=function(t,e,n){var i=this.getTransform(t,0);this.preCompose(n,t,i),this.compose(n,t,e),this.postCompose(n,t,e,i)},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,r){if(this.replayGroup_){var o=e.viewState.resolution,s=e.viewState.rotation,a=this.getLayer(),u={};return this.replayGroup_.forEachFeatureAtCoordinate(t,o,s,n,{},function(t){var e=F(t);if(!(e in u))return u[e]=!0,i.call(r,t,a)},null)}},e.prototype.handleFontsChanged_=function(t){var e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.prepareFrame=function(t,e){var n=this.getLayer(),i=n.getSource(),r=t.viewHints[Se],o=t.viewHints[Te],s=n.getUpdateWhileAnimating(),a=n.getUpdateWhileInteracting();if(!this.dirty_&&!s&&r||!a&&o)return!0;var u=t.extent,l=t.viewState,c=l.projection,h=l.resolution,f=t.pixelRatio,p=n.getRevision(),d=n.getRenderBuffer(),v=n.getRenderOrder();void 0===v&&(v=Ra);var g=Be(u,d*h),m=l.projection.getExtent();if(i.getWrapX()&&l.projection.canWrapX()&&!Ve(m,t.extent)){var y=vn(m),_=Math.max(vn(g)/2,y);g[0]=m[0]-_,g[2]=m[2]+_}if(!this.dirty_&&this.renderedResolution_==h&&this.renderedRevision_==p&&this.renderedRenderOrder_==v&&Ve(this.renderedExtent_,g))return this.replayGroupChanged=!1,!0;this.replayGroup_=null,this.dirty_=!1;var w=new ja(Oa(h,f),g,h,f,i.getOverlaps(),this.declutterTree_,n.getRenderBuffer());i.loadFeatures(g,h,c);var b=function(t){var e,i=t.getStyleFunction()||n.getStyleFunction();if(i&&(e=i(t,h)),e){var r=this.renderFeature(t,h,f,e,w);this.dirty_=this.dirty_||r}}.bind(this);if(v){var x=[];i.forEachFeatureInExtent(g,function(t){x.push(t)}),x.sort(v);for(var E=0,C=x.length;E<C;++E)b(x[E])}else i.forEachFeatureInExtent(g,b);return w.finish(),this.renderedResolution_=h,this.renderedRevision_=p,this.renderedRenderOrder_=v,this.renderedExtent_=g,this.replayGroup_=w,this.replayGroupChanged=!0,!0},e.prototype.renderFeature=function(t,e,n,i,r){if(!i)return!1;var o=!1;if(Array.isArray(i))for(var s=0,a=i.length;s<a;++s)o=Aa(r,t,i[s],Ia(e,n),this.handleStyleImageChange_,this)||o;else o=Aa(r,t,i,Ia(e,n),this.handleStyleImageChange_,this);return o},e}(Vs);La.handles=function(t){return t.getType()===Ro.VECTOR},La.create=function(t,e){return new La(e)};var ka=La,Ma={IMAGE:"image",HYBRID:"hybrid",VECTOR:"vector"},Pa={image:[na.POLYGON,na.CIRCLE,na.LINE_STRING,na.IMAGE,na.TEXT],hybrid:[na.POLYGON,na.LINE_STRING]},Da={image:[na.DEFAULT],hybrid:[na.IMAGE,na.TEXT,na.DEFAULT],vector:ca},Fa=function(t){function e(e){t.call(this,e,!0),this.declutterTree_=e.getDeclutter()?js()(9,void 0):null,this.dirty_=!1,this.renderedLayerRevision_,this.tmpTransform_=[1,0,0,1,0,0];var n=e.getRenderMode();this.zDirection=n===Ma.VECTOR?1:0,n!==Ma.VECTOR&&(this.context=ir()),w(Uo,k.CLEAR,this.handleFontsChanged_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){x(Uo,k.CLEAR,this.handleFontsChanged_,this),t.prototype.disposeInternal.call(this)},e.prototype.getTile=function(e,n,i,r,o){var s=t.prototype.getTile.call(this,e,n,i,r,o);return s.getState()===he.LOADED&&(this.createReplayGroup_(s,r,o),this.context&&this.renderTileImage_(s,r,o)),s},e.prototype.getTileImage=function(t){var e=this.getLayer();return t.getImage(e)},e.prototype.prepareFrame=function(e,n){var i=this.getLayer().getRevision();return this.renderedLayerRevision_!=i&&(this.renderedTiles.length=0),this.renderedLayerRevision_=i,t.prototype.prepareFrame.call(this,e,n)},e.prototype.createReplayGroup_=function(t,e,n){var i=this,r=this.getLayer(),o=r.getRevision(),s=r.getRenderOrder()||null,a=t.getReplayState(r);if(a.dirty||a.renderedRevision!=o||a.renderedRenderOrder!=s){for(var u=r.getSource(),l=u.getTileGrid(),c=u.getTileGridForProjection(n).getResolution(t.tileCoord[0]),h=t.extent,f=function(o,f){var p=t.getTile(t.tileKeys[o]);if(p.getState()==he.LOADED){var d=p.tileCoord,v=l.getTileCoordExtent(d),g=fn(h,v),m=$e(v,g)?null:Be(g,r.getRenderBuffer()*c,i.tmpExtent),y=p.getProjection(),_=!1;ei(n,y)||(_=!0,p.setProjection(n)),a.dirty=!1;var w=new ja(0,g,c,e,u.getOverlaps(),i.declutterTree_,r.getRenderBuffer()),b=Ia(c,e),x=function(t){var e,n=t.getStyleFunction()||r.getStyleFunction();if(n&&(e=n(t,c)),e){var i=this.renderFeature(t,b,e,w);this.dirty_=this.dirty_||i,a.dirty=a.dirty||i}},E=p.getFeatures();s&&s!==a.renderedRenderOrder&&E.sort(s);for(var C=0,j=E.length;C<j;++C){var S=E[C];_&&(y.getUnits()==Tn.TILE_PIXELS&&(y.setWorldExtent(v),y.setExtent(p.getExtent())),S.getGeometry().transform(y,n)),m&&!gn(m,S.getGeometry().getExtent())||x.call(i,S)}w.finish(),p.setReplayGroup(r,t.tileCoord.toString(),w)}},p=0,d=t.tileKeys.length;p<d;++p)f(p);a.renderedRevision=o,a.renderedRenderOrder=s}},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,r){var o=e.viewState.resolution,s=e.viewState.rotation;n=void 0==n?0:n;var a,u,l,c,h=this.getLayer(),f={},p=this.renderedTiles;for(l=0,c=p.length;l<c;++l){var d=p[l];if(Ye(a=Be(d.extent,n*o,a),t))for(var v=0,g=d.tileKeys.length;v<g;++v){var m=d.getTile(d.tileKeys[v]);if(m.getState()==he.LOADED){var y=m.getReplayGroup(h,d.tileCoord.toString());u=u||y.forEachFeatureAtCoordinate(t,o,s,n,{},function(t){var e=F(t);if(!(e in f))return f[e]=!0,i.call(r,t,h)},null)}}}return u},e.prototype.getReplayTransform_=function(t,e){var n=this.getLayer().getSource().getTileGrid(),i=t.tileCoord,r=n.getResolution(i[0]),o=e.viewState,s=e.pixelRatio,a=o.resolution/s,u=n.getTileCoordExtent(i,this.tmpExtent),l=o.center,c=pn(u),h=e.size,f=Math.round(s*h[0]/2),p=Math.round(s*h[1]/2);return pi(this.tmpTransform_,f,p,r/a,r/a,o.rotation,(c[0]-l[0])/r,(l[1]-c[1])/r)},e.prototype.handleFontsChanged_=function(t){var e=this.getLayer();e.getVisible()&&void 0!==this.renderedLayerRevision_&&e.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.postCompose=function(e,n,i){var r=this.getLayer(),o=r.getRenderMode();if(o!=Ma.IMAGE){var s,a,u=r.getDeclutter()?{}:null,l=r.getSource(),c=Da[o],h=n.pixelRatio,f=n.viewState.rotation,p=n.size;f&&$o(e,-f,s=Math.round(h*p[0]/2),a=Math.round(h*p[1]/2)),u&&this.declutterTree_.clear();for(var d=n.viewHints,v=!(d[Se]||d[Te]),g=this.renderedTiles,m=l.getTileGridForProjection(n.viewState.projection),y=[],_=[],w=g.length-1;w>=0;--w){var b=g[w];if(b.getState()!=he.ABORT)for(var x=b.tileCoord,E=m.getTileCoordExtent(x,this.tmpExtent)[0]-b.extent[0],C=void 0,j=0,S=b.tileKeys.length;j<S;++j){var T=b.getTile(b.tileKeys[j]);if(T.getState()==he.LOADED){var R=T.getReplayGroup(r,x.toString());if(R&&R.hasReplays(c)){C||(C=this.getTransform(n,E));var I=T.tileCoord[0],O=R.getClipCoords(C);e.save(),e.globalAlpha=i.opacity;for(var A=0,L=y.length;A<L;++A){var k=y[A];I<_[A]&&(e.beginPath(),e.moveTo(O[0],O[1]),e.lineTo(O[2],O[3]),e.lineTo(O[4],O[5]),e.lineTo(O[6],O[7]),e.moveTo(k[6],k[7]),e.lineTo(k[4],k[5]),e.lineTo(k[2],k[3]),e.lineTo(k[0],k[1]),e.clip())}R.replay(e,C,f,{},v,c,u),e.restore(),y.push(O),_.push(I)}}}}u&&function(t,e,n,i){for(var r=Object.keys(t).map(Number).sort(Xt),o={},s=0,a=r.length;s<a;++s)for(var u=t[r[s].toString()],l=0,c=u.length;l<c;){var h=u[l++],f=u[l++];h.replay(e,f,n,o,i)}}(u,e,f,v),f&&$o(e,f,s,a)}t.prototype.postCompose.call(this,e,n,i)},e.prototype.renderFeature=function(t,e,n,i){if(!n)return!1;var r=!1;if(Array.isArray(n))for(var o=0,s=n.length;o<s;++o)r=Aa(i,t,n[o],e,this.handleStyleImageChange_,this)||r;else r=Aa(i,t,n,e,this.handleStyleImageChange_,this);return r},e.prototype.renderTileImage_=function(t,e,n){var i=this.getLayer(),r=t.getReplayState(i),o=i.getRevision(),s=Pa[i.getRenderMode()];if(s&&r.renderedTileRevision!==o){r.renderedTileRevision=o;var a=t.wrappedTileCoord,u=a[0],l=i.getSource(),c=l.getTileGridForProjection(n),h=c.getResolution(u),f=t.getContext(i),p=l.getTilePixelSize(u,e,n);f.canvas.width=p[0],f.canvas.height=p[1];for(var d=c.getTileCoordExtent(a,this.tmpExtent),v=0,g=t.tileKeys.length;v<g;++v){var m=t.getTile(t.tileKeys[v]);if(m.getState()==he.LOADED){var y=e/h,_=si(this.tmpTransform_);hi(_,y,-y),fi(_,-d[0],-d[3]),m.getReplayGroup(i,t.tileCoord.toString()).replay(f,_,0,{},!0,s)}}}},e}($s);Fa.handles=function(t){return t.getType()===Ro.VECTOR_TILE},Fa.create=function(t,e){return new Fa(e)};var Na=Fa,Ga=function(t){function e(e){(e=f({},e)).controls||(e.controls=Or()),e.interactions||(e.interactions=Os()),t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createRenderer=function(){var t=new Ys(this);return t.registerLayerRenderers([Zs,$s,ka,Na]),t},e}(pr),Wa={BOTTOM_LEFT:"bottom-left",BOTTOM_CENTER:"bottom-center",BOTTOM_RIGHT:"bottom-right",CENTER_LEFT:"center-left",CENTER_CENTER:"center-center",CENTER_RIGHT:"center-right",TOP_LEFT:"top-left",TOP_CENTER:"top-center",TOP_RIGHT:"top-right"},Ba={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"},za=function(t){function e(e){t.call(this),this.options=e,this.id=e.id,this.insertFirst=void 0===e.insertFirst||e.insertFirst,this.stopEvent=void 0===e.stopEvent||e.stopEvent,this.element=document.createElement("div"),this.element.className=void 0!==e.className?e.className:"ol-overlay-container "+yr,this.element.style.position="absolute",this.autoPan=void 0!==e.autoPan&&e.autoPan,this.autoPanAnimation=e.autoPanAnimation||{},this.autoPanMargin=void 0!==e.autoPanMargin?e.autoPanMargin:20,this.rendered={bottom_:"",left_:"",right_:"",top_:"",visible:!0},this.mapPostrenderListenerKey=null,w(this,Y(Ba.ELEMENT),this.handleElementChanged,this),w(this,Y(Ba.MAP),this.handleMapChanged,this),w(this,Y(Ba.OFFSET),this.handleOffsetChanged,this),w(this,Y(Ba.POSITION),this.handlePositionChanged,this),w(this,Y(Ba.POSITIONING),this.handlePositioningChanged,this),void 0!==e.element&&this.setElement(e.element),this.setOffset(void 0!==e.offset?e.offset:[0,0]),this.setPositioning(void 0!==e.positioning?e.positioning:Wa.TOP_LEFT),void 0!==e.position&&this.setPosition(e.position)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getElement=function(){return this.get(Ba.ELEMENT)},e.prototype.getId=function(){return this.id},e.prototype.getMap=function(){return this.get(Ba.MAP)},e.prototype.getOffset=function(){return this.get(Ba.OFFSET)},e.prototype.getPosition=function(){return this.get(Ba.POSITION)},e.prototype.getPositioning=function(){return this.get(Ba.POSITIONING)},e.prototype.handleElementChanged=function(){sr(this.element);var t=this.getElement();t&&this.element.appendChild(t)},e.prototype.handleMapChanged=function(){this.mapPostrenderListenerKey&&(or(this.element),E(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);var t=this.getMap();if(t){this.mapPostrenderListenerKey=w(t,se,this.render,this),this.updatePixelPosition();var e=this.stopEvent?t.getOverlayContainerStopEvent():t.getOverlayContainer();this.insertFirst?e.insertBefore(this.element,e.childNodes[0]||null):e.appendChild(this.element)}},e.prototype.render=function(){this.updatePixelPosition()},e.prototype.handleOffsetChanged=function(){this.updatePixelPosition()},e.prototype.handlePositionChanged=function(){this.updatePixelPosition(),this.get(Ba.POSITION)&&this.autoPan&&this.panIntoView()},e.prototype.handlePositioningChanged=function(){this.updatePixelPosition()},e.prototype.setElement=function(t){this.set(Ba.ELEMENT,t)},e.prototype.setMap=function(t){this.set(Ba.MAP,t)},e.prototype.setOffset=function(t){this.set(Ba.OFFSET,t)},e.prototype.setPosition=function(t){this.set(Ba.POSITION,t)},e.prototype.panIntoView=function(){var t=this.getMap();if(t&&t.getTargetElement()){var e=this.getRect(t.getTargetElement(),t.getSize()),n=this.getElement(),i=this.getRect(n,[function(t){var e=t.offsetWidth,n=getComputedStyle(t);return e+=parseInt(n.marginLeft,10)+parseInt(n.marginRight,10)}(n),function(t){var e=t.offsetHeight,n=getComputedStyle(t);return e+=parseInt(n.marginTop,10)+parseInt(n.marginBottom,10)}(n)]),r=this.autoPanMargin;if(!Ve(e,i)){var o=i[0]-e[0],s=e[2]-i[2],a=i[1]-e[1],u=e[3]-i[3],l=[0,0];if(o<0?l[0]=o-r:s<0&&(l[0]=Math.abs(s)+r),a<0?l[1]=a-r:u<0&&(l[1]=Math.abs(u)+r),0!==l[0]||0!==l[1]){var c=t.getView().getCenter(),h=t.getPixelFromCoordinate(c),f=[h[0]+l[0],h[1]+l[1]];t.getView().animate({center:t.getCoordinateFromPixel(f),duration:this.autoPanAnimation.duration,easing:this.autoPanAnimation.easing})}}}},e.prototype.getRect=function(t,e){var n=t.getBoundingClientRect(),i=n.left+window.pageXOffset,r=n.top+window.pageYOffset;return[i,r,i+e[0],r+e[1]]},e.prototype.setPositioning=function(t){this.set(Ba.POSITIONING,t)},e.prototype.setVisible=function(t){this.rendered.visible!==t&&(this.element.style.display=t?"":"none",this.rendered.visible=t)},e.prototype.updatePixelPosition=function(){var t=this.getMap(),e=this.getPosition();if(t&&t.isRendered()&&e){var n=t.getPixelFromCoordinate(e),i=t.getSize();this.updateRenderedPosition(n,i)}else this.setVisible(!1)},e.prototype.updateRenderedPosition=function(t,e){var n=this.element.style,i=this.getOffset(),r=this.getPositioning();this.setVisible(!0);var o=i[0],s=i[1];if(r==Wa.BOTTOM_RIGHT||r==Wa.CENTER_RIGHT||r==Wa.TOP_RIGHT){""!==this.rendered.left_&&(this.rendered.left_=n.left="");var a=Math.round(e[0]-t[0]-o)+"px";this.rendered.right_!=a&&(this.rendered.right_=n.right=a)}else{""!==this.rendered.right_&&(this.rendered.right_=n.right=""),r!=Wa.BOTTOM_CENTER&&r!=Wa.CENTER_CENTER&&r!=Wa.TOP_CENTER||(o-=this.element.offsetWidth/2);var u=Math.round(t[0]+o)+"px";this.rendered.left_!=u&&(this.rendered.left_=n.left=u)}if(r==Wa.BOTTOM_LEFT||r==Wa.BOTTOM_CENTER||r==Wa.BOTTOM_RIGHT){""!==this.rendered.top_&&(this.rendered.top_=n.top="");var l=Math.round(e[1]-t[1]-s)+"px";this.rendered.bottom_!=l&&(this.rendered.bottom_=n.bottom=l)}else{""!==this.rendered.bottom_&&(this.rendered.bottom_=n.bottom=""),r!=Wa.CENTER_LEFT&&r!=Wa.CENTER_CENTER&&r!=Wa.CENTER_RIGHT||(s-=this.element.offsetHeight/2);var c=Math.round(t[1]+s)+"px";this.rendered.top_!=c&&(this.rendered.top_=n.top=c)}},e.prototype.getOptions=function(){return this.options},e}(V),Ua={FRACTION:"fraction",PIXELS:"pixels"},Ya=function(t){function e(e,n,i,r,o,s){t.call(this),this.hitDetectionImage_=null,this.image_=e||new Image,null!==r&&(this.image_.crossOrigin=r),this.canvas_=s?document.createElement("canvas"):null,this.color_=s,this.imageListenerKeys_=null,this.imageState_=o,this.size_=i,this.src_=n,this.tainted_}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isTainted_=function(){if(void 0===this.tainted_&&this.imageState_===Fo.LOADED){this.tainted_=!1;var t=ir(1,1);try{t.drawImage(this.image_,0,0),t.getImageData(0,0,1,1)}catch(t){this.tainted_=!0}}return!0===this.tainted_},e.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(k.CHANGE)},e.prototype.handleImageError_=function(){this.imageState_=Fo.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.handleImageLoad_=function(){this.imageState_=Fo.LOADED,this.size_&&(this.image_.width=this.size_[0],this.image_.height=this.size_[1]),this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.replaceColor_(),this.dispatchChangeEvent_()},e.prototype.getImage=function(t){return this.canvas_?this.canvas_:this.image_},e.prototype.getImageState=function(){return this.imageState_},e.prototype.getHitDetectionImage=function(t){if(!this.hitDetectionImage_)if(this.isTainted_()){var e=this.size_[0],n=this.size_[1],i=ir(e,n);i.fillRect(0,0,e,n),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},e.prototype.getSize=function(){return this.size_},e.prototype.getSrc=function(){return this.src_},e.prototype.load=function(){if(this.imageState_==Fo.IDLE){this.imageState_=Fo.LOADING,this.imageListenerKeys_=[b(this.image_,k.ERROR,this.handleImageError_,this),b(this.image_,k.LOAD,this.handleImageLoad_,this)];try{this.image_.src=this.src_}catch(t){this.handleImageError_()}}},e.prototype.replaceColor_=function(){if(this.color_&&!this.isTainted_()){this.canvas_.width=this.image_.width,this.canvas_.height=this.image_.height;var t=this.canvas_.getContext("2d");t.drawImage(this.image_,0,0);for(var e=t.getImageData(0,0,this.image_.width,this.image_.height),n=e.data,i=this.color_[0]/255,r=this.color_[1]/255,o=this.color_[2]/255,s=0,a=n.length;s<a;s+=4)n[s]*=i,n[s+1]*=r,n[s+2]*=o;t.putImageData(e,0,0)}},e.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(E),this.imageListenerKeys_=null},e}(L);var Va={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"},Xa=function(t){function e(e){var n=e||{},i=void 0!==n.opacity?n.opacity:1,r=void 0!==n.rotation?n.rotation:0,o=void 0!==n.scale?n.scale:1,s=void 0!==n.rotateWithView&&n.rotateWithView;t.call(this,{opacity:i,rotation:r,scale:o,rotateWithView:s}),this.anchor_=void 0!==n.anchor?n.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=void 0!==n.anchorOrigin?n.anchorOrigin:Va.TOP_LEFT,this.anchorXUnits_=void 0!==n.anchorXUnits?n.anchorXUnits:Ua.FRACTION,this.anchorYUnits_=void 0!==n.anchorYUnits?n.anchorYUnits:Ua.FRACTION,this.crossOrigin_=void 0!==n.crossOrigin?n.crossOrigin:null;var a=void 0!==n.img?n.img:null,u=void 0!==n.imgSize?n.imgSize:null,l=n.src;fe(!(void 0!==l&&a),4),fe(!a||a&&u,5),void 0!==l&&0!==l.length||!a||(l=a.src||F(a)),fe(void 0!==l&&l.length>0,6);var c,h=void 0!==n.src?Fo.IDLE:Fo.LOADED;this.color_=void 0!==n.color?(c=n.color,Array.isArray(c)?c:ko(c)):null,this.iconImage_=function(t,e,n,i,r,o){var s=Ws.get(e,i,o);return s||(s=new Ya(t,e,n,i,r,o),Ws.set(e,i,o,s)),s}(a,l,u,this.crossOrigin_,h,this.color_),this.offset_=void 0!==n.offset?n.offset:[0,0],this.offsetOrigin_=void 0!==n.offsetOrigin?n.offsetOrigin:Va.TOP_LEFT,this.origin_=null,this.size_=void 0!==n.size?n.size:null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,src:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:null!==this.size_?this.size_.slice():void 0,opacity:this.getOpacity(),scale:this.getScale(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},e.prototype.getAnchor=function(){if(this.normalizedAnchor_)return this.normalizedAnchor_;var t=this.anchor_,e=this.getSize();if(this.anchorXUnits_==Ua.FRACTION||this.anchorYUnits_==Ua.FRACTION){if(!e)return null;t=this.anchor_.slice(),this.anchorXUnits_==Ua.FRACTION&&(t[0]*=e[0]),this.anchorYUnits_==Ua.FRACTION&&(t[1]*=e[1])}if(this.anchorOrigin_!=Va.TOP_LEFT){if(!e)return null;t===this.anchor_&&(t=this.anchor_.slice()),this.anchorOrigin_!=Va.TOP_RIGHT&&this.anchorOrigin_!=Va.BOTTOM_RIGHT||(t[0]=-t[0]+e[0]),this.anchorOrigin_!=Va.BOTTOM_LEFT&&this.anchorOrigin_!=Va.BOTTOM_RIGHT||(t[1]=-t[1]+e[1])}return this.normalizedAnchor_=t,this.normalizedAnchor_},e.prototype.setAnchor=function(t){this.anchor_=t,this.normalizedAnchor_=null},e.prototype.getColor=function(){return this.color_},e.prototype.getImage=function(t){return this.iconImage_.getImage(t)},e.prototype.getImageSize=function(){return this.iconImage_.getSize()},e.prototype.getHitDetectionImageSize=function(){return this.getImageSize()},e.prototype.getImageState=function(){return this.iconImage_.getImageState()},e.prototype.getHitDetectionImage=function(t){return this.iconImage_.getHitDetectionImage(t)},e.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var t=this.offset_;if(this.offsetOrigin_!=Va.TOP_LEFT){var e=this.getSize(),n=this.iconImage_.getSize();if(!e||!n)return null;t=t.slice(),this.offsetOrigin_!=Va.TOP_RIGHT&&this.offsetOrigin_!=Va.BOTTOM_RIGHT||(t[0]=n[0]-e[0]-t[0]),this.offsetOrigin_!=Va.BOTTOM_LEFT&&this.offsetOrigin_!=Va.BOTTOM_RIGHT||(t[1]=n[1]-e[1]-t[1])}return this.origin_=t,this.origin_},e.prototype.getSrc=function(){return this.iconImage_.getSrc()},e.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},e.prototype.listenImageChange=function(t,e){return w(this.iconImage_,k.CHANGE,t,e)},e.prototype.load=function(){this.iconImage_.load()},e.prototype.unlistenImageChange=function(t,e){x(this.iconImage_,k.CHANGE,t,e)},e}(is);var Ha=function(t){function e(e){var n=e||{};t.call(this,n),this.type=Ro.IMAGE}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Cr);Ha.prototype.getSource;var Za=Ha,Ka="preload",qa="useInterimTilesOnError",Ja=function(t){function e(e){var n=e||{},i=f({},n);delete i.preload,delete i.useInterimTilesOnError,t.call(this,i),this.setPreload(void 0!==n.preload?n.preload:0),this.setUseInterimTilesOnError(void 0===n.useInterimTilesOnError||n.useInterimTilesOnError),this.type=Ro.TILE}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getPreload=function(){return this.get(Ka)},e.prototype.setPreload=function(t){this.set(Ka,t)},e.prototype.getUseInterimTilesOnError=function(){return this.get(qa)},e.prototype.setUseInterimTilesOnError=function(t){this.set(qa,t)},e}(Cr);Ja.prototype.getSource;var Qa=Ja,$a=function(t){function e(e){var n=e||{},i=n.renderMode||Ma.HYBRID;fe(void 0==i||i==Ma.IMAGE||i==Ma.HYBRID||i==Ma.VECTOR,28),n.declutter&&i==Ma.IMAGE&&(i=Ma.HYBRID),n.renderMode=i;var r=f({},n);delete r.preload,delete r.useInterimTilesOnError,t.call(this,r),this.setPreload(n.preload?n.preload:0),this.setUseInterimTilesOnError(void 0===n.useInterimTilesOnError||n.useInterimTilesOnError),this.type=Ro.VECTOR_TILE}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getPreload=function(){return this.get(Ka)},e.prototype.getUseInterimTilesOnError=function(){return this.get(qa)},e.prototype.setPreload=function(t){this.set(Ka,t)},e.prototype.setUseInterimTilesOnError=function(t){this.set(qa,t)},e}(ms);$a.prototype.getSource;var tu=function(t){function e(e,n,i,r,o,s){t.call(this,e,n,i,Fo.IDLE),this.src_=r,this.image_=new Image,null!==o&&(this.image_.crossOrigin=o),this.imageListenerKeys_=null,this.state=Fo.IDLE,this.imageLoadFunction_=s}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getImage=function(){return this.image_},e.prototype.handleImageError_=function(){this.state=Fo.ERROR,this.unlistenImage_(),this.changed()},e.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=hn(this.extent)/this.image_.height),this.state=Fo.LOADED,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state!=Fo.IDLE&&this.state!=Fo.ERROR||(this.state=Fo.LOADING,this.changed(),this.imageListenerKeys_=[b(this.image_,k.ERROR,this.handleImageError_,this),b(this.image_,k.LOAD,this.handleImageLoad_,this)],this.imageLoadFunction_(this,this.src_))},e.prototype.setImage=function(t){this.image_=t},e.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(E),this.imageListenerKeys_=null},e}(Ls);function eu(t,e,n,i){var r=ri(n,e,t),o=Qn(e,i,n),s=e.getMetersPerUnit();void 0!==s&&(o*=s);var a=t.getMetersPerUnit();void 0!==a&&(o/=a);var u=t.getExtent();if(!u||Ye(u,r)){var l=Qn(t,o,r)/o;isFinite(l)&&l>0&&(o/=l)}return o}function nu(t,e,n,i){var r=n-t,o=i-e,s=Math.sqrt(r*r+o*o);return[Math.round(n+r/s),Math.round(i+o/s)]}function iu(t,e,n,i,r,o,s,a,u,l,c){var h=ir(Math.round(n*t),Math.round(n*e));if(0===u.length)return h.canvas;h.scale(n,n);var f=[1/0,1/0,-1/0,-1/0];u.forEach(function(t,e,n){tn(f,t.extent)});var p=vn(f),d=hn(f),v=ir(Math.round(n*p/i),Math.round(n*d/i)),g=n/i;u.forEach(function(t,e,n){var i=t.extent[0]-f[0],r=-(t.extent[3]-f[3]),o=vn(t.extent),s=hn(t.extent);v.drawImage(t.image,l,l,t.image.width-2*l,t.image.height-2*l,i*g,r*g,o*g,s*g)});var m=pn(s);return a.getTriangles().forEach(function(t,e,r){var s=t.source,a=t.target,u=s[0][0],l=s[0][1],c=s[1][0],p=s[1][1],d=s[2][0],g=s[2][1],y=(a[0][0]-m[0])/o,_=-(a[0][1]-m[1])/o,w=(a[1][0]-m[0])/o,b=-(a[1][1]-m[1])/o,x=(a[2][0]-m[0])/o,E=-(a[2][1]-m[1])/o,C=u,j=l;u=0,l=0;var S=function(t){for(var e=t.length,n=0;n<e;n++){for(var i=n,r=Math.abs(t[n][n]),o=n+1;o<e;o++){var s=Math.abs(t[o][n]);s>r&&(r=s,i=o)}if(0===r)return null;var a=t[i];t[i]=t[n],t[n]=a;for(var u=n+1;u<e;u++)for(var l=-t[u][n]/t[n][n],c=n;c<e+1;c++)n==c?t[u][c]=0:t[u][c]+=l*t[n][c]}for(var h=new Array(e),f=e-1;f>=0;f--){h[f]=t[f][e]/t[f][f];for(var p=f-1;p>=0;p--)t[p][e]-=t[p][f]*h[f]}return h}([[c-=C,p-=j,0,0,w-y],[d-=C,g-=j,0,0,x-y],[0,0,c,p,b-_],[0,0,d,g,E-_]]);if(S){h.save(),h.beginPath();var T=(y+w+x)/3,R=(_+b+E)/3,I=nu(T,R,y,_),O=nu(T,R,w,b),A=nu(T,R,x,E);h.moveTo(O[0],O[1]),h.lineTo(I[0],I[1]),h.lineTo(A[0],A[1]),h.clip(),h.transform(S[0],S[2],S[1],S[3],y,_),h.translate(f[0]-C,f[3]-j),h.scale(i/n,-i/n),h.drawImage(v.canvas,0,0),h.restore()}}),c&&(h.save(),h.strokeStyle="black",h.lineWidth=1,a.getTriangles().forEach(function(t,e,n){var i=t.target,r=(i[0][0]-m[0])/o,s=-(i[0][1]-m[1])/o,a=(i[1][0]-m[0])/o,u=-(i[1][1]-m[1])/o,l=(i[2][0]-m[0])/o,c=-(i[2][1]-m[1])/o;h.beginPath(),h.moveTo(a,u),h.lineTo(r,s),h.lineTo(l,c),h.closePath(),h.stroke()}),h.restore()),h.canvas}var ru=function(t,e,n,i,r){this.sourceProj_=t,this.targetProj_=e;var o={},s=ii(this.targetProj_,this.sourceProj_);this.transformInv_=function(t){var e=t[0]+"/"+t[1];return o[e]||(o[e]=s(t)),o[e]},this.maxSourceExtent_=i,this.errorThresholdSquared_=r*r,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!i&&!!this.sourceProj_.getExtent()&&vn(i)==vn(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?vn(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?vn(this.targetProj_.getExtent()):null;var a=pn(n),u=dn(n),l=un(n),c=an(n),h=this.transformInv_(a),f=this.transformInv_(u),p=this.transformInv_(l),d=this.transformInv_(c);if(this.addQuad_(a,u,l,c,h,f,p,d,10),this.wrapsXInSource_){var v=1/0;this.triangles_.forEach(function(t,e,n){v=Math.min(v,t.source[0][0],t.source[1][0],t.source[2][0])}),this.triangles_.forEach(function(t){if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-v>this.sourceWorldWidth_/2){var e=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];e[0][0]-v>this.sourceWorldWidth_/2&&(e[0][0]-=this.sourceWorldWidth_),e[1][0]-v>this.sourceWorldWidth_/2&&(e[1][0]-=this.sourceWorldWidth_),e[2][0]-v>this.sourceWorldWidth_/2&&(e[2][0]-=this.sourceWorldWidth_);var n=Math.min(e[0][0],e[1][0],e[2][0]);Math.max(e[0][0],e[1][0],e[2][0])-n<this.sourceWorldWidth_/2&&(t.source=e)}}.bind(this))}o={}};ru.prototype.addTriangle_=function(t,e,n,i,r,o){this.triangles_.push({source:[i,r,o],target:[t,e,n]})},ru.prototype.addQuad_=function(t,e,n,i,r,o,s,a,u){var l=We([r,o,s,a]),c=this.sourceWorldWidth_?vn(l)/this.sourceWorldWidth_:null,h=this.sourceWorldWidth_,f=this.sourceProj_.canWrapX()&&c>.5&&c<1,p=!1;if(u>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_)p=vn(We([t,e,n,i]))/this.targetWorldWidth_>.25||p;!f&&this.sourceProj_.isGlobal()&&c&&(p=c>.25||p)}if(p||!this.maxSourceExtent_||gn(l,this.maxSourceExtent_)){if(!(p||isFinite(r[0])&&isFinite(r[1])&&isFinite(o[0])&&isFinite(o[1])&&isFinite(s[0])&&isFinite(s[1])&&isFinite(a[0])&&isFinite(a[1]))){if(!(u>0))return;p=!0}if(u>0){if(!p){var d,v=[(t[0]+n[0])/2,(t[1]+n[1])/2],g=this.transformInv_(v);if(f)d=(be(r[0],h)+be(s[0],h))/2-be(g[0],h);else d=(r[0]+s[0])/2-g[0];var m=(r[1]+s[1])/2-g[1];p=d*d+m*m>this.errorThresholdSquared_}if(p){if(Math.abs(t[0]-n[0])<=Math.abs(t[1]-n[1])){var y=[(e[0]+n[0])/2,(e[1]+n[1])/2],_=this.transformInv_(y),w=[(i[0]+t[0])/2,(i[1]+t[1])/2],b=this.transformInv_(w);this.addQuad_(t,e,y,w,r,o,_,b,u-1),this.addQuad_(w,y,n,i,b,_,s,a,u-1)}else{var x=[(t[0]+e[0])/2,(t[1]+e[1])/2],E=this.transformInv_(x),C=[(n[0]+i[0])/2,(n[1]+i[1])/2],j=this.transformInv_(C);this.addQuad_(t,x,C,i,r,E,j,a,u-1),this.addQuad_(x,e,n,C,E,o,s,j,u-1)}return}}if(f){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}this.addTriangle_(t,n,i,r,s,a),this.addTriangle_(t,e,n,r,o,s)}},ru.prototype.calculateSourceExtent=function(){var t=[1/0,1/0,-1/0,-1/0];return this.triangles_.forEach(function(e,n,i){var r=e.source;en(t,r[0]),en(t,r[1]),en(t,r[2])}),t},ru.prototype.getTriangles=function(){return this.triangles_};var ou=ru,su=function(t){function e(e,n,i,r,o,s){var a=e.getExtent(),u=n.getExtent(),l=u?fn(i,u):i,c=eu(e,n,ln(l),r),h=new ou(e,n,l,a,c*As),f=s(h.calculateSourceExtent(),c,o),p=Fo.LOADED;f&&(p=Fo.IDLE);var d=f?f.getPixelRatio():1;t.call(this,i,r,d,p),this.targetProj_=n,this.maxSourceExtent_=a,this.triangulation_=h,this.targetResolution_=r,this.targetExtent_=i,this.sourceImage_=f,this.sourcePixelRatio_=d,this.canvas_=null,this.sourceListenerKey_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.state==Fo.LOADING&&this.unlistenSource_(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.canvas_},e.prototype.getProjection=function(){return this.targetProj_},e.prototype.reproject_=function(){var t=this.sourceImage_.getState();if(t==Fo.LOADED){var e=vn(this.targetExtent_)/this.targetResolution_,n=hn(this.targetExtent_)/this.targetResolution_;this.canvas_=iu(e,n,this.sourcePixelRatio_,this.sourceImage_.getResolution(),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0)}this.state=t,this.changed()},e.prototype.load=function(){if(this.state==Fo.IDLE){this.state=Fo.LOADING,this.changed();var t=this.sourceImage_.getState();t==Fo.LOADED||t==Fo.ERROR?this.reproject_():(this.sourceListenerKey_=w(this.sourceImage_,k.CHANGE,function(t){var e=this.sourceImage_.getState();e!=Fo.LOADED&&e!=Fo.ERROR||(this.unlistenSource_(),this.reproject_())},this),this.sourceImage_.load())}},e.prototype.unlistenSource_=function(){E(this.sourceListenerKey_),this.sourceListenerKey_=null},e}(Ls),au="imageloadstart",uu="imageloadend",lu="imageloaderror",cu=function(t){function e(e,n){t.call(this,e),this.image=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(A);function hu(t,e){t.getImage().src=e}var fu="carmentaserver",pu="geoserver",du="mapserver",vu="qgis";var gu=[101,101],mu=function(t){function e(e){var n=e||{};t.call(this,{attributions:n.attributions,projection:n.projection,resolutions:n.resolutions}),this.crossOrigin_=void 0!==n.crossOrigin?n.crossOrigin:null,this.url_=n.url,this.imageLoadFunction_=void 0!==n.imageLoadFunction?n.imageLoadFunction:hu,this.params_=n.params||{},this.v13_=!0,this.updateV13_(),this.serverType_=n.serverType,this.hidpi_=void 0===n.hidpi||n.hidpi,this.image_=null,this.imageSize_=[0,0],this.renderedRevision_=0,this.ratio_=void 0!==n.ratio?n.ratio:1.5}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getGetFeatureInfoUrl=function(t,e,n,i){if(void 0!==this.url_){var r=Jn(n),o=this.getProjection();o&&o!==r&&(e=eu(o,r,t,e),t=ri(t,r,o));var s=cn(t,e,0,gu),a={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};f(a,this.params_,i);var u=Math.floor((t[0]-s[0])/e),l=Math.floor((s[3]-t[1])/e);return a[this.v13_?"I":"X"]=u,a[this.v13_?"J":"Y"]=l,this.getRequestUrl_(s,gu,1,o||r,a)}},e.prototype.getParams=function(){return this.params_},e.prototype.getImageInternal=function(t,e,n,i){if(void 0===this.url_)return null;e=this.findNearestResolution(e),1==n||this.hidpi_&&void 0!==this.serverType_||(n=1);var r=e/n,o=ln(t),s=cn(o,r,0,[Math.ceil(vn(t)/r),Math.ceil(hn(t)/r)]),a=cn(o,r,0,[Math.ceil(this.ratio_*vn(t)/r),Math.ceil(this.ratio_*hn(t)/r)]),u=this.image_;if(u&&this.renderedRevision_==this.getRevision()&&u.getResolution()==e&&u.getPixelRatio()==n&&Ve(u.getExtent(),s))return u;var l={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};f(l,this.params_),this.imageSize_[0]=Math.round(vn(a)/r),this.imageSize_[1]=Math.round(hn(a)/r);var c=this.getRequestUrl_(a,this.imageSize_,n,i,l);return this.image_=new tu(a,e,n,c,this.crossOrigin_,this.imageLoadFunction_),this.renderedRevision_=this.getRevision(),w(this.image_,k.CHANGE,this.handleImageChange,this),this.image_},e.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_},e.prototype.getRequestUrl_=function(t,e,n,i,r){if(fe(void 0!==this.url_,9),r[this.v13_?"CRS":"SRS"]=i.getCode(),"STYLES"in this.params_||(r.STYLES=""),1!=n)switch(this.serverType_){case pu:var o=90*n+.5|0;"FORMAT_OPTIONS"in r?r.FORMAT_OPTIONS+=";dpi:"+o:r.FORMAT_OPTIONS="dpi:"+o;break;case du:r.MAP_RESOLUTION=90*n;break;case fu:case vu:r.DPI=90*n;break;default:fe(!1,8)}r.WIDTH=e[0],r.HEIGHT=e[1];var s,a=i.getAxisOrientation();return s=this.v13_&&"ne"==a.substr(0,2)?[t[1],t[0],t[3],t[2]]:t,r.BBOX=s.join(","),function(t,e){var n=[];Object.keys(e).forEach(function(t){null!==e[t]&&void 0!==e[t]&&n.push(t+"="+encodeURIComponent(e[t]))});var i=n.join("&");return(t=-1===(t=t.replace(/[?&]$/,"")).indexOf("?")?t+"?":t+"&")+i}(this.url_,r)},e.prototype.getUrl=function(){return this.url_},e.prototype.setImageLoadFunction=function(t){this.image_=null,this.imageLoadFunction_=t,this.changed()},e.prototype.setUrl=function(t){t!=this.url_&&(this.url_=t,this.image_=null,this.changed())},e.prototype.updateParams=function(t){f(this.params_,t),this.updateV13_(),this.image_=null,this.changed()},e.prototype.updateV13_=function(){var t=this.params_.VERSION||"1.3.0";this.v13_=function(t,e){for(var n=(""+t).split("."),i=(""+e).split("."),r=0;r<Math.max(n.length,i.length);r++){var o=parseInt(n[r]||"0",10),s=parseInt(i[r]||"0",10);if(o>s)return 1;if(s>o)return-1}return 0}(t,"1.3")>=0},e}(function(t){function e(e){t.call(this,{attributions:e.attributions,projection:e.projection,state:e.state}),this.resolutions_=void 0!==e.resolutions?e.resolutions:null,this.reprojectedImage_=null,this.reprojectedRevision_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.findNearestResolution=function(t){if(this.resolutions_){var e=Zt(this.resolutions_,t,0);t=this.resolutions_[e]}return t},e.prototype.getImage=function(t,e,n,i){var r=this.getProjection();if(r&&i&&!ei(r,i)){if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&ei(this.reprojectedImage_.getProjection(),i)&&this.reprojectedImage_.getResolution()==e&&$e(this.reprojectedImage_.getExtent(),t))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new su(r,i,t,e,n,function(t,e,n){return this.getImageInternal(t,e,n,r)}.bind(this)),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_}return r&&(i=r),this.getImageInternal(t,e,n,i)},e.prototype.getImageInternal=function(t,e,n,i){return P()},e.prototype.handleImageChange=function(t){var e=t.target;switch(e.getState()){case Fo.LOADING:this.loading=!0,this.dispatchEvent(new cu(au,e));break;case Fo.LOADED:this.loading=!1,this.dispatchEvent(new cu(uu,e));break;case Fo.ERROR:this.loading=!1,this.dispatchEvent(new cu(lu,e))}},e}(xs)),yu=function(t,e){this.space_=e,this.emptyBlocks_=[{x:0,y:0,width:t,height:t}],this.entries_={},this.context_=ir(t,t),this.canvas_=this.context_.canvas};yu.prototype.get=function(t){return this.entries_[t]||null},yu.prototype.add=function(t,e,n,i,r){for(var o=0,s=this.emptyBlocks_.length;o<s;++o){var a=this.emptyBlocks_[o];if(a.width>=e+this.space_&&a.height>=n+this.space_){var u={offsetX:a.x+this.space_,offsetY:a.y+this.space_,image:this.canvas_};return this.entries_[t]=u,i.call(r,this.context_,a.x+this.space_,a.y+this.space_),this.split_(o,a,e+this.space_,n+this.space_),u}}return null},yu.prototype.split_=function(t,e,n,i){var r,o;e.width-n>e.height-i?(r={x:e.x+n,y:e.y,width:e.width-n,height:e.height},o={x:e.x,y:e.y+i,width:n,height:e.height-i},this.updateBlocks_(t,r,o)):(r={x:e.x+n,y:e.y,width:e.width-n,height:i},o={x:e.x,y:e.y+i,width:e.width,height:e.height-i},this.updateBlocks_(t,r,o))},yu.prototype.updateBlocks_=function(t,e,n){var i=[t,1];e.width>0&&e.height>0&&i.push(e),n.width>0&&n.height>0&&i.push(n),this.emptyBlocks_.splice.apply(this.emptyBlocks_,i)};var _u=yu,wu=function(t){var e=t||{};this.currentSize_=void 0!==e.initialSize?e.initialSize:256,this.maxSize_=void 0!==e.maxSize?e.maxSize:void 0!==Q?Q:2048,this.space_=void 0!==e.space?e.space:1,this.atlases_=[new _u(this.currentSize_,this.space_)],this.currentHitSize_=this.currentSize_,this.hitAtlases_=[new _u(this.currentHitSize_,this.space_)]};wu.prototype.getInfo=function(t){var e=this.getInfo_(this.atlases_,t);if(!e)return null;var n=this.getInfo_(this.hitAtlases_,t);return this.mergeInfos_(e,n)},wu.prototype.getInfo_=function(t,e){for(var n=0,i=t.length;n<i;++n){var r=t[n].get(e);if(r)return r}return null},wu.prototype.mergeInfos_=function(t,e){return{offsetX:t.offsetX,offsetY:t.offsetY,image:t.image,hitImage:e.image}},wu.prototype.add=function(t,e,n,i,r,o){if(e+this.space_>this.maxSize_||n+this.space_>this.maxSize_)return null;var s=this.add_(!1,t,e,n,i,o);if(!s)return null;var a=void 0!==r?r:R,u=this.add_(!0,t,e,n,a,o);return this.mergeInfos_(s,u)},wu.prototype.add_=function(t,e,n,i,r,o){var s,a,u,l,c=t?this.hitAtlases_:this.atlases_;for(u=0,l=c.length;u<l;++u){if(a=(s=c[u]).add(e,n,i,r,o))return a;if(!a&&u===l-1){var h=void 0;t?(h=Math.min(2*this.currentHitSize_,this.maxSize_),this.currentHitSize_=h):(h=Math.min(2*this.currentSize_,this.maxSize_),this.currentSize_=h),s=new _u(h,this.space_),c.push(s),++l}}return null};var bu=function(t){var e=t||{};this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.scale_=e.scale,this.text_=e.text,this.textAlign_=e.textAlign,this.textBaseline_=e.textBaseline,this.fill_=void 0!==e.fill?e.fill:new as({color:"#333"}),this.maxAngle_=void 0!==e.maxAngle?e.maxAngle:Math.PI/4,this.placement_=void 0!==e.placement?e.placement:_a,this.overflow_=!!e.overflow,this.stroke_=void 0!==e.stroke?e.stroke:null,this.offsetX_=void 0!==e.offsetX?e.offsetX:0,this.offsetY_=void 0!==e.offsetY?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=void 0===e.padding?null:e.padding};bu.prototype.clone=function(){return new bu({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:this.getScale(),text:this.getText(),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0})},bu.prototype.getOverflow=function(){return this.overflow_},bu.prototype.getFont=function(){return this.font_},bu.prototype.getMaxAngle=function(){return this.maxAngle_},bu.prototype.getPlacement=function(){return this.placement_},bu.prototype.getOffsetX=function(){return this.offsetX_},bu.prototype.getOffsetY=function(){return this.offsetY_},bu.prototype.getFill=function(){return this.fill_},bu.prototype.getRotateWithView=function(){return this.rotateWithView_},bu.prototype.getRotation=function(){return this.rotation_},bu.prototype.getScale=function(){return this.scale_},bu.prototype.getStroke=function(){return this.stroke_},bu.prototype.getText=function(){return this.text_},bu.prototype.getTextAlign=function(){return this.textAlign_},bu.prototype.getTextBaseline=function(){return this.textBaseline_},bu.prototype.getBackgroundFill=function(){return this.backgroundFill_},bu.prototype.getBackgroundStroke=function(){return this.backgroundStroke_},bu.prototype.getPadding=function(){return this.padding_},bu.prototype.setOverflow=function(t){this.overflow_=t},bu.prototype.setFont=function(t){this.font_=t},bu.prototype.setMaxAngle=function(t){this.maxAngle_=t},bu.prototype.setOffsetX=function(t){this.offsetX_=t},bu.prototype.setOffsetY=function(t){this.offsetY_=t},bu.prototype.setPlacement=function(t){this.placement_=t},bu.prototype.setFill=function(t){this.fill_=t},bu.prototype.setRotation=function(t){this.rotation_=t},bu.prototype.setScale=function(t){this.scale_=t},bu.prototype.setStroke=function(t){this.stroke_=t},bu.prototype.setText=function(t){this.text_=t},bu.prototype.setTextAlign=function(t){this.textAlign_=t},bu.prototype.setTextBaseline=function(t){this.textBaseline_=t},bu.prototype.setBackgroundFill=function(t){this.backgroundFill_=t},bu.prototype.setBackgroundStroke=function(t){this.backgroundStroke_=t},bu.prototype.setPadding=function(t){this.padding_=t};var xu=bu;function Eu(t,e,n,i){return void 0!==i?(i[0]=t,i[1]=e,i[2]=n,i):[t,e,n]}var Cu=[0,0,0],ju=function(t){var e,n,i,r;if(this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.resolutions_=t.resolutions,fe((e=this.resolutions_,n=!0,i=function(t,e){return e-t}||Xt,e.every(function(t,r){if(0===r)return!0;var o=i(e[r-1],t);return!(o>0||n&&0===o)})),17),!t.origins)for(var o=0,s=this.resolutions_.length-1;o<s;++o)if(r){if(this.resolutions_[o]/this.resolutions_[o+1]!==r){r=void 0;break}}else r=this.resolutions_[o]/this.resolutions_[o+1];this.zoomFactor_=r,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==t.origin?t.origin:null,this.origins_=null,void 0!==t.origins&&(this.origins_=t.origins,fe(this.origins_.length==this.resolutions_.length,20));var a=t.extent;void 0===a||this.origin_||this.origins_||(this.origin_=pn(a)),fe(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==t.tileSizes&&(this.tileSizes_=t.tileSizes,fe(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==t.tileSize?t.tileSize:this.tileSizes_?null:ve,fe(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==a?a:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],void 0!==t.sizes?this.fullTileRanges_=t.sizes.map(function(t,e){return new Js(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1))},this):a&&this.calculateTileRanges_(a)};ju.prototype.forEachTileCoord=function(t,e,n){for(var i=this.getTileRangeForExtentAndZ(t,e),r=i.minX,o=i.maxX;r<=o;++r)for(var s=i.minY,a=i.maxY;s<=a;++s)n([e,r,s])},ju.prototype.forEachTileCoordParentTileRange=function(t,e,n,i,r){var o,s,a,u=null,l=t[0]-1;for(2===this.zoomFactor_?(s=t[1],a=t[2]):u=this.getTileCoordExtent(t,r);l>=this.minZoom;){if(o=2===this.zoomFactor_?qs(s=Math.floor(s/2),s,a=Math.floor(a/2),a,i):this.getTileRangeForExtentAndZ(u,l,i),e.call(n,l,o))return!0;--l}return!1},ju.prototype.getExtent=function(){return this.extent_},ju.prototype.getMaxZoom=function(){return this.maxZoom},ju.prototype.getMinZoom=function(){return this.minZoom},ju.prototype.getOrigin=function(t){return this.origin_?this.origin_:this.origins_[t]},ju.prototype.getResolution=function(t){return this.resolutions_[t]},ju.prototype.getResolutions=function(){return this.resolutions_},ju.prototype.getTileCoordChildTileRange=function(t,e,n){if(t[0]<this.maxZoom){if(2===this.zoomFactor_){var i=2*t[1],r=2*t[2];return qs(i,i+1,r,r+1,e)}var o=this.getTileCoordExtent(t,n);return this.getTileRangeForExtentAndZ(o,t[0]+1,e)}return null},ju.prototype.getTileRangeExtent=function(t,e,n){var i=this.getOrigin(t),r=this.getResolution(t),o=fr(this.getTileSize(t),this.tmpSize_),s=i[0]+e.minX*o[0]*r,a=i[0]+(e.maxX+1)*o[0]*r;return Ke(s,i[1]+e.minY*o[1]*r,a,i[1]+(e.maxY+1)*o[1]*r,n)},ju.prototype.getTileRangeForExtentAndZ=function(t,e,n){var i=Cu;this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,i);var r=i[1],o=i[2];return this.getTileCoordForXYAndZ_(t[2],t[3],e,!0,i),qs(r,i[1],o,i[2],n)},ju.prototype.getTileCoordCenter=function(t){var e=this.getOrigin(t[0]),n=this.getResolution(t[0]),i=fr(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*i[0]*n,e[1]+(t[2]+.5)*i[1]*n]},ju.prototype.getTileCoordExtent=function(t,e){var n=this.getOrigin(t[0]),i=this.getResolution(t[0]),r=fr(this.getTileSize(t[0]),this.tmpSize_),o=n[0]+t[1]*r[0]*i,s=n[1]+t[2]*r[1]*i;return Ke(o,s,o+r[0]*i,s+r[1]*i,e)},ju.prototype.getTileCoordForCoordAndResolution=function(t,e,n){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,n)},ju.prototype.getTileCoordForXYAndResolution_=function(t,e,n,i,r){var o=this.getZForResolution(n),s=n/this.getResolution(o),a=this.getOrigin(o),u=fr(this.getTileSize(o),this.tmpSize_),l=i?.5:0,c=i?0:.5,h=Math.floor((t-a[0])/n+l),f=Math.floor((e-a[1])/n+c),p=s*h/u[0],d=s*f/u[1];return i?(p=Math.ceil(p)-1,d=Math.ceil(d)-1):(p=Math.floor(p),d=Math.floor(d)),Eu(o,p,d,r)},ju.prototype.getTileCoordForXYAndZ_=function(t,e,n,i,r){var o=this.getOrigin(n),s=this.getResolution(n),a=fr(this.getTileSize(n),this.tmpSize_),u=i?.5:0,l=i?0:.5,c=Math.floor((t-o[0])/s+u),h=Math.floor((e-o[1])/s+l),f=c/a[0],p=h/a[1];return i?(f=Math.ceil(f)-1,p=Math.ceil(p)-1):(f=Math.floor(f),p=Math.floor(p)),Eu(n,f,p,r)},ju.prototype.getTileCoordForCoordAndZ=function(t,e,n){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,n)},ju.prototype.getTileCoordResolution=function(t){return this.resolutions_[t[0]]},ju.prototype.getTileSize=function(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]},ju.prototype.getFullTileRange=function(t){return this.fullTileRanges_?this.fullTileRanges_[t]:null},ju.prototype.getZForResolution=function(t,e){return ge(Zt(this.resolutions_,t,e||0),this.minZoom,this.maxZoom)},ju.prototype.calculateTileRanges_=function(t){for(var e=this.resolutions_.length,n=new Array(e),i=this.minZoom;i<e;++i)n[i]=this.getTileRangeForExtentAndZ(t,i);this.fullTileRanges_=n};var Su=function(){this.dataProjection=null,this.defaultFeatureProjection=null};function Tu(t,e,n){var i,r=n?Jn(n.featureProjection):null,o=n?Jn(n.dataProjection):null;if(i=r&&o&&!ei(r,o)?Array.isArray(t)?_n(t,ii(o,r)):(e?t.clone():t).transform(e?r:o,e?o:r):t,e&&n&&void 0!==n.decimals&&!Array.isArray(i)){var s=Math.pow(10,n.decimals);i===t&&(i=t.clone()),i.applyTransform(function(t){for(var e=0,n=t.length;e<n;++e)t[e]=Math.round(t[e]*s)/s;return t})}return i}function Ru(t){return"string"==typeof t?t:""}Su.prototype.getReadOptions=function(t,e){var n;return e&&(n={dataProjection:e.dataProjection?e.dataProjection:this.readProjection(t),featureProjection:e.featureProjection}),this.adaptOptions(n)},Su.prototype.adaptOptions=function(t){return f({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},t)},Su.prototype.getLastExtent=function(){return null},Su.prototype.getType=function(){return P()},Su.prototype.readFeature=function(t,e){return P()},Su.prototype.readFeatures=function(t,e){return P()},Su.prototype.readGeometry=function(t,e){return P()},Su.prototype.readProjection=function(t){return P()},Su.prototype.writeFeature=function(t,e){return P()},Su.prototype.writeFeatures=function(t,e){return P()},Su.prototype.writeGeometry=function(t,e){return P()};var Iu=function(t){function e(){t.call(this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getType=function(){return ys.TEXT},e.prototype.readFeature=function(t,e){return this.readFeatureFromText(Ru(t),this.adaptOptions(e))},e.prototype.readFeatureFromText=function(t,e){return P()},e.prototype.readFeatures=function(t,e){return this.readFeaturesFromText(Ru(t),this.adaptOptions(e))},e.prototype.readFeaturesFromText=function(t,e){return P()},e.prototype.readGeometry=function(t,e){return this.readGeometryFromText(Ru(t),this.adaptOptions(e))},e.prototype.readGeometryFromText=function(t,e){return P()},e.prototype.readProjection=function(t){return this.readProjectionFromText(Ru(t))},e.prototype.readProjectionFromText=function(t){return this.dataProjection},e.prototype.writeFeature=function(t,e){return this.writeFeatureText(t,this.adaptOptions(e))},e.prototype.writeFeatureText=function(t,e){return P()},e.prototype.writeFeatures=function(t,e){return this.writeFeaturesText(t,this.adaptOptions(e))},e.prototype.writeFeaturesText=function(t,e){return P()},e.prototype.writeGeometry=function(t,e){return this.writeGeometryText(t,this.adaptOptions(e))},e.prototype.writeGeometryText=function(t,e){return P()},e}(Su);function Ou(t){for(var e=[],n=0,i=t.length;n<i;++n)e.push(t[n].clone());return e}var Au=function(t){function e(e){t.call(this),this.geometries_=e||null,this.listenGeometriesChange_()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.unlistenGeometriesChange_=function(){if(this.geometries_)for(var t=0,e=this.geometries_.length;t<e;++t)x(this.geometries_[t],k.CHANGE,this.changed,this)},e.prototype.listenGeometriesChange_=function(){if(this.geometries_)for(var t=0,e=this.geometries_.length;t<e;++t)w(this.geometries_[t],k.CHANGE,this.changed,this)},e.prototype.clone=function(){var t=new e(null);return t.setGeometries(this.geometries_),t},e.prototype.closestPointXY=function(t,e,n,i){if(i<Ue(this.getExtent(),t,e))return i;for(var r=this.geometries_,o=0,s=r.length;o<s;++o)i=r[o].closestPointXY(t,e,n,i);return i},e.prototype.containsXY=function(t,e){for(var n=this.geometries_,i=0,r=n.length;i<r;++i)if(n[i].containsXY(t,e))return!0;return!1},e.prototype.computeExtent=function(t){qe(t);for(var e=this.geometries_,n=0,i=e.length;n<i;++n)tn(t,e[n].getExtent());return t},e.prototype.getGeometries=function(){return Ou(this.geometries_)},e.prototype.getGeometriesArray=function(){return this.geometries_},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!=this.getRevision()&&(p(this.simplifiedGeometryCache),this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<this.simplifiedGeometryMaxMinSquaredTolerance)return this;var n=t.toString();if(this.simplifiedGeometryCache.hasOwnProperty(n))return this.simplifiedGeometryCache[n];for(var i=[],r=this.geometries_,o=!1,s=0,a=r.length;s<a;++s){var u=r[s],l=u.getSimplifiedGeometry(t);i.push(l),l!==u&&(o=!0)}if(o){var c=new e(null);return c.setGeometriesArray(i),this.simplifiedGeometryCache[n]=c,c}return this.simplifiedGeometryMaxMinSquaredTolerance=t,this},e.prototype.getType=function(){return wn.GEOMETRY_COLLECTION},e.prototype.intersectsExtent=function(t){for(var e=this.geometries_,n=0,i=e.length;n<i;++n)if(e[n].intersectsExtent(t))return!0;return!1},e.prototype.isEmpty=function(){return 0===this.geometries_.length},e.prototype.rotate=function(t,e){for(var n=this.geometries_,i=0,r=n.length;i<r;++i)n[i].rotate(t,e);this.changed()},e.prototype.scale=function(t,e,n){var i=n;i||(i=ln(this.getExtent()));for(var r=this.geometries_,o=0,s=r.length;o<s;++o)r[o].scale(t,e,i);this.changed()},e.prototype.setGeometries=function(t){this.setGeometriesArray(Ou(t))},e.prototype.setGeometriesArray=function(t){this.unlistenGeometriesChange_(),this.geometries_=t,this.listenGeometriesChange_(),this.changed()},e.prototype.applyTransform=function(t){for(var e=this.geometries_,n=0,i=e.length;n<i;++n)e[n].applyTransform(t);this.changed()},e.prototype.translate=function(t,e){for(var n=this.geometries_,i=0,r=n.length;i<r;++i)n[i].translate(t,e);this.changed()},e.prototype.disposeInternal=function(){this.unlistenGeometriesChange_(),t.prototype.disposeInternal.call(this)},e}(vi),Lu={POINT:Fi,LINESTRING:Co,POLYGON:Ji,MULTIPOINT:So,MULTILINESTRING:jo,MULTIPOLYGON:To},ku="EMPTY",Mu="Z",Pu="M",Du=1,Fu=2,Nu=3,Gu=4,Wu=5,Bu=6,zu={};for(var Uu in wn)zu[Uu]=wn[Uu].toUpperCase();var Yu=function(t){this.wkt=t,this.index_=-1};Yu.prototype.isAlpha_=function(t){return t>="a"&&t<="z"||t>="A"&&t<="Z"},Yu.prototype.isNumeric_=function(t,e){return t>="0"&&t<="9"||"."==t&&!(void 0!==e&&e)},Yu.prototype.isWhiteSpace_=function(t){return" "==t||"\t"==t||"\r"==t||"\n"==t},Yu.prototype.nextChar_=function(){return this.wkt.charAt(++this.index_)},Yu.prototype.nextToken=function(){var t,e=this.nextChar_(),n=this.index_,i=e;if("("==e)t=Fu;else if(","==e)t=Wu;else if(")"==e)t=Nu;else if(this.isNumeric_(e)||"-"==e)t=Gu,i=this.readNumber_();else if(this.isAlpha_(e))t=Du,i=this.readText_();else{if(this.isWhiteSpace_(e))return this.nextToken();if(""!==e)throw new Error("Unexpected character: "+e);t=Bu}return{position:n,value:i,type:t}},Yu.prototype.readNumber_=function(){var t,e=this.index_,n=!1,i=!1;do{"."==t?n=!0:"e"!=t&&"E"!=t||(i=!0),t=this.nextChar_()}while(this.isNumeric_(t,n)||!i&&("e"==t||"E"==t)||i&&("-"==t||"+"==t));return parseFloat(this.wkt.substring(e,this.index_--))},Yu.prototype.readText_=function(){var t,e=this.index_;do{t=this.nextChar_()}while(this.isAlpha_(t));return this.wkt.substring(e,this.index_--).toUpperCase()};var Vu=function(t){this.lexer_=t,this.token_,this.layout_=bn.XY};function Xu(t){var e=t.getCoordinates();return 0===e.length?"":e.join(" ")}function Hu(t){for(var e=t.getCoordinates(),n=[],i=0,r=e.length;i<r;++i)n.push(e[i].join(" "));return n.join(",")}function Zu(t){for(var e=[],n=t.getLinearRings(),i=0,r=n.length;i<r;++i)e.push("("+Hu(n[i])+")");return e.join(",")}Vu.prototype.consume_=function(){this.token_=this.lexer_.nextToken()},Vu.prototype.isTokenType=function(t){return this.token_.type==t},Vu.prototype.match=function(t){var e=this.isTokenType(t);return e&&this.consume_(),e},Vu.prototype.parse=function(){return this.consume_(),this.parseGeometry_()},Vu.prototype.parseGeometryLayout_=function(){var t=bn.XY,e=this.token_;if(this.isTokenType(Du)){var n=e.value;n===Mu?t=bn.XYZ:n===Pu?t=bn.XYM:"ZM"===n&&(t=bn.XYZM),t!==bn.XY&&this.consume_()}return t},Vu.prototype.parseGeometryCollectionText_=function(){if(this.match(Fu)){var t=[];do{t.push(this.parseGeometry_())}while(this.match(Wu));if(this.match(Nu))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},Vu.prototype.parsePointText_=function(){if(this.match(Fu)){var t=this.parsePoint_();if(this.match(Nu))return t}else if(this.isEmptyGeometry_())return null;throw new Error(this.formatErrorMessage_())},Vu.prototype.parseLineStringText_=function(){if(this.match(Fu)){var t=this.parsePointList_();if(this.match(Nu))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},Vu.prototype.parsePolygonText_=function(){if(this.match(Fu)){var t=this.parseLineStringTextList_();if(this.match(Nu))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},Vu.prototype.parseMultiPointText_=function(){var t;if(this.match(Fu)){if(t=this.token_.type==Fu?this.parsePointTextList_():this.parsePointList_(),this.match(Nu))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},Vu.prototype.parseMultiLineStringText_=function(){if(this.match(Fu)){var t=this.parseLineStringTextList_();if(this.match(Nu))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},Vu.prototype.parseMultiPolygonText_=function(){if(this.match(Fu)){var t=this.parsePolygonTextList_();if(this.match(Nu))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},Vu.prototype.parsePoint_=function(){for(var t=[],e=this.layout_.length,n=0;n<e;++n){var i=this.token_;if(!this.match(Gu))break;t.push(i.value)}if(t.length==e)return t;throw new Error(this.formatErrorMessage_())},Vu.prototype.parsePointList_=function(){for(var t=[this.parsePoint_()];this.match(Wu);)t.push(this.parsePoint_());return t},Vu.prototype.parsePointTextList_=function(){for(var t=[this.parsePointText_()];this.match(Wu);)t.push(this.parsePointText_());return t},Vu.prototype.parseLineStringTextList_=function(){for(var t=[this.parseLineStringText_()];this.match(Wu);)t.push(this.parseLineStringText_());return t},Vu.prototype.parsePolygonTextList_=function(){for(var t=[this.parsePolygonText_()];this.match(Wu);)t.push(this.parsePolygonText_());return t},Vu.prototype.isEmptyGeometry_=function(){var t=this.isTokenType(Du)&&this.token_.value==ku;return t&&this.consume_(),t},Vu.prototype.formatErrorMessage_=function(){return"Unexpected `"+this.token_.value+"` at position "+this.token_.position+" in `"+this.lexer_.wkt+"`"},Vu.prototype.parseGeometry_=function(){var t=this.token_;if(this.match(Du)){var e=t.value;if(this.layout_=this.parseGeometryLayout_(),"GEOMETRYCOLLECTION"==e){var n=this.parseGeometryCollectionText_();return new Au(n)}var i,r=Lu[e];if(!r)throw new Error("Invalid geometry type: "+e);switch(e){case"POINT":i=this.parsePointText_();break;case"LINESTRING":i=this.parseLineStringText_();break;case"POLYGON":i=this.parsePolygonText_();break;case"MULTIPOINT":i=this.parseMultiPointText_();break;case"MULTILINESTRING":i=this.parseMultiLineStringText_();break;case"MULTIPOLYGON":i=this.parseMultiPolygonText_();break;default:throw new Error("Invalid geometry type: "+e)}return i||(i=r===Lu.POINT?[NaN,NaN]:[]),new r(i,this.layout_)}throw new Error(this.formatErrorMessage_())};var Ku={Point:Xu,LineString:Hu,Polygon:Zu,MultiPoint:function(t){for(var e=[],n=t.getPoints(),i=0,r=n.length;i<r;++i)e.push("("+Xu(n[i])+")");return e.join(",")},MultiLineString:function(t){for(var e=[],n=t.getLineStrings(),i=0,r=n.length;i<r;++i)e.push("("+Hu(n[i])+")");return e.join(",")},MultiPolygon:function(t){for(var e=[],n=t.getPolygons(),i=0,r=n.length;i<r;++i)e.push("("+Zu(n[i])+")");return e.join(",")},GeometryCollection:function(t){for(var e=[],n=t.getGeometries(),i=0,r=n.length;i<r;++i)e.push(qu(n[i]));return e.join(",")}};function qu(t){var e=t.getType(),n=(0,Ku[e])(t);if(e=e.toUpperCase(),"function"==typeof t.getFlatCoordinates){var i=function(t){var e=t.getLayout(),n="";return e!==bn.XYZ&&e!==bn.XYZM||(n+=Mu),e!==bn.XYM&&e!==bn.XYZM||(n+=Pu),n}(t);i.length>0&&(e+=" "+i)}return 0===n.length?e+" "+ku:e+"("+n+")"}var Ju=function(t){function e(e){t.call(this);var n=e||{};this.splitCollection_=void 0!==n.splitCollection&&n.splitCollection}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.parse_=function(t){var e=new Yu(t);return new Vu(e).parse()},e.prototype.readFeatureFromText=function(t,e){var n=this.readGeometryFromText(t,e);if(n){var i=new yo;return i.setGeometry(n),i}return null},e.prototype.readFeaturesFromText=function(t,e){for(var n=[],i=this.readGeometryFromText(t,e),r=[],o=0,s=(n=this.splitCollection_&&i.getType()==wn.GEOMETRY_COLLECTION?i.getGeometriesArray():[i]).length;o<s;++o){var a=new yo;a.setGeometry(n[o]),r.push(a)}return r},e.prototype.readGeometryFromText=function(t,e){var n=this.parse_(t);return n?Tu(n,!1,e):null},e.prototype.writeFeatureText=function(t,e){var n=t.getGeometry();return n?this.writeGeometryText(n,e):""},e.prototype.writeFeaturesText=function(t,e){if(1==t.length)return this.writeFeatureText(t[0],e);for(var n=[],i=0,r=t.length;i<r;++i)n.push(t[i].getGeometry());var o=new Au(n);return this.writeGeometryText(o,e)},e.prototype.writeGeometryText=function(t,e){return qu(Tu(t,!0,e))},e}(Iu);function Qu(t,e,n,i,r,o,s){var a=new za({id:t,position:[n,i],positioning:"center-center",element:e,offset:o||[0,0],stopEvent:!1,className:r}),u=s.getOverlayById(t);null!=u&&s.removeOverlay(u),s.addOverlay(a)}function $u(t,e,n){if(!h.a.isEmpty(t))for(var i=t.getLayers(),r=i.getLength(),o=0;o<r;o++){var s=i.item(o);n==s.get(e)&&t.removeLayer(s)}}function tl(t,e,n,i,r){var o=new yo(new Fi([t,e]));o.setId(n),o.setStyle(i);var s=r.getSource().getFeatureById(n);null!=s&&r.getSource().removeFeature(s),r.getSource().addFeature(o)}function el(t,e,n,i,r,o,s,a){return new Xa({src:t||"@/assets/images/geolocation_marker.png",size:e||[22,22],rotation:n||0,rotateWithView:i||!1,opacity:r||1,offset:o||[0,0],scale:s||1,anchor:a||[.5,.5]})}function nl(t,e,n,i,r,o,s,a,u,l){return new xu({text:t,font:e||'bold 14px "Open Sans", "Arial Unicode MS", "sans-serif"',placement:n||"line",offsetX:i,offsetY:r,fill:new as({color:o||"white"}),backgroundFill:new as({color:a||"black"}),stroke:s,backgroundStroke:u,padding:l||[0,0,0,0]})}function il(t){return new as({color:t||"red"})}function rl(t,e,n,i,r,o,s){return new ls({color:t||"red",lineCap:e||"round",lineJoin:n||"round",lineDash:i,lineDashOffset:r||0,miterLimit:o||10,width:s})}var ol={name:"TusvnMap",props:["targetId","overlayContainerId"],data:function(){return{isLoading:!1,orderStatus:-1,map:null,project:"EPSG:4326",center:[120.80224989415075,31.28000259048651],zoom:10,planLineTracks:[],realLineTracks:[],pageHeight:400,carLayerId:"carLayer",currentDivPolygon:null,popupDatas:{},overlays:{}}},watch:{},methods:{initMap:function(){this.$data.map=new Ga({controls:Or({attribution:!1,zoom:!1}).extend([]),interactions:Os().extend([]),layers:[new Qa({})],target:this.targetId,view:new nr({projection:this.$data.project,center:this.$data.center,zoom:this.$data.zoom})}),this.$data.map.getView().on("change:resolution",this.viewLevelChange),this.$data.map.on("moveend",this.moveEnd),this.$data.map.on("rendercomplete",this.rendercomplete),function(t){if(Array.isArray(t))for(var e=0,n=t.length;e<n;++e)E(t[e]);else E(t)}(this.clickEventKey),this.addVectorLayer("vectorLayer_01")},getCoordinateFromPixel:function(t){return this.$data.map.getCoordinateFromPixel(t)},getPixelFromCoordinate:function(t){return this.$data.map.getPixelFromCoordinate(t)},addInfoWindow:function(t){this.$set(this.$data.popupDatas,t.id,t),this.$nextTick(function(){var e=document.getElementById(t.id+"-popup"),n=new za({element:e,autoPan:!0,autoPanAnimation:{duration:250}});this.$data.overlays[t.id]=n,this.$data.map.addOverlay(n),n.setPosition([t.lon,t.lat])})},addMyInfoWindow:function(t,e){if(this.pointData=t,this.trafficInfo.id=t.id,this.trafficInfo.eventName=t.trafficInfo.eventName,this.circleLon=t.lon,this.circleLat=t.lat,t.isEdit)this.initDetail(t,e),this.trafficInfo.isEdit=!0;else{t.trafficInfo.longitude=this.toFixedLen(t.trafficInfo.longitude),t.trafficInfo.latitude=this.toFixedLen(t.trafficInfo.latitude);var n=this.trafficInfo.alertCategory;this.trafficInfo=t.trafficInfo,this.trafficInfo.alertCategory=n,this.trafficInfo.isEdit=!1,this.initDatasourceList();var i=t.trafficInfo.affectRange;this.drawBgCircle(t.lon,t.lat,i)}this.showTrafficInfoPop=!0,this.$refs.ruleFormMap.clearValidate(),this.$nextTick(function(){var e=document.getElementById("traffic-info-release-popup"),n=new za({element:e,autoPan:!0,autoPanAnimation:{duration:250}});this.$data.overlays[t.id]=n,this.$data.map.addOverlay(n),n.setPosition([t.lon,t.lat]),n.setOffset([0,-29])}),t.isEdit||(this.pubMsgIconID="pub_msg_ico_"+t.id,this.drawPubMsgIcon(t.lon,t.lat,t.icon))},drawBgCircle:function(t,e,n){this.addCircle(t,e,n,this.circleRangeID,[245,147,7,.1],"#F59307",null,null,null,null,null,null,this.MessageTempLayer)},clearCircle:function(){this.removeFeature(this.circleRangeID,this.MessageTempLayer)},drawPubMsgIcon:function(t,e,n){var i="bg_"+this.pubMsgIconID;this.addImg(t,e,i,this.MessageTempLayer,"static/images/sign-bg.png",[44,87],null,null,null,[0,15]),this.addImg(t,e,this.pubMsgIconID,this.MessageTempLayer,n,[22,66],null,null,null,[0,15])},clearPubMsgIcon:function(){if(this.pubMsgIconID){var t="bg_"+this.pubMsgIconID;this.removeFeature(t,this.MessageTempLayer),this.removeFeature(this.pubMsgIconID,this.MessageTempLayer)}},closeMyInfoWindow:function(t){this.clearCircle(),this.clearPubMsgIcon();var e=this.$data.overlays["traffic-info-release"];return this.$data.map.removeOverlay(e),this.showTrafficInfoPop=!1,!1},closePopup:function(t){var e=t.target.attributes.overlayid.value,n=this.$data.overlays[e];return this.$data.map.removeOverlay(n),t.target.blur(),!1},mapClick:function(t){if("normal"==this.mapStatus)this.$emit("MapClick",this,t),this.removeClickEvent();else if("TempLayerInteraction"==this.mapStatus){var e=t.coordinate[0],n=t.coordinate[1];this.pathPoint.newVal.lon=e,this.pathPoint.newVal.lat=n,this.pathPoint.pointList=[],this.pathPoint.newVal.lon!=this.pathPoint.oldVal.lon&&this.pathPoint.newVal.lat!=this.pathPoint.oldVal.lat&&(this.addPathLine(this.pathPoint.newVal.lon,this.pathPoint.newVal.lat,this.pathPoint.oldVal.lon,this.pathPoint.oldVal.lat),this.addPathIco(this.pathPoint.newVal.lon,this.pathPoint.newVal.lat,"new"),this.removeClickEvent())}},viewLevelChange:function(t){var e=parseInt(this.$data.map.getView().getZoom());this.$data.zoom!=e&&(this.$emit("ViewLevelChange",this,e),this.$data.zoom=e)},moveEnd:function(t){this.$emit("ExtentChange",this,this.getCurrentExtent())},rendercomplete:function(){this.$emit("MapRenderComplete",this)},forbidZoom:function(t){var e=this.$data.map.getView();e.setZoom(t),e.setMaxZoom(t),e.setMinZoom(t)},rotateMap:function(t){this.$data.map.getView().animate({rotation:t});var e=this.getCurrentExtent();this.$data.currentDivPolygon=new Ji([[[e[2],e[3]],[e[2],e[1]],[e[0],e[1]],[e[0],e[3]],[e[2],e[3]]]]),this.$data.currentDivPolygon.rotate(t,[(e[0]+e[2])/2,(e[1]+e[3])/2])},isInDivPolygon:function(t,e){if(null==this.$data.currentDivPolygon){var n=this.getCurrentExtent();this.$data.currentDivPolygon=new Ji([[[n[2],n[3]],[n[2],n[1]],[n[0],n[1]],[n[0],n[3]],[n[2],n[3]]]])}return this.$data.currentDivPolygon.intersectsCoordinate([t,e])},forbidDrag:function(){this.$data.map.getControls();for(var t=this.$data.map.getInteractions(),e=0;e<t.getArray().length;e++)this.$data.map.removeInteraction(t.getArray()[e])},addOverlay:function(t,e,n,i,r,o){Qu(t,e,n,i,r,o,this.$data.map)},addImgOverlay:function(t,e,n,i,r,o,s,a){var u=document.getElementById(this.overlayContainerId),l=document.createElement("img");l.setAttribute("src",e),l.setAttribute("id",t),l.setAttribute("bdata",o),null!=n&&(l.style.transform="rotate("+n+"deg)"),null!=a&&(l.onclick=a),u.appendChild(l),Qu(t,l,i,r,null,s,this.$data.map)},setOverlayPosition:function(t,e,n){!function(t,e,n,i){var r=i.getOverlayById(t);null!=r&&r.setPosition([e,n])}(t,e,n,this.$data.map)},clearOverlays:function(){var t,e;t=this.$data.map,null!=(e=t.getOverlays())&&e.forEach(function(e){var n=e.getElement();t.removeOverlay(e),n.parentNode.removeChild(n)})},removeOverlayById:function(t){!function(t,e){var n=e.getOverlayById(t);if(null!=n){var i=n.getElement();e.removeOverlay(n),i.parentNode.removeChild(i)}}(t,this.$data.map)},addVectorLayer:function(t){var e,n,i=function(t){var e=new Is({wrapX:!1}),n=new ms({source:e,style:new ds({fill:new as({color:"rgba(0, 0, 0, 0.2)"}),stroke:new ls({color:"#ffcc33",width:2}),image:new os({radius:3,fill:new as({color:"#ff0000"}),stroke:new ls({color:"#ffcc33",width:1})})})});return n.set("id",t),n}(t);e=this.$data.map,n=i,h.a.isEmpty(e)||($u(e,"id",n.get("id")),e.addLayer(n))},getLayerById:function(t){return function(t,e,n){if(!h.a.isEmpty(t))for(var i=t.getLayers(),r=i.getLength(),o=0;o<r;o++){var s=i.item(o);if(n==s.get(e))return s}return null}(this.$data.map,"id",t)},removeLayerById:function(t){var e=this.getLayerById(t);void 0!=e&&this.$data.map.removeLayer(e)},addImg:function(t,e,n,i,r,o,s,a,u,l,c,h){tl(t,e,n,new ds({image:el(r||"../../static/assets/images/geolocation_marker_heading.png",o||[22,37],s||0,a||!0,u||1,l||[0,0],c,h)}),this.getLayerById(i))},addRegularShapePoint:function(t,e,n,i,r,o,s,a,u,l,c,h,f){tl(t,e,n,new ds({image:function(t,e,n,i,r,o,s,a,u){return new rs({fill:t,points:e,radius:n||5,radius1:i,radius2:r,angle:o||0,stroke:s,rotation:a||0,rotateWithView:u||!1})}(r,o,s,a,u,l,c,h,f)}),this.getLayerById(i))},addNormalPoint:function(t,e,n,i,r,o,s,a){var u=new os({radius:r||5,fill:new as({color:o||"red"}),stroke:new ls({color:s||"green",width:a||3})});tl(t,e,n,new ds({image:u}),this.getLayerById(i))},addText:function(t,e,n,i,r,o,s,a,u,l,c,h,f,p,d,v,g,m,y){tl(t,e,n,new ds(d?{image:el(v||"../../static/assets/images/geolocation_marker_heading.png",g||[22,37],0,!0,1,m||[0,0],y),text:nl(r,o,s,a,u,l,c,h,f,p||[0,0,0,0])}:{text:nl(r,o,s,a,u,l,c,h,f,p||[0,0,0,0])}),this.getLayerById(i))},addLineString:function(t,e,n,i,r,o,s,a,u,l){!function(t,e,n,i){var r=null;r="string"==typeof t?(new Ju).readFeature(t,null):new yo(new Co(t)),r.setId(e),r.setStyle(n);var o=i.getSource().getFeatureById(e);null!=o&&i.getSource().removeFeature(o),i.getSource().addFeature(r)}(t,e,new ds({stroke:rl(n,i,r,o,s,a,u)}),this.getLayerById(l))},addCircle:function(t,e,n,i,r,o,s,a,u,l,c,h,f){!function(t,e,n,i,r,o){var s=new wo(ri([t,e],"EPSG:4326","EPSG:3857"),n,"XY").transform("EPSG:3857","EPSG:4326"),a=new yo(s);a.setId(i),a.setStyle(r);var u=o.getSource().getFeatureById(i);null!=u&&o.getSource().removeFeature(u),o.getSource().addFeature(a)}(t,e,n,i,new ds({stroke:rl(o,s,a,u,l,c,h),fill:il(r)}),this.getLayerById(f))},addMultiPolygon:function(t,e,n,i,r,o,s,a,u,l,c){!function(t,e,n,i){var r=new To(t),o=new yo(r);o.setId(e),o.setStyle(n);var s=i.getSource().getFeatureById(e);null!=s&&i.getSource().removeFeature(s),i.getSource().addFeature(o)}(t,e,new ds({stroke:rl(i,r,o,s,a,u,l),fill:il(n)}),this.getLayerById(c))},addArrow:function(t,e,n,i,r,o,s,a,u,l,c,h){!function(t,e,n,i,r,o){if(null==t||t.length<2)return null;var s=new yo(new Co(t));s.setId(e),s.setStyle(n);var a=o.getSource().getFeatureById(e);null!=a&&o.getSource().removeFeature(a),o.getSource().addFeature(s);var u=new yo(new Fi(t[0])),l=e+"_tail";u.setId(l);var c=new ds({image:new Xa({src:i||"@/assets/images/geolocation_marker.png",anchor:[.5,.5],rotateWithView:!0,rotation:0})});u.setStyle(c);var h=o.getSource().getFeatureById(l);null!=h&&o.getSource().removeFeature(h),o.getSource().addFeature(u);var f=new yo(new Fi(t[t.length-1])),p=e+"_head";f.setId(p);var d=t[t.length-1][0]-t[t.length-2][0],v=t[t.length-1][1]-t[t.length-2][1],g=Math.atan2(v,d),m=new ds({image:new Xa({src:r||"@/assets/images/geolocation_marker_heading.png",anchor:[.5,.5],rotateWithView:!0,rotation:Math.PI/2-g})});f.setStyle(m);var y=o.getSource().getFeatureById(p);null!=y&&o.getSource().removeFeature(y),o.getSource().addFeature(f)}(t,e,new ds({stroke:rl(n,i,r,o,s,a,u)}),l||"../../static/assets/images/geolocation_marker.png",c||"../../static/assets/images/geolocation_marker_heading.png",this.getLayerById(h))},centerAt:function(t,e){this.$data.map.getView().setCenter([t,e])},zoomTo:function(t){this.$data.map.getView().setZoom(t)},getCurrentExtent:function(){return this.$data.map.getView().calculateExtent(this.$data.map.getSize())},getCurrentLevel:function(){return parseInt(this.$data.map.getView().getZoom())},removeFeature:function(t,e){var n=this.getLayerById(e).getSource(),i=n.getFeatureById(t);null!=i&&n.removeFeature(i)},removeAllFeature:function(t){var e=this.getLayerById(t).getSource();null!=e&&e.clear()},storkeLine:function(t){},addWms:function(t,e,n,i,r,o,s){!function(t,e,n,i,r,o,s,a){var u=new Za({source:new mu({wrapX:!1,url:e,params:{LAYERS:n,STYLES:i||"",VERSION:s||"1.1.0"},serverType:"geoserver",transition:0}),opacity:r||0,visible:o||!0});u.set("id",t),a.addLayer(u)}(t,e,n,i,r,o,s,this.$data.map)},translateCallback:function(t,e){},pageResize:function(){var t=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;this.pageHeight=t-64},resize:function(t){this.$data.map.setSize(t)}},created:function(){},mounted:function(){var t=this;this.pageResize(),window.onresize=function(){},setTimeout(function(){t.initMap(),t.$emit("MapInitComplete",t)},100)},destroyed:function(){}},sl={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{height:"100%"}},[n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.isLoading,expression:"isLoading"}],staticStyle:{height:"100%"},attrs:{id:t.targetId}}),t._v(" "),n("div",{staticStyle:{display:"none"},attrs:{id:t.overlayContainerId}}),t._v(" "),t._l(t.popupDatas,function(e,i,r){return[n("div",{key:r,ref:e.id+"-popup",refInFor:!0,staticClass:"ol-popup",attrs:{id:e.id+"-popup"}},[n("a",{staticClass:"ol-popup-closer",attrs:{href:"#",overlayid:e.id,id:e.id+"-popup-closer"},on:{click:function(e){return t.closePopup(e)}}}),t._v(" "),n("div",{attrs:{id:e.id+"-popup-content"}},[n("span",{domProps:{innerHTML:t._s(e.content)}})])])]})],2)},staticRenderFns:[]};var al=n("VU/8")(ol,sl,!1,function(t){n("6WPV"),n("S7jy")},"data-v-42cdfd05",null).exports,ul=n("xT6B"),ll=n("hZ4t"),cl=n("8q+q"),hl=function(t){return axios.post(cl.a+"lc/realData/getCamRealData",t).then(function(t){return t.data})},fl=n("uC0P"),pl=n("OGFP"),dl=n("Nchc"),vl=new fl.a,gl=new pl.a,ml=new dl.a,yl={data:function(){return{spatCount:0,signCount:0,center:[],weather:{},cameraParam:{},step:5,step1:1,mapTime1:0,mapTime2:0,mapTime3:0,mapTime4:0,viewTime:0,isConMov:!1,source:"",platformWebsocke:null,perceptionWebsocket:null,spatWebsocket:null,warningWebsocket:null,param:1,time:"",statisticData:"",x:0,y:0,isActive:0,crossId:"",vehData:[],alertCount:0,warningData:{},warningCount:0,lastLightObj:{},processDataTime:"",removeEventObj:{},mapShow:!1,mapInitTime:"",currentExtent:[],mapParam:{},camList:[],requestVideoUrl:hl,tabIsExist:!0,isMin:!1,warningConnectCount:0,cancelConnectCount:0,platformConnectCount:0,perceptionConnectCount:0,spatConnectCount:0,gis3d:null,isCapture:!1,isCaptureShow:!1,perIsFirst:!0,waitingtime:this.$route.params.waitingtime}},props:{realData:{type:Object,default:function(){return{}}},warningSign:{type:Object,default:function(){return{}}}},components:{TusvnMap1:al,LivePlayer:ll.a},watch:{"$store.getters.getRealData":{handler:function(t,e){this.moveMap()},deep:!0},$route:{handler:function(t,e){this.isCaptureShow=t.query.isCapture,this.isShow=t.query.isShow},immediate:!0}},filters:{dateFormat:function(t){if(""!=t){var e=t%1e3;return ul.a.formatTime(t)+"."+e}}},mounted:function(){var t=this;vl.initload("cesiumContainer",!1),gl.viewer=vl.cesium.viewer,ml.models={},ml.processPlatformCarsTrack(vl.cesium.viewer),t.mapParam=window.mapParam,t.rsId=t.$route.params.crossId;var e=parseFloat(t.$route.query.lng),n=parseFloat(t.$route.query.lat),i=parseFloat(t.$route.params.extend);e||n?(t.x=e,t.y=n,t.getExtend(e,n,i),t.center=[e,n]):(t.currentExtent=window.currentExtent,t.getExtentCenter()),t.getCameraByRsId(),t.onMapComplete(),document.addEventListener("visibilitychange",function(){"hidden"==document.visibilityState?t.tabIsExist=!1:"visible"==document.visibilityState&&(t.tabIsExist=!0)})},methods:{capture:function(){for(var t in this.isCapture=!this.isCapture,this.isCapture||setTimeout(function(){ml.processPlatformCarsTrack(vl.cesium.viewer)},1e3),this.$refs)""!=t&&t.match("player")&&(this.isCapture?this.$refs[t][0].player&&this.$refs[t][0].player.pause():this.$refs[t][0].player&&this.$refs[t][0].player.play())},onMapComplete:function(){var t=this,e=0,n=void 0;if(this.camList.length>0&&this.camList[0].camParam)return n=this.camList[0].camParam,vl.updateCameraPosition(this.x,this.y,n.z,70,-.2369132859032279,.0029627735803421373),this.getData(),void(this.mapShow=!0);this.mapInitTime=setInterval(function(){if(t.camList.length>0&&t.camList[0].camParam)return n=t.camList[0].camParam,vl.updateCameraPosition(t.x,t.y,n.z,70,-.2369132859032279,.0029627735803421373),t.getData(),clearInterval(t.mapInitTime),void(t.mapShow=!0);10==++e&&(vl.updateCameraPosition(t.x,t.y,n.z,70,-.2369132859032279,.0029627735803421373),t.getData(),t.mapShow=!0,clearInterval(t.mapInitTime))},100)},getData:function(){this.typeRoadData(),this.initPerceptionWebSocket(),this.initPlatformWebSocket(),this.initWarningWebSocket(),this.getMap()},map1InitComplete:function(){this.$refs.map1.centerAt(window.mapOption.center),this.$refs.map1.zoomTo(10),this.$refs.map1.addWms(window.dlWmsOption.LAYERS_withoutz,window.dlWmsDefaultOption.url,window.dlWmsOption.LAYERS_withoutz,window.dlWmsOption.GD_ROAD_CENTERLINE,1,!0,null)},getMap:function(){var t=this.$refs.map1;null!=t.getLayerById("overviewLayer")?t.removeAllFeature("overviewLayer"):t.addVectorLayer("overviewLayer");var e=this.currentExtent;t.addMultiPolygon([[e]],"rectangle",[255,0,0,.4],[255,0,0,1],"round","round",[5,0],null,null,1,"overviewLayer"),t.centerAt((e[0][0]+e[2][0])/2,(e[0][1]+e[2][1])/2)},getTime:function(t,e,n){""!=t&&(this.statisticTime=t),""!=e&&(this.processDataTime=e),this.$parent.perceptionData=n},getCameraByRsId:function(){var t,e=this;(t={rsId:this.rsId},axios.post(cl.a+"/ehb/road/sTypeRoad",t).then(function(t){return t.data})).then(function(t){var n=t.data,i=n.camLst;e.camList=i,e.camList.length>0&&e.camList.forEach(function(t){var i={serialNum:t.sn,protocal:t.protocal};t.params=i,t.rsPtName=n.rsName,e.$set(t,"magnify",!1)})})},loadComplete:function(t){this.camList.forEach(function(e,n){t.serialNum==e.serialNum&&(e.videoUrl=params.videoUrl)})},getCurrentExtent:function(){this.currentExtent=[];var t=this.$refs.perceptionMap.getExtent(),e=this.$refs.perceptionMap.coordinateTransfer("+proj=utm +zone=49 +ellps=WGS84 +datum=WGS84 +units=m +no_defs","EPSG:4326",t.max.x,t.max.y),n=this.$refs.perceptionMap.coordinateTransfer("+proj=utm +zone=49 +ellps=WGS84 +datum=WGS84 +units=m +no_defs","EPSG:4326",t.min.x,t.min.y);e[0],e[1],n[0],n[1];this.currentExtent=[[121.431,31.113],[121.063,31.113],[121.063,31.371],[121.431,31.371]]},getCenter:function(){this.center=[];var t=this.$refs.perceptionMap.getExtent(),e=this.$refs.perceptionMap.coordinateTransfer("+proj=utm +zone=49 +ellps=WGS84 +datum=WGS84 +units=m +no_defs","EPSG:4326",t.max.x,t.max.y),n=this.$refs.perceptionMap.coordinateTransfer("+proj=utm +zone=49 +ellps=WGS84 +datum=WGS84 +units=m +no_defs","EPSG:4326",t.min.x,t.min.y),i=e[0],r=e[1];n[0],n[0];this.center=[121.247,31.242]},getExtentCenter:function(){var t=window.currentExtent;this.center=[];var e=(t[1][0]+t[3][0])/2,n=(t[1][1]+t[3][1])/2;this.center.push(e),this.center.push(n)},typeRoadData:function(){var t,e=this;(t=[{polygon:this.currentExtent}],axios.post(cl.a+"ehb/road/typeRoadData",t).then(function(t){return t.data})).then(function(t){var n=t.data[0].baseData.signs,i=t.data[0].baseData.spats;e.signCount=0,e.spatCount=0,n&&n.length>0&&n.forEach(function(t){e.signCount++}),i&&i.length>0&&i.forEach(function(t){t.spats.forEach(function(t){e.spatCount++})}),e.$parent.spatCount=e.spatCount,e.$parent.signCount=e.signCount})},moveMap:function(){var t=this,e=this.realData.direction,n=this.realData.status;this.cameraParam.x,this.cameraParam.y;if(this.source="mapMove","0"==n){if(this.isConMov=!1,clearInterval(this.mapTime1),clearInterval(this.mapTime2),clearInterval(this.mapTime3),clearInterval(this.mapTime4),"0"==e)return this.isConMov=!1,this.getPerceptionAreaInfo(),void this.typeRoadData();if("1"==e){if(this.cameraParam.y<=this.$refs.perceptionMap.minY)return;this.$refs.perceptionMap.move(0,this.step,0)}if("2"==e){if(this.cameraParam.y>=this.$refs.perceptionMap.maxY)return;this.$refs.perceptionMap.move(0,-this.step,0)}if("3"==e){if(this.cameraParam.x>=this.$refs.perceptionMap.maxX)return;this.$refs.perceptionMap.move(-this.step,0,0)}if("4"==e){if(this.cameraParam.x<=this.$refs.perceptionMap.minX)return;this.$refs.perceptionMap.move(this.step,0,0)}}else this.isConMov=!0,"1"==e&&(clearInterval(this.mapTime1),clearInterval(this.mapTime2),clearInterval(this.mapTime3),clearInterval(this.mapTime4),this.mapTime1=setInterval(function(){t.cameraParam.y<=t.$refs.perceptionMap.minY?clearInterval(t.mapTime1):t.$refs.perceptionMap.move(0,t.step1,0)},100)),"2"==e&&(clearInterval(this.mapTime1),clearInterval(this.mapTime2),clearInterval(this.mapTime3),clearInterval(this.mapTime4),this.mapTime2=setInterval(function(){t.cameraParam.y>=t.$refs.perceptionMap.maxY?clearInterval(t.mapTime2):t.$refs.perceptionMap.move(0,-t.step1,0)},100)),"3"==e&&(clearInterval(this.mapTime1),clearInterval(this.mapTime2),clearInterval(this.mapTime3),clearInterval(this.mapTime4),this.mapTime3=setInterval(function(){t.cameraParam.x>=t.$refs.perceptionMap.maxX?clearInterval(t.mapTime3):t.$refs.perceptionMap.move(-t.step,0,0)},100)),"4"==e&&(clearInterval(this.mapTime1),clearInterval(this.mapTime2),clearInterval(this.mapTime3),clearInterval(this.mapTime4),this.mapTime4=setInterval(function(){t.cameraParam.x<=t.$refs.perceptionMap.minX?clearInterval(t.mapTime4):t.$refs.perceptionMap.move(t.step,0,0)},100))},getNumPng:function(t,e){var n=void 0;return"RED"==t&&(0==e&&(n="./static/images/light/0.png"),1==e&&(n="./static/images/light/1.png"),2==e&&(n="./static/images/light/2.png"),3==e&&(n="./static/images/light/3.png"),4==e&&(n="./static/images/light/4.png"),5==e&&(n="./static/images/light/5.png"),6==e&&(n="./static/images/light/6.png"),7==e&&(n="./static/images/light/7.png"),8==e&&(n="./static/images/light/8.png"),9==e&&(n="./static/images/light/9.png")),"YELLOW"==t&&(0==e&&(n="./static/images/light/0-2.png"),1==e&&(n="./static/images/light/1-2.png"),2==e&&(n="./static/images/light/2-2.png"),3==e&&(n="./static/images/light/3-2.png"),4==e&&(n="./static/images/light/4-2.png"),5==e&&(n="./static/images/light/5-2.png"),6==e&&(n="./static/images/light/6-2.png"),7==e&&(n="./static/images/light/7-2.png"),8==e&&(n="./static/images/light/8-2.png"),9==e&&(n="./static/images/light/9-2.png")),"GREEN"==t&&(0==e&&(n="./static/images/light/0-1.png"),1==e&&(n="./static/images/light/1-1.png"),2==e&&(n="./static/images/light/2-1.png"),3==e&&(n="./static/images/light/3-1.png"),4==e&&(n="./static/images/light/4-1.png"),5==e&&(n="./static/images/light/5-1.png"),6==e&&(n="./static/images/light/6-1.png"),7==e&&(n="./static/images/light/7-1.png"),8==e&&(n="./static/images/light/8-1.png"),9==e&&(n="./static/images/light/9-1.png")),n},changeMap:function(t){if(-1==t)return this.param=-1,this.isActive=-1,void vl.updatePosition(112.75003033070374,28.106432159727984,113.05003033070373,28.52643215972798);if(this.camList.length>0){var e=this.camList[t].camParam;e?vl.updateCameraPosition(this.x,this.y,e.z,70,-.2369132859032279,.0029627735803421373):vl.updateCameraPosition(window.defaultMapParam.x,window.defaultMapParam.y,window.defaultMapParam.z,window.defaultMapParam.radius,window.defaultMapParam.pitch,window.defaultMapParam.yaw)}else vl.updateCameraPosition(window.defaultMapParam.x,window.defaultMapParam.y,window.defaultMapParam.z,window.defaultMapParam.radius,window.defaultMapParam.pitch,window.defaultMapParam.yaw);this.isActive=t,this.param=t},screenMagnify:function(t){t.magnify=!t.magnify},initWarningWebSocket:function(){try{"WebSocket"in window?(this.warningWebsocket=new WebSocket(window.config.socketUrl),this.warningWebsocket.onmessage=this.onWarningMessage,this.warningWebsocket.onclose=this.onWarningClose,this.warningWebsocket.onopen=this.onWarningOpen,this.warningWebsocket.onerror=this.onWarningError):this.$message("此浏览器不支持websocket")}catch(t){this.warningReconnect()}},onWarningMessage:function(t){var e=this;if(!e.isCapture){var n=JSON.parse(t.data),i=n.result.data,r=void 0;"CLOUD"==n.result.type&&(i.forEach(function(t){r=(r=t.warnId).substring(0,r.lastIndexOf("_")),e.warningData[r]?t.longitude==e.warningData[r].longitude&&t.latitude==e.warningData[r].latitude||(vl.remove3DInforLabel(e.warningData[r].id),vl.add3DInfoLabel(e.warningData[r].id,e.warningData[r].msg,e.warningData[r].longitude,e.warningData[r].latitude,20)):(e.warningCount++,e.warningData[r]={warningId:r,id:"alert"+e.alertCount,msg:t.warnMsg,longitude:t.longitude,latitude:t.latitude,timer:null},e.alertCount++,vl.add3DInfoLabel(e.warningData[r].id,e.warningData[r].msg,e.warningData[r].longitude,e.warningData[r].latitude,20)),clearTimeout(e.warningData[r].timer),e.warningData[r].timer=setTimeout(function(){vl.remove3DInforLabel(e.warningData[r].id),e.warningCount>0&&e.warningCount--,e.$parent.warningCount=e.warningCount,delete e.warningData[r]},2e3)}),e.$parent.warningCount=e.warningCount)}},onWarningClose:function(t){this.warningReconnect()},onWarningError:function(){this.warningReconnect()},onWarningOpen:function(t){var e={action:"clod_event",region:this.currentExtent},n=l()(e);this.sendWarningMsg(n)},sendWarningMsg:function(t){window.WebSocket&&this.warningWebsocket.readyState==WebSocket.OPEN&&this.warningWebsocket.send(t)},warningReconnect:function(){this._isDestroyed||this.warningConnectCount>=10||(this.initWarningWebSocket(),this.warningConnectCount++)},initPlatformWebSocket:function(){try{"WebSocket"in window?(this.platformWebsocket=new WebSocket(window.config.websocketUrl),this.platformWebsocket.onmessage=this.onPlatformMessage,this.platformWebsocket.onclose=this.onPlatformClose,this.platformWebsocket.onopen=this.onPlatformOpen,this.platformWebsocket.onerror=this.onPlatformError):this.$message("此浏览器不支持websocket")}catch(t){this.platformReconnect()}},onPlatformMessage:function(t){if(this.isCapture)return clearInterval(ml.processPlatformCarsTrackIntervalId),void(ml.cacheAndInterpolateDataByVid={});var e=JSON.parse(t.data);ml.onCarMessage(e,0);var n=a()(ml.cacheAndInterpolateDataByVid);if(n&&n.length>0){var i=n[0];this.$parent.vehData=ml.cacheAndInterpolateDataByVid[i].data}},onPlatformClose:function(t){this.platformReconnect()},onPlatformError:function(){this.platformReconnect()},onPlatformOpen:function(t){var e={action:"road_real_data_reg",data:{polygon:window.currentExtent}},n=l()(e);this.sendPlatformMsg(n)},sendPlatformMsg:function(t){window.WebSocket&&this.platformWebsocket.readyState==WebSocket.OPEN&&this.platformWebsocket.send(t)},platformReconnect:function(){this._isDestroyed||this.platformConnectCount>=10||(this.initPlatformWebSocket(),this.platformConnectCount++)},initPerceptionWebSocket:function(){try{"WebSocket"in window?(this.perceptionWebsocket=new WebSocket(window.config.websocketUrl),this.perceptionWebsocket.onmessage=this.onPerceptionMessage,this.perceptionWebsocket.onclose=this.onPerceptionClose,this.perceptionWebsocket.onopen=this.onPerceptionOpen,this.perceptionWebsocket.onerror=this.onPerceptionError):this.$message("此浏览器不支持websocket")}catch(t){this.perceptionReconnect()}},onPerceptionMessage:function(t){var e=this;if(e.perIsFirst)setTimeout(function(){e.perIsFirst=!1},e.waitingtime);else if(e.tabIsExist){if(e.isCapture)return;var n=JSON.parse(t.data);gl.addPerceptionData(n,0),e.$parent.perceptionData=n.result.vehDataStat;var i=n.result.vehDataDTO;if(i.length>0){e.processDataTime=i[0].gpsTime;for(var r=0,o=0,s=0,a=0;a<i.length;a++){var u=i[a];1!=u.type?0==u.targetType||1==u.targetType||3==u.targetType?o++:r++:s++}this.statisticData="当前数据包："+i.length+"="+s+"(自车)+"+r+"(感知)+"+o+"(人)"}}else{gl.cachePerceptionQueue.length>0&&(gl.cachePerceptionQueue=new Array)}},onPerceptionClose:function(t){this.perceptionReconnect()},onPerceptionError:function(){this.perceptionReconnect()},onPerceptionOpen:function(t){var e={action:"road_real_data_per",data:{polygon:this.currentExtent}},n=l()(e);this.sendPerceptionMsg(n)},sendPerceptionMsg:function(t){window.WebSocket&&this.perceptionWebsocket.readyState==WebSocket.OPEN&&this.perceptionWebsocket.send(t)},perceptionReconnect:function(){this._isDestroyed||this.perceptionConnectCount>=10||(this.initPerceptionWebSocket(),this.perceptionConnectCount++)},initSpatWebSocket:function(){try{"WebSocket"in window?(this.spatWebsocket=new WebSocket(window.config.websocketUrl),this.spatWebsocket.onmessage=this.onSpatMessage,this.spatWebsocket.onclose=this.onSpatClose,this.spatWebsocket.onopen=this.onSpatOpen,this.spatWebsocket.onerror=this.onSpatError):this.$message("此浏览器不支持websocket")}catch(t){this.spatReconnect()}},onSpatMessage:function(t){var e=this;if(!e.isCapture){var n=JSON.parse(t.data),i=n.result.spatDataDTO;e.time=n.time;var r=[];i&&i.length>0&&(i.forEach(function(t){var e={leftTime:t.leftTime,light:t.status,direction:t.direction,spatId:t.spatId};r.push(e)}),r.forEach(function(t,n,i){var r={},o=(t.leftTime+"").split(""),s=void 0,a=void 0,u=void 0;1==t.direction&&("RED"==t.light&&(s="./static/images/light/cross-red.png",s="./static/images/light/cross-red.png",a=e.getNumPng("RED",o[0]),o[1]&&(u=e.getNumPng("RED",o[1]))),"YELLOW"==t.light&&(s="./static/images/light/cross-yellow.png",a=e.getNumPng("YELLOW",o[0]),o[1]&&(u=e.getNumPng("YELLOW",o[1]))),"GREEN"==t.light&&(s="./static/images/light/cross-green.png",a=e.getNumPng("GREEN",o[0]),o[1]&&(u=e.getNumPng("GREEN",o[1])))),2==t.direction&&("RED"==t.light&&(s="./static/images/light/left-red.png",a=e.getNumPng("RED",o[0]),o[1]&&(u=e.getNumPng("RED",o[1]))),"YELLOW"==t.light&&(s="./static/images/light/left-yellow.png",a=e.getNumPng("YELLOW",o[0]),o[1]&&(u=e.getNumPng("YELLOW",o[1]))),"GREEN"==t.light&&(s="./static/images/light/left-green.png",a=e.getNumPng("GREEN",o[0]),o[1]&&(u=e.getNumPng("GREEN",o[1])))),3==t.direction&&("RED"==t.light&&(s="./static/images/light/turn-red.png",a=e.getNumPng("RED",o[0]),o[1]&&(u=e.getNumPng("RED",o[1]))),"YELLOW"==t.light&&(s="./static/images/light/turn-yellow.png",a=e.getNumPng("YELLOW",o[0]),o[1]&&(u=e.getNumPng("YELLOW",o[1]))),"GREEN"==t.light&&(s="./static/images/light/turn-green.png",a=e.getNumPng("GREEN",o[0]),o[1]&&(u=e.getNumPng("GREEN",o[1])))),4==t.direction&&("RED"==t.light&&(s="./static/images/light/right-red.png",a=e.getNumPng("RED",o[0]),o[1]&&(u=e.getNumPng("RED",o[1]))),"YELLOW"==t.light&&(s="./static/images/light/right-yellow.png",a=e.getNumPng("YELLOW",o[0]),o[1]&&(u=e.getNumPng("YELLOW",o[1]))),"GREEN"==t.light&&(s="./static/images/light/right-green.png",a=e.getNumPng("GREEN",o[0]),o[1]&&(u=e.getNumPng("GREEN",o[1])))),r.id=t.spatId,r.img1=s,r.img2=a,r.img3=u,e.lastLightObj[t.spatId]=t,e.$refs.perceptionMap.addStaticModel_light_1(r)}))}},onSpatClose:function(t){this.spatReconnect()},onSpatError:function(){this.spatReconnect()},onSpatOpen:function(t){var e={action:"road_real_data_spat",data:{polygon:this.currentExtent}},n=l()(e);this.sendSpatMsg(n)},sendSpatMsg:function(t){window.WebSocket&&this.spatWebsocket.readyState==WebSocket.OPEN&&this.spatWebsocket.send(t)},spatReconnect:function(){this._isDestroyed||this.spatConnectCount>=10||(this.initSpatWebSocket(),this.spatConnectCount++)},getExtend:function(t,e,n){this.currentExtent=[];var i=t+n,r=e+n,o=t-n,s=e-n;this.currentExtent.push([o,r]),this.currentExtent.push([i,r]),this.currentExtent.push([i,s]),this.currentExtent.push([o,s])}},destroyed:function(){clearInterval(this.mapTime1),clearInterval(this.mapTime2),clearInterval(this.mapTime3),clearInterval(this.mapTime4),clearTimeout(this.time),clearInterval(this.mapInitTime),clearInterval(ml.processPlatformCarsTrackIntervalId),this.$refs.perceptionMap&&this.$refs.perceptionMap.reset3DMap(),this.warningWebsocket&&this.warningWebsocket.close(),this.platformWebsocket&&this.platformWebsocket.close(),this.perceptionWebsocket&&this.perceptionWebsocket.close(),this.spatWebsocket&&this.spatWebsocket.close()}},_l={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fusion-right-style",attrs:{id:"fusionRight"}},[i("img",{directives:[{name:"show",rawName:"v-show",value:-1==t.param,expression:"param==-1"}],staticClass:"img-style",attrs:{src:n("6Bgf")},on:{click:function(e){return t.changeMap(0)}}}),t._v(" "),i("img",{directives:[{name:"show",rawName:"v-show",value:-1!=t.param&&t.mapShow,expression:"param!=-1&&mapShow"}],staticClass:"img-style",attrs:{src:n("PlOi")},on:{click:function(e){return t.changeMap(-1)}}}),t._v(" "),"true"==t.isCaptureShow?i("div",{staticClass:"img-capture",on:{click:t.capture}},[t._v("截屏")]):t._e(),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"true"==t.isShow,expression:"isShow=='true'"}],staticClass:"map-time map-time1"},[t._v(t._s(t.statisticData))]),t._v(" "),i("div",{staticClass:"map-real-time"},[t._v(t._s(t._f("dateFormat")(t.processDataTime)))]),t._v(" "),i("div",{staticClass:"video-style"},[t._l(t.camList,function(e,n){return t.camList.length>0?i("div",{class:[e.magnify?"magnify-style":"video-position"]},[i("div",{staticClass:"style"},[i("div",{staticClass:"video-mask",on:{click:function(n){return t.screenMagnify(e)}}}),t._v(" "),i("live-player",{ref:"player"+n,refInFor:!0,attrs:{requestVideoUrl:t.requestVideoUrl,params:e.params,type:"wsUrl",autoplay:!1}},[i("div",{staticClass:"video-num",on:{click:function(e){return t.changeMap(n)}}},[i("span",{staticClass:"device-num"},[t._v("摄像头编号:"+t._s(e.devId))]),t._v(" "),i("span",{staticClass:"active-circle",class:{"active-style":t.isActive==n}}),t._v(" "),i("span",[t._v(t._s(e.rsPtName))])])])],1)]):t._e()}),t._v(" "),t._l(new Array(2),function(e){return 0==t.camList.length?i("div",{staticClass:"video-position style"},[t._m(0,!0)]):t._e()})],2),t._v(" "),i("div",{staticClass:"c-fusion-right map-right"},[i("div",{staticClass:"perception-road",attrs:{id:"mapRoad"}},[i("tusvn-map1",{ref:"map1",attrs:{targetId:"map1",overlayContainerId:"overlay1",isMasker:!1,isCircle:!1},on:{MapInitComplete:t.map1InitComplete}})],1)]),t._v(" "),i("div",{staticClass:"map-left"}),t._v(" "),i("div",{staticClass:"c-map",attrs:{id:"cesiumContainer"}})])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"c-video-16-9 "},[e("div",{staticClass:"video-tip"},[this._v("\n                    暂无数据\n                ")])])}]};var wl=n("VU/8")(yl,_l,!1,function(t){n("h1jd")},"data-v-4d29b719",null).exports,bl={data:function(){return{currentExtent:[],spatCount:0,signCount:0,time:0,perceptionData:{},leftShow:!0}},components:{HeaderTop:n("JCuE").a,Left:o,Right:wl},methods:{},mounted:function(){var t=this.$route.params.leftShow;this.leftShow="true"==t},destroyed:function(){clearInterval(this.time)}},xl={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"fusion-style"},[n("div",{staticClass:"fusion-layout"},[n("div",{staticClass:"c-fusion-left fusion-left"},[n("div",{staticClass:"c-scroll-wrap"},[n("div",{staticClass:"c-scroll-inner"},[n("left",{directives:[{name:"show",rawName:"v-show",value:t.leftShow,expression:"leftShow"}],attrs:{currentExtent:t.currentExtent,spatCount:t.spatCount,signCount:t.signCount,perceptionData:t.perceptionData,warningCount:t.warningCount,vehData:t.vehData}})],1)])]),t._v(" "),n("right")],1)])},staticRenderFns:[]};var El=n("VU/8")(bl,xl,!1,function(t){n("TgcY")},"data-v-4da5c828",null);e.default=El.exports},S7jy:function(t,e){},SpdK:function(t,e,n){var i;i=function(){"use strict";function t(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function e(t,e){return t<e?-1:t>e?1:0}return function(n,i,r,o,s){!function e(n,i,r,o,s){for(;o>r;){if(o-r>600){var a=o-r+1,u=i-r+1,l=Math.log(a),c=.5*Math.exp(2*l/3),h=.5*Math.sqrt(l*c*(a-c)/a)*(u-a/2<0?-1:1),f=Math.max(r,Math.floor(i-u*c/a+h)),p=Math.min(o,Math.floor(i+(a-u)*c/a+h));e(n,i,f,p,s)}var d=n[i],v=r,g=o;for(t(n,r,i),s(n[o],d)>0&&t(n,r,o);v<g;){for(t(n,v,g),v++,g--;s(n[v],d)<0;)v++;for(;s(n[g],d)>0;)g--}0===s(n[r],d)?t(n,r,g):t(n,++g,o),g<=i&&(r=g+1),i<=g&&(o=g-1)}}(n,i,r||0,o||n.length-1,s||e)}},t.exports=i()},TgcY:function(t,e){},bOdI:function(t,e,n){"use strict";e.__esModule=!0;var i,r=n("C4MV"),o=(i=r)&&i.__esModule?i:{default:i};e.default=function(t,e,n){return e in t?(0,o.default)(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},eAMf:function(t,e,n){var i;i=function(){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}({"/TTR":function(t,e,n){var i=n("g38Z");"string"==typeof i&&(i=[[t.i,i,""]]);var r={hmr:!0,transform:void 0};n("uOJK")(i,r),i.locals&&(t.exports=i.locals)},0:function(t,e,n){t.exports=n("v7nT")},"2sCs":function(t,e,n){t.exports=n("rBbO")},"5SCX":function(t,e){function n(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}t.exports=function(t){return null!=t&&(n(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&n(t.slice(0,0))}(t)||!!t._isBuffer)}},"5Srp":function(t,e,n){"use strict";var i=n("gvuQ"),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,o,s={};return t?(i.forEach(t.split("\n"),function(t){if(o=t.indexOf(":"),e=i.trim(t.substr(0,o)).toLowerCase(),n=i.trim(t.substr(o+1)),e){if(s[e]&&r.indexOf(e)>=0)return;s[e]="set-cookie"===e?(s[e]?s[e]:[]).concat([n]):s[e]?s[e]+", "+n:n}}),s):s}},"5p4y":function(t,e){t.exports=function(t,e){for(var n=[],i={},r=0;r<e.length;r++){var o=e[r],s=o[0],a={id:t+":"+r,css:o[1],media:o[2],sourceMap:o[3]};i[s]?i[s].parts.push(a):n.push(i[s]={id:s,parts:[a]})}return n}},"68ub":function(t,e,n){"use strict";function i(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var n=this;t(function(t){n.reason||(n.reason=new r(t),e(n.reason))})}var r=n("DkjP");i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var t;return{token:new i(function(e){t=e}),cancel:t}},t.exports=i},"8bZh":function(t,e,n){"use strict";var i=n("gvuQ");t.exports=i.isStandardBrowserEnv()?function(){function t(t){var e=t;return n&&(r.setAttribute("href",e),e=r.href),r.setAttribute("href",e),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}var e,n=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");return e=t(window.location.href),function(n){var r=i.isString(n)?t(n):n;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}},BJD5:function(t,e,n){"use strict";function i(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var r=n("gvuQ");t.exports=function(t,e,n){if(!e)return t;var o;if(n)o=n(e);else if(r.isURLSearchParams(e))o=e.toString();else{var s=[];r.forEach(e,function(t,e){null!==t&&void 0!==t&&(r.isArray(t)&&(e+="[]"),r.isArray(t)||(t=[t]),r.forEach(t,function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),s.push(i(e)+"="+i(t))}))}),o=s.join("&")}return o&&(t+=(-1===t.indexOf("?")?"?":"&")+o),t}},BkJT:function(t,e){function n(t,e){var n=t[1]||"",i=t[3];if(!i)return n;if(e&&"function"==typeof btoa){var r=function(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}(i);return[n].concat(i.sources.map(function(t){return"/*# sourceURL="+i.sourceRoot+t+" */"})).concat([r]).join("\n")}return[n].join("\n")}t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var i=n(e,t);return e[2]?"@media "+e[2]+"{"+i+"}":i}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(i[o]=!0)}for(r=0;r<t.length;r++){var s=t[r];"number"==typeof s[0]&&i[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),e.push(s))}},e}},BzCt:function(t,e,n){"use strict";var i=n("gvuQ"),r=n("T6bJ"),o=n("BJD5"),s=n("5Srp"),a=n("8bZh"),u=n("xxJ0"),l="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||n("ehz/");t.exports=function(t){return new Promise(function(e,c){var h=t.data,f=t.headers;i.isFormData(h)&&delete f["Content-Type"];var p=new XMLHttpRequest,d="onreadystatechange",v=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in p||a(t.url)||(p=new window.XDomainRequest,d="onload",v=!0,p.onprogress=function(){},p.ontimeout=function(){}),t.auth){var g=t.auth.username||"",m=t.auth.password||"";f.Authorization="Basic "+l(g+":"+m)}if(p.open(t.method.toUpperCase(),o(t.url,t.params,t.paramsSerializer),!0),p.timeout=t.timeout,p[d]=function(){if(p&&(4===p.readyState||v)&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in p?s(p.getAllResponseHeaders()):null,i={data:t.responseType&&"text"!==t.responseType?p.response:p.responseText,status:1223===p.status?204:p.status,statusText:1223===p.status?"No Content":p.statusText,headers:n,config:t,request:p};r(e,c,i),p=null}},p.onerror=function(){c(u("Network Error",t,null,p)),p=null},p.ontimeout=function(){c(u("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",p)),p=null},i.isStandardBrowserEnv()){var y=n("h1nK"),_=(t.withCredentials||a(t.url))&&t.xsrfCookieName?y.read(t.xsrfCookieName):void 0;_&&(f[t.xsrfHeaderName]=_)}if("setRequestHeader"in p&&i.forEach(f,function(t,e){void 0===h&&"content-type"===e.toLowerCase()?delete f[e]:p.setRequestHeader(e,t)}),t.withCredentials&&(p.withCredentials=!0),t.responseType)try{p.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&p.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(t){p&&(p.abort(),c(t),p=null)}),void 0===h&&(h=null),p.send(h)})}},C7Lr:function(t,e){t.exports=function(t,e,n,i,r,o){var s,a=t=t||{},u=typeof t.default;"object"!==u&&"function"!==u||(s=t,a=t.default);var l,c="function"==typeof a?a.options:a;if(e&&(c.render=e.render,c.staticRenderFns=e.staticRenderFns,c._compiled=!0),n&&(c.functional=!0),r&&(c._scopeId=r),o?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},c._ssrRegister=l):i&&(l=i),l){var h=c.functional,f=h?c.render:c.beforeCreate;h?(c._injectStyles=l,c.render=function(t,e){return l.call(e),f(t,e)}):c.beforeCreate=f?[].concat(f,l):[l]}return{esModule:s,exports:a,options:c}}},DkjP:function(t,e,n){"use strict";function i(t){this.message=t}i.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},i.prototype.__CANCEL__=!0,t.exports=i},EW1H:function(t,e,n){"use strict";function i(t){t.cancelToken&&t.cancelToken.throwIfRequested()}var r=n("gvuQ"),o=n("cx5j"),s=n("eoZI"),a=n("XL/d"),u=n("LD7k"),l=n("cQJ/");t.exports=function(t){return i(t),t.baseURL&&!u(t.url)&&(t.url=l(t.baseURL,t.url)),t.headers=t.headers||{},t.data=o(t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||a.adapter)(t).then(function(e){return i(t),e.data=o(e.data,e.headers,t.transformResponse),e},function(e){return s(e)||(i(t),e&&e.response&&(e.response.data=o(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},EZEp:function(t,e,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},FIqI:function(t,e,n){function i(t){for(var e=0;e<t.length;e++){var n=t[e],i=l[n.id];if(i){i.refs++;for(var r=0;r<i.parts.length;r++)i.parts[r](n.parts[r]);for(;r<n.parts.length;r++)i.parts.push(o(n.parts[r]));i.parts.length>n.parts.length&&(i.parts.length=n.parts.length)}else{var s=[];for(r=0;r<n.parts.length;r++)s.push(o(n.parts[r]));l[n.id]={id:n.id,refs:1,parts:s}}}}function r(){var t=document.createElement("style");return t.type="text/css",c.appendChild(t),t}function o(t){var e,n,i=document.querySelector("style["+g+'~="'+t.id+'"]');if(i){if(p)return d;i.parentNode.removeChild(i)}if(m){var o=f++;i=h||(h=r()),e=s.bind(null,i,o,!1),n=s.bind(null,i,o,!0)}else i=r(),e=function(t,e){var n=e.css,i=e.media,r=e.sourceMap;if(i&&t.setAttribute("media",i),v.ssrId&&t.setAttribute(g,e.id),r&&(n+="\n/*# sourceURL="+r.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,i),n=function(){i.parentNode.removeChild(i)};return e(t),function(i){if(i){if(i.css===t.css&&i.media===t.media&&i.sourceMap===t.sourceMap)return;e(t=i)}else n()}}function s(t,e,n,i){var r=n?"":i.css;if(t.styleSheet)t.styleSheet.cssText=y(e,r);else{var o=document.createTextNode(r),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(o,s[e]):t.appendChild(o)}}var a="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!a)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var u=n("5p4y"),l={},c=a&&(document.head||document.getElementsByTagName("head")[0]),h=null,f=0,p=!1,d=function(){},v=null,g="data-vue-ssr-id",m="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());t.exports=function(t,e,n,r){p=n,v=r||{};var o=u(t,e);return i(o),function(e){for(var n=[],r=0;r<o.length;r++){var s=o[r];(a=l[s.id]).refs--,n.push(a)}e?i(o=u(t,e)):o=[];for(r=0;r<n.length;r++){var a;if(0===(a=n[r]).refs){for(var c=0;c<a.parts.length;c++)a.parts[c]();delete l[a.id]}}}};var y=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},IKeO:function(t,e,n){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];return t.apply(e,n)}}},LD7k:function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},ME29:function(t,e,n){var i=n("ifc8");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals),n("FIqI")("2c6db638",i,!0,{})},N3gQ:function(t,e,n){(function(n){var i,r,o,s;s=function(){"use strict";function e(t,e,n){var i=new XMLHttpRequest;i.open("GET",t),i.responseType="blob",i.onload=function(){s(i.response,e,n)},i.onerror=function(){},i.send()}function i(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function r(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(n){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var o="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n&&n.global===n?n:void 0,s=o.saveAs||("object"!=typeof window||window!==o?function(){}:"download"in HTMLAnchorElement.prototype?function(t,n,s){var a=o.URL||o.webkitURL,u=document.createElement("a");n=n||t.name||"download",u.download=n,u.rel="noopener","string"==typeof t?(u.href=t,u.origin===location.origin?r(u):i(u.href)?e(t,n,s):r(u,u.target="_blank")):(u.href=a.createObjectURL(t),setTimeout(function(){a.revokeObjectURL(u.href)},4e4),setTimeout(function(){r(u)},0))}:"msSaveOrOpenBlob"in navigator?function(t,n,o){if(n=n||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(function(t,e){return void 0===e?e={autoBom:!1}:"object"!=typeof e&&(e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}(t,o),n);else if(i(t))e(t,n,o);else{var s=document.createElement("a");s.href=t,s.target="_blank",setTimeout(function(){r(s)})}}:function(t,n,i,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof t)return e(t,n,i);var s="application/octet-stream"===t.type,a=/constructor/i.test(o.HTMLElement)||o.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||s&&a)&&"object"==typeof FileReader){var l=new FileReader;l.onloadend=function(){var t=l.result;t=u?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=t:location=t,r=null},l.readAsDataURL(t)}else{var c=o.URL||o.webkitURL,h=c.createObjectURL(t);r?r.location=h:location.href=h,r=null,setTimeout(function(){c.revokeObjectURL(h)},4e4)}});o.saveAs=s.saveAs=s,void 0!==t&&(t.exports=s)},r=[],void 0!==(o="function"==typeof(i=s)?i.apply(e,r):i)&&(t.exports=o)}).call(e,n("mFPK"))},NQr8:function(t,e,n){"use strict";function i(t){this.defaults=t,this.interceptors={request:new s,response:new s}}var r=n("XL/d"),o=n("gvuQ"),s=n("gvu/"),a=n("EW1H");i.prototype.request=function(t){"string"==typeof t&&(t=o.merge({url:arguments[0]},arguments[1])),(t=o.merge(r,this.defaults,{method:"get"},t)).method=t.method.toLowerCase();var e=[a,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});e.length;)n=n.then(e.shift(),e.shift());return n},o.forEach(["delete","get","head","options"],function(t){i.prototype[t]=function(e,n){return this.request(o.merge(n||{},{method:t,url:e}))}}),o.forEach(["post","put","patch"],function(t){i.prototype[t]=function(e,n,i){return this.request(o.merge(i||{},{method:t,url:e,data:n}))}}),t.exports=i},OIH2:function(t,e,n){"use strict";t.exports=function(t,e,n,i,r){return t.config=e,n&&(t.code=n),t.request=i,t.response=r,t}},T6bJ:function(t,e,n){"use strict";var i=n("xxJ0");t.exports=function(t,e,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?e(i("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}},V0EG:function(t,e){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function r(t){if(l===setTimeout)return setTimeout(t,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function o(){d&&f&&(d=!1,f.length?p=f.concat(p):v=-1,p.length&&s())}function s(){if(!d){var t=r(o);d=!0;for(var e=p.length;e;){for(f=p,p=[];++v<e;)f&&f[v].run();v=-1,e=p.length}f=null,d=!1,function(t){if(c===clearTimeout)return clearTimeout(t);if((c===i||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(t);try{c(t)}catch(e){try{return c.call(null,t)}catch(e){return c.call(this,t)}}}(t)}}function a(t,e){this.fun=t,this.array=e}function u(){}var l,c,h=t.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(t){l=n}try{c="function"==typeof clearTimeout?clearTimeout:i}catch(t){c=i}}();var f,p=[],d=!1,v=-1;h.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];p.push(new a(t,e)),1!==p.length||d||r(s)},a.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=u,h.addListener=u,h.once=u,h.off=u,h.removeListener=u,h.removeAllListeners=u,h.emit=u,h.prependListener=u,h.prependOnceListener=u,h.listeners=function(t){return[]},h.binding=function(t){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(t){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},"XL/d":function(t,e,n){"use strict";(function(e){function i(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var r=n("gvuQ"),o=n("vyL3"),s={"Content-Type":"application/x-www-form-urlencoded"},a={adapter:function(){var t;return"undefined"!=typeof XMLHttpRequest?t=n("BzCt"):void 0!==e&&(t=n("BzCt")),t}(),transformRequest:[function(t,e){return o(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t)?t:r.isArrayBufferView(t)?t.buffer:r.isURLSearchParams(t)?(i(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):r.isObject(t)?(i(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],function(t){a.headers[t]={}}),r.forEach(["post","put","patch"],function(t){a.headers[t]=r.merge(s)}),t.exports=a}).call(e,n("V0EG"))},"ZMF+":function(t,e,n){"use strict";var i={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"player-wrapper"},[n("div",{staticClass:"video-wrapper",style:t.videoWrapperStyle},[n("div",{staticClass:"video-inner",class:{live:t.live,"hide-waiting":t.hideWaiting},staticStyle:{position:"absolute",top:"0",bottom:"0",left:"0",right:"0"}}),t._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:t.videoTitle,expression:"videoTitle"}],staticClass:"video-title",attrs:{title:t.videoTitle}},[t._v(t._s(t.videoTitle))])])])},staticRenderFns:[]};e.a=i},"cQJ/":function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},cx5j:function(t,e,n){"use strict";var i=n("gvuQ");t.exports=function(t,e,n){return i.forEach(n,function(n){t=n(t,e)}),t}},"ehz/":function(t,e,n){"use strict";function i(){this.message="String contains an invalid character"}var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.prototype=new Error,i.prototype.code=5,i.prototype.name="InvalidCharacterError",t.exports=function(t){for(var e,n,o=String(t),s="",a=0,u=r;o.charAt(0|a)||(u="=",a%1);s+=u.charAt(63&e>>8-a%1*8)){if((n=o.charCodeAt(a+=.75))>255)throw new i;e=e<<8|n}return s}},eoZI:function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},g38Z:function(t,e,n){(t.exports=n("BkJT")(void 0)).push([t.i,'.video-js .vjs-big-play-button .vjs-icon-placeholder:before,.video-js .vjs-modal-dialog,.vjs-button>.vjs-icon-placeholder:before,.vjs-modal-dialog .vjs-modal-dialog-content{position:absolute;top:0;left:0;width:100%;height:100%}.video-js .vjs-big-play-button .vjs-icon-placeholder:before,.vjs-button>.vjs-icon-placeholder:before{text-align:center}@font-face{font-family:VideoJS;src:url(data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAABDkAAsAAAAAG6gAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAADsAAABUIIslek9TLzIAAAFEAAAAPgAAAFZRiV3hY21hcAAAAYQAAADaAAADPv749/pnbHlmAAACYAAAC3AAABHQZg6OcWhlYWQAAA3QAAAAKwAAADYZw251aGhlYQAADfwAAAAdAAAAJA+RCLFobXR4AAAOHAAAABMAAACM744AAGxvY2EAAA4wAAAASAAAAEhF6kqubWF4cAAADngAAAAfAAAAIAE0AIFuYW1lAAAOmAAAASUAAAIK1cf1oHBvc3QAAA/AAAABJAAAAdPExYuNeJxjYGRgYOBiMGCwY2BycfMJYeDLSSzJY5BiYGGAAJA8MpsxJzM9kYEDxgPKsYBpDiBmg4gCACY7BUgAeJxjYGS7wTiBgZWBgaWQ5RkDA8MvCM0cwxDOeI6BgYmBlZkBKwhIc01hcPjI+FGJHcRdyA4RZgQRADK3CxEAAHic7dFZbsMgAEXRS0ycyZnnOeG7y+qC8pU1dHusIOXxuoxaOlwZYWQB0Aea4quIEN4E9LzKbKjzDeM6H/mua6Lmc/p8yhg0lvdYx15ZG8uOLQOGjMp3EzqmzJizYMmKNRu27Nhz4MiJMxeu3Ljz4Ekqm7T8P52G8PP3lnTOVk++Z6iN6QZzNN1F7ptuN7eGOjDUoaGODHVsuvU8MdTO9Hd5aqgzQ50b6sJQl4a6MtS1oW4MdWuoO0PdG+rBUI+GejLUs6FeDPVqqDdDvRvqw1CfhpqM9At0iFLaAAB4nJ1YDXBTVRZ+5/22TUlJ8we0pHlJm7RJf5O8F2j6EymlSPkpxaL8U2xpa3DKj0CBhc2IW4eWKSokIoLsuMqssM64f+jA4HSdWXXXscBq67IOs3FXZ1ZYWVyRFdo899yXtIBQZ90k7717zz3v3HPPOfd854YCCj9cL9dL0RQFOqCbGJnrHb5EayiKIWN8iA/hWBblo6hUWm8TtCDwE80WMJus/irwyxOdxeB0MDb14VNJHnXYoLLSl6FfCUYO9nYPTA8Epg9090LprfbBbZ2hY0UlJUXHQp3/vtWkS6EBv8+rPMq5u9692f/dNxJNiqwC1xPE9TCUgCsSdQWgE3XQD25lkG4CN2xmTcOXWBOyser6RN6KnGbKSbmQ3+d0OI1m2W8QzLLkI2sykrWAgJJEtA8vGGW/2Q+CmT3n8zS9wZwu2DCvtuZKZN3xkrLh36yCZuUomQSqGpY8t/25VfHVhw8z4ebGBtfLb0ya9PCaDc+8dGTvk2dsh6z7WzvowlXKUSWo9MJ15a3KrEP2loOr2Ojhw6iW6hf2BDdEccQvZGpaAy7YovSwq8kr7HGllxpd71rkS6G0Sf11sl9OvMK1+jwPPODxjUwkOim9CU3ix1wNjXDfmJSEn618Bs6lpWwUpU+8PCqLMY650zjq8VhCIP17NEKTx3eaLL+s5Pi6yJWaWjTHLR1jYzPSV9VF/6Ojdb/1kO3Mk3uhHC0x6gc1BjlKQ+nQFxTYdaJkZ7ySVxLBbhR1dsboNXp1tCYKW2LRaEzpYcIx2BKNxaL0ZaUnSqfFoiNhHKR/GkX6PWUSAaJelQaqZL1EpoHNsajSEyPSoJ9IjhIxTdjHLmwZvhRDOiFTY/YeQnvrVZmiTQtGncECXtFTBZLOVwwMRgoXHAkXzMzPn1nAJJ8jYSbMDaqN2waGLzNhih/bZynUBMpIWSg7VYi7DRx2m8ALkIdRCJwI6ArJx2EI8kaDWeTQKeAFk9fjl/1AvwktjQ1P7NjyMGQyfd4vjipX6M/i52D7Cq80kqlcxEcGXRr/FEcgs0u5uGgB4VWuMFfpdn2Re6Hi3PqzmxWKsz6+ae2Pn9hXXw/fqM859UiGC0oKYYILJBqJrsn1Z1E5qOs9rQCiUQRREjm8yJcbHF5cUJufX1vAHlefw0XgUoboS3ETfQlTxBC4SOtuE8VPRJTBSCQSjZCpk7Gqzu+masaZ2y7Zjehho4F3g82BNDkAHpORG4+OCS+f6JTPmtRn/PH1kch6d04sp7AQb25aQ/pqUyXeQ8vrebG8OYQdXOQ+585u0sdW9rqalzRURiJ+9F4MweRFrKUjl1GUYhH1A27WOHw5cTFSFPMo9EeUIGnQTZHIaJ7AHLaOKsOODaNF9jkBjYG2QEsQ2xjMUAx2bBEbeTBWMHwskBjngq56S/yfgkBnWBa4K9sqKtq2t1UI8S9He5XuBRbawAdatrQEAi30Aks2+LM8WeCbalVZkWNylvJ+dqJnzVb+OHlSoKW8nPCP7Rd+CcZ2DdWAGqJ2CBFOphgywFFCFBNtfAbGtNPBCwxvygHeYMZMY9ZboBqwq/pVrsbgN5tkv152ODlbMfiqwGMBgxa4Exz3QhovRIUp6acqZmQzRq0ypDXS2TPLT02YIkQETnOE445oOGxOmXAqUJNNG7XgupMjPq2ua9asrj5yY/yuKteO1Kx0YNJTufrirLe1mZnat7OL6rnUdCWenpW6I8mAnbsY8KWs1PuSovCW9A/Z25PQ24a7cNOqgmTkLmBMgh4THgc4b9k2IVv1/g/F5nGljwPLfOgHAzJzh45V/4+WenTzmMtR5Z7us2Tys909UHqrPY7KbckoxRvRHhmVc3cJGE97uml0R1S0jdULVl7EvZtDFVBF35N9cEdjpgmAiOlFZ+Dtoh93+D3zzHr8RRNZQhnCNMNbcegOvpEwZoL+06cJQ07h+th3fZ/7PVbVC6ngTAV/KoLFuO6+2KFcU651gEb5ugPSIb1D+Xp8V4+k3sEIGnw5mYe4If4k1lFYr6SCzmM2EQ8iWtmwjnBI9kTwe1TlfAmXh7H02by9fW2gsjKwtv0aaURKil4OdV7rDL1MXIFNrhdxohcZXYTnq47WisrKitaObbf5+yvkLi5J6lCNZZ+B6GC38VNBZBDidSS/+mSvh6s+srgC8pyKMvDtt+de3c9fU76ZPfuM8ud4Kv0fyP/LqfepMT/3oZxSqpZaTa1DaQYLY8TFsHYbWYsPoRhRWfL5eSSQbhUGgGC3YLbVMk6PitTFNGpAsNrC6D1VNBKgBHMejaiuRWEWGgsSDBTJjqWIl8kJLlsaLJ2tXDr6xGfT85bM2Q06a46x2HTgvdnV8z5YDy/27J4zt6x2VtkzjoYpkq36kaBr4eQSg7tyiVweWubXZugtadl58ydapfbORfKsDTuZ0OBgx4cfdjCf5tbWNITnL120fdOi1RV1C3uKGzNdwYLcMvZ3BxoPyTOCD1XvXTp7U10gWCVmTV9b3r2z0SkGWovb2hp9I89O8a2smlyaO8muMU+dRmtzp60IzAoFpjLr1n388boLyf0dRvxhsHZ0qbWqDkwqvvpkj4l0fY6EIXRi5sQSrAvsVYwXRy4qJ2EVtD1AN7a0HWth9ymvL1xc3WTUKK/TAHA/bXDVtVWfOMfuGxGZv4Ln/jVr9jc3j1yMv0tndmyt9Vq88Y9gH1wtLX3KWjot5++jWHgAoZZkQ14wGQ20Fli71UmKJAy4xKMSTGbVdybW7FDDAut9XpD5AzWrYO7zQ8qffqF8+Ynd/clrHcdyxGy3a/3+mfNnzC/cBsveTjnTvXf1o6vzOlZw7WtqtdmPK/Errz/6NNtD72zmNOZfbmYdTGHfoofqI79Oc+R2n1lrnL6pOm0Up7kwxhTW12Amm7WYkXR2qYrF2AmgmbAsxZjwy1xpg/m1Je2vrp8v/nz2xpmlBg4E9hrMU341wVpTOh/OfmGvAnra8q6uctr60ZQHV3Q+WMQJykMj8ZsWn2QBOmmHMB+m5pDIpTFonYigiaKAhGEiAHF7EliVnQkjoLVIMPtJpBKHYd3A8GYH9jJzrWwmHx5Qjp7vDAX0suGRym1vtm/9W1/HyR8vczfMs6Sk8DSv855/5dlX9oQq52hT8syyp2rx5Id17IAyAM3wIjQPMOHzytEB64q6D5zT91yNbnx3V/nqnd017S9Y0605k3izoXLpsxde2n38yoOV9s1LcjwzNjbdX6asnBVaBj/6/DwKwPkpcqbDG7BnsXoSqWnUAmottYF6jMSdVyYZh3zVXCjwTiwwHH6sGuRiEHQGzuRX6whZkp123oy1BWE2mEfJ/tvIRtM4ZM5bDXiMsPMaAKOTyc5uL57rqyyc5y5JE5pm1i2S2iUX0CcaQ6lC6Zog7JqSqZmYlosl2K6pwNA84zRnQW6SaALYZQGW5lhCtU/W34N6o+bKfZ8cf3/Cl/+iTX3wBzpOY4mRkeNf3rptycGSshQWgGbYt5jFc2e0+DglIrwl6DVWQ7BuwaJ3Xk1J4VL5urnLl/Wf+gHU/hZoZdKNym6lG+I34FaNeZKcSpJIo2IeCVvpdsDGfKvzJnAwmeD37Ow65ZWwSowpgwX5T69s/rB55dP5BcpgDKFV8p7q2sn/1uc93bVzT/w6UrCqDTWvfCq/oCD/qZXNoUj8BL5Kp6GU017frfNXkAtiiyf/SOCEeLqnd8R/Ql9GlCRfctS6k5chvIBuQ1zCCjoCHL2DHNHIXxMJ3kQeO8lbsUXONeSfA5EjcG6/E+KdhN4bP04vBhdi883+BFBzQbxFbvZzQeY9LNBZc0FNfn5NwfDn6rCTnTw6R8o+gfpf5hCom33cRuiTlss3KHmZjD+BPN+5gXuA2ziS/Q73mLxUkpbKN/eqwz5uK0X9F3h2d1V4nGNgZGBgAOJd776+iue3+crAzc4AAje5Bfcg0xz9YHEOBiYQBQA8FQlFAHicY2BkYGBnAAGOPgaG//85+hkYGVCBMgBGGwNYAAAAeJxjYGBgYB8EmKOPgQEAQ04BfgAAAAAAAA4AaAB+AMwA4AECAUIBbAGYAcICGAJYArQC4AMwA7AD3gQwBJYE3AUkBWYFigYgBmYGtAbqB1gIEghYCG4IhAi2COh4nGNgZGBgUGYoZWBnAAEmIOYCQgaG/2A+AwAYCQG2AHicXZBNaoNAGIZfE5PQCKFQ2lUps2oXBfOzzAESyDKBQJdGR2NQR3QSSE/QE/QEPUUPUHqsvsrXjTMw83zPvPMNCuAWP3DQDAejdm1GjzwS7pMmwi75XngAD4/CQ/oX4TFe4Qt7uMMbOzjuDc0EmXCP/C7cJ38Iu+RP4QEe8CU8pP8WHmOPX2EPz87TPo202ey2OjlnQSXV/6arOjWFmvszMWtd6CqwOlKHq6ovycLaWMWVydXKFFZnmVFlZU46tP7R2nI5ncbi/dDkfDtFBA2DDXbYkhKc+V0Bqs5Zt9JM1HQGBRTm/EezTmZNKtpcAMs9Yu6AK9caF76zoLWIWcfMGOSkVduvSWechqZsz040Ib2PY3urxBJTzriT95lipz+TN1fmAAAAeJxtkMl2wjAMRfOAhABlKm2h80C3+ajgCKKDY6cegP59TYBzukAL+z1Zsq8ctaJTTKPrsUQLbXQQI0EXKXroY4AbDDHCGBNMcYsZ7nCPB8yxwCOe8IwXvOIN7/jAJ76wxHfUqWX+OzgumWAjJMV17i0Ndlr6irLKO+qftdT7i6y4uFSUvCknay+lFYZIZaQcmfH/xIFdYn98bqhra1aKTM/6lWMnyaYirx1rFUQZFBkb2zJUtoXeJCeg0WnLtHeSFc3OtrnozNwqi0TkSpBMDB1nSde5oJXW23hTS2/T0LilglXX7dmFVxLnq5U0vYATHFk3zX3BOisoQHNDFDeZnqKDy9hRNawN7Vh727hFzcJ5c8TILrKZfH7tIPxAFP0BpLeJPA==) format("woff");font-weight:400;font-style:normal}.video-js .vjs-big-play-button .vjs-icon-placeholder:before,.video-js .vjs-play-control .vjs-icon-placeholder,.vjs-icon-play{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-big-play-button .vjs-icon-placeholder:before,.video-js .vjs-play-control .vjs-icon-placeholder:before,.vjs-icon-play:before{content:"\\F101"}.vjs-icon-play-circle{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-play-circle:before{content:"\\F102"}.video-js .vjs-play-control.vjs-playing .vjs-icon-placeholder,.vjs-icon-pause{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-play-control.vjs-playing .vjs-icon-placeholder:before,.vjs-icon-pause:before{content:"\\F103"}.video-js .vjs-mute-control.vjs-vol-0 .vjs-icon-placeholder,.vjs-icon-volume-mute{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-mute-control.vjs-vol-0 .vjs-icon-placeholder:before,.vjs-icon-volume-mute:before{content:"\\F104"}.video-js .vjs-mute-control.vjs-vol-1 .vjs-icon-placeholder,.vjs-icon-volume-low{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-mute-control.vjs-vol-1 .vjs-icon-placeholder:before,.vjs-icon-volume-low:before{content:"\\F105"}.video-js .vjs-mute-control.vjs-vol-2 .vjs-icon-placeholder,.vjs-icon-volume-mid{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-mute-control.vjs-vol-2 .vjs-icon-placeholder:before,.vjs-icon-volume-mid:before{content:"\\F106"}.video-js .vjs-mute-control .vjs-icon-placeholder,.vjs-icon-volume-high{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-mute-control .vjs-icon-placeholder:before,.vjs-icon-volume-high:before{content:"\\F107"}.video-js .vjs-fullscreen-control .vjs-icon-placeholder,.vjs-icon-fullscreen-enter{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-fullscreen-control .vjs-icon-placeholder:before,.vjs-icon-fullscreen-enter:before{content:"\\F108"}.video-js.vjs-fullscreen .vjs-fullscreen-control .vjs-icon-placeholder,.vjs-icon-fullscreen-exit{font-family:VideoJS;font-weight:400;font-style:normal}.video-js.vjs-fullscreen .vjs-fullscreen-control .vjs-icon-placeholder:before,.vjs-icon-fullscreen-exit:before{content:"\\F109"}.vjs-icon-square{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-square:before{content:"\\F10A"}.vjs-icon-spinner{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-spinner:before{content:"\\F10B"}.video-js.video-js:lang(en-AU) .vjs-subs-caps-button .vjs-icon-placeholder,.video-js.video-js:lang(en-GB) .vjs-subs-caps-button .vjs-icon-placeholder,.video-js.video-js:lang(en-IE) .vjs-subs-caps-button .vjs-icon-placeholder,.video-js.video-js:lang(en-NZ) .vjs-subs-caps-button .vjs-icon-placeholder,.video-js .vjs-subs-caps-button .vjs-icon-placeholder,.video-js .vjs-subtitles-button .vjs-icon-placeholder,.vjs-icon-subtitles{font-family:VideoJS;font-weight:400;font-style:normal}.video-js.video-js:lang(en-AU) .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js.video-js:lang(en-GB) .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js.video-js:lang(en-IE) .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js.video-js:lang(en-NZ) .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js .vjs-subtitles-button .vjs-icon-placeholder:before,.vjs-icon-subtitles:before{content:"\\F10C"}.video-js .vjs-captions-button .vjs-icon-placeholder,.video-js:lang(en) .vjs-subs-caps-button .vjs-icon-placeholder,.video-js:lang(fr-CA) .vjs-subs-caps-button .vjs-icon-placeholder,.vjs-icon-captions{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-captions-button .vjs-icon-placeholder:before,.video-js:lang(en) .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js:lang(fr-CA) .vjs-subs-caps-button .vjs-icon-placeholder:before,.vjs-icon-captions:before{content:"\\F10D"}.video-js .vjs-chapters-button .vjs-icon-placeholder,.vjs-icon-chapters{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-chapters-button .vjs-icon-placeholder:before,.vjs-icon-chapters:before{content:"\\F10E"}.vjs-icon-share{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-share:before{content:"\\F10F"}.vjs-icon-cog{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-cog:before{content:"\\F110"}.video-js .vjs-play-progress,.video-js .vjs-volume-level,.vjs-icon-circle,.vjs-seek-to-live-control .vjs-icon-placeholder{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-play-progress:before,.video-js .vjs-volume-level:before,.vjs-icon-circle:before,.vjs-seek-to-live-control .vjs-icon-placeholder:before{content:"\\F111"}.vjs-icon-circle-outline{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-circle-outline:before{content:"\\F112"}.vjs-icon-circle-inner-circle{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-circle-inner-circle:before{content:"\\F113"}.vjs-icon-hd{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-hd:before{content:"\\F114"}.video-js .vjs-control.vjs-close-button .vjs-icon-placeholder,.vjs-icon-cancel{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-control.vjs-close-button .vjs-icon-placeholder:before,.vjs-icon-cancel:before{content:"\\F115"}.video-js .vjs-play-control.vjs-ended .vjs-icon-placeholder,.vjs-icon-replay{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-play-control.vjs-ended .vjs-icon-placeholder:before,.vjs-icon-replay:before{content:"\\F116"}.vjs-icon-facebook{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-facebook:before{content:"\\F117"}.vjs-icon-gplus{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-gplus:before{content:"\\F118"}.vjs-icon-linkedin{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-linkedin:before{content:"\\F119"}.vjs-icon-twitter{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-twitter:before{content:"\\F11A"}.vjs-icon-tumblr{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-tumblr:before{content:"\\F11B"}.vjs-icon-pinterest{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-pinterest:before{content:"\\F11C"}.video-js .vjs-descriptions-button .vjs-icon-placeholder,.vjs-icon-audio-description{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-descriptions-button .vjs-icon-placeholder:before,.vjs-icon-audio-description:before{content:"\\F11D"}.video-js .vjs-audio-button .vjs-icon-placeholder,.vjs-icon-audio{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-audio-button .vjs-icon-placeholder:before,.vjs-icon-audio:before{content:"\\F11E"}.vjs-icon-next-item{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-next-item:before{content:"\\F11F"}.vjs-icon-previous-item{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-previous-item:before{content:"\\F120"}.video-js .vjs-picture-in-picture-control .vjs-icon-placeholder,.vjs-icon-picture-in-picture-enter{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-picture-in-picture-control .vjs-icon-placeholder:before,.vjs-icon-picture-in-picture-enter:before{content:"\\F121"}.video-js.vjs-picture-in-picture .vjs-picture-in-picture-control .vjs-icon-placeholder,.vjs-icon-picture-in-picture-exit{font-family:VideoJS;font-weight:400;font-style:normal}.video-js.vjs-picture-in-picture .vjs-picture-in-picture-control .vjs-icon-placeholder:before,.vjs-icon-picture-in-picture-exit:before{content:"\\F122"}.video-js{display:block;vertical-align:top;box-sizing:border-box;color:#fff;background-color:#000;position:relative;padding:0;font-size:10px;line-height:1;font-weight:400;font-style:normal;font-family:Arial,Helvetica,sans-serif;word-break:normal}.video-js:-moz-full-screen{position:absolute}.video-js:-webkit-full-screen{width:100%!important;height:100%!important}.video-js[tabindex="-1"]{outline:none}.video-js *,.video-js :after,.video-js :before{box-sizing:inherit}.video-js ul{font-family:inherit;font-size:inherit;line-height:inherit;list-style-position:outside;margin:0}.video-js.vjs-4-3,.video-js.vjs-16-9,.video-js.vjs-fluid{width:100%;max-width:100%;height:0}.video-js.vjs-16-9{padding-top:56.25%}.video-js.vjs-4-3{padding-top:75%}.video-js.vjs-fill,.video-js .vjs-tech{width:100%;height:100%}.video-js .vjs-tech{position:absolute;top:0;left:0}body.vjs-full-window{padding:0;margin:0;height:100%}.vjs-full-window .video-js.vjs-fullscreen{position:fixed;overflow:hidden;z-index:1000;left:0;top:0;bottom:0;right:0}.video-js.vjs-fullscreen{width:100%!important;height:100%!important;padding-top:0!important}.video-js.vjs-fullscreen.vjs-user-inactive{cursor:none}.vjs-hidden{display:none!important}.vjs-disabled{opacity:.5;cursor:default}.video-js .vjs-offscreen{height:1px;left:-9999px;position:absolute;top:0;width:1px}.vjs-lock-showing{display:block!important;opacity:1;visibility:visible}.vjs-no-js{padding:20px;color:#fff;background-color:#000;font-size:18px;font-family:Arial,Helvetica,sans-serif;text-align:center;width:300px;height:150px;margin:0 auto}.vjs-no-js a,.vjs-no-js a:visited{color:#66a8cc}.video-js .vjs-big-play-button{font-size:3em;line-height:1.5em;height:1.63332em;width:3em;display:block;position:absolute;top:10px;left:10px;padding:0;cursor:pointer;opacity:1;border:.06666em solid #fff;background-color:#2b333f;background-color:rgba(43,51,63,.7);border-radius:.3em;transition:all .4s}.vjs-big-play-centered .vjs-big-play-button{top:50%;left:50%;margin-top:-.81666em;margin-left:-1.5em}.video-js .vjs-big-play-button:focus,.video-js:hover .vjs-big-play-button{border-color:#fff;background-color:#73859f;background-color:rgba(115,133,159,.5);transition:all 0s}.vjs-controls-disabled .vjs-big-play-button,.vjs-error .vjs-big-play-button,.vjs-has-started .vjs-big-play-button,.vjs-using-native-controls .vjs-big-play-button{display:none}.vjs-has-started.vjs-paused.vjs-show-big-play-button-on-pause .vjs-big-play-button{display:block}.video-js button{background:none;border:none;color:inherit;display:inline-block;font-size:inherit;line-height:inherit;text-transform:none;text-decoration:none;transition:none;-webkit-appearance:none;-moz-appearance:none;appearance:none}.vjs-control .vjs-button{width:100%;height:100%}.video-js .vjs-control.vjs-close-button{cursor:pointer;height:3em;position:absolute;right:0;top:.5em;z-index:2}.video-js .vjs-modal-dialog{background:rgba(0,0,0,.8);background:linear-gradient(180deg,rgba(0,0,0,.8),hsla(0,0%,100%,0));overflow:auto}.video-js .vjs-modal-dialog>*{box-sizing:border-box}.vjs-modal-dialog .vjs-modal-dialog-content{font-size:1.2em;line-height:1.5;padding:20px 24px;z-index:1}.vjs-menu-button{cursor:pointer}.vjs-menu-button.vjs-disabled{cursor:default}.vjs-workinghover .vjs-menu-button.vjs-disabled:hover .vjs-menu{display:none}.vjs-menu .vjs-menu-content{display:block;padding:0;margin:0;font-family:Arial,Helvetica,sans-serif;overflow:auto}.vjs-menu .vjs-menu-content>*{box-sizing:border-box}.vjs-scrubbing .vjs-control.vjs-menu-button:hover .vjs-menu{display:none}.vjs-menu li{list-style:none;margin:0;padding:.2em 0;line-height:1.4em;font-size:1.2em;text-align:center;text-transform:lowercase}.js-focus-visible .vjs-menu li.vjs-menu-item:hover,.vjs-menu li.vjs-menu-item:focus,.vjs-menu li.vjs-menu-item:hover{background-color:#73859f;background-color:rgba(115,133,159,.5)}.js-focus-visible .vjs-menu li.vjs-selected:hover,.vjs-menu li.vjs-selected,.vjs-menu li.vjs-selected:focus,.vjs-menu li.vjs-selected:hover{background-color:#fff;color:#2b333f}.vjs-menu li.vjs-menu-title{text-align:center;text-transform:uppercase;font-size:1em;line-height:2em;padding:0;margin:0 0 .3em;font-weight:700;cursor:default}.vjs-menu-button-popup .vjs-menu{display:none;position:absolute;bottom:0;width:10em;left:-3em;height:0;margin-bottom:1.5em;border-top-color:rgba(43,51,63,.7)}.vjs-menu-button-popup .vjs-menu .vjs-menu-content{background-color:#2b333f;background-color:rgba(43,51,63,.7);position:absolute;width:100%;bottom:1.5em;max-height:15em}.vjs-layout-tiny .vjs-menu-button-popup .vjs-menu .vjs-menu-content,.vjs-layout-x-small .vjs-menu-button-popup .vjs-menu .vjs-menu-content{max-height:5em}.vjs-layout-small .vjs-menu-button-popup .vjs-menu .vjs-menu-content{max-height:10em}.vjs-layout-medium .vjs-menu-button-popup .vjs-menu .vjs-menu-content{max-height:14em}.vjs-layout-huge .vjs-menu-button-popup .vjs-menu .vjs-menu-content,.vjs-layout-large .vjs-menu-button-popup .vjs-menu .vjs-menu-content,.vjs-layout-x-large .vjs-menu-button-popup .vjs-menu .vjs-menu-content{max-height:25em}.vjs-menu-button-popup .vjs-menu.vjs-lock-showing,.vjs-workinghover .vjs-menu-button-popup.vjs-hover .vjs-menu{display:block}.video-js .vjs-menu-button-inline{transition:all .4s;overflow:hidden}.video-js .vjs-menu-button-inline:before{width:2.222222222em}.video-js .vjs-menu-button-inline.vjs-slider-active,.video-js .vjs-menu-button-inline:focus,.video-js .vjs-menu-button-inline:hover,.video-js.vjs-no-flex .vjs-menu-button-inline{width:12em}.vjs-menu-button-inline .vjs-menu{opacity:0;height:100%;width:auto;position:absolute;left:4em;top:0;padding:0;margin:0;transition:all .4s}.vjs-menu-button-inline.vjs-slider-active .vjs-menu,.vjs-menu-button-inline:focus .vjs-menu,.vjs-menu-button-inline:hover .vjs-menu{display:block;opacity:1}.vjs-no-flex .vjs-menu-button-inline .vjs-menu{display:block;opacity:1;position:relative;width:auto}.vjs-no-flex .vjs-menu-button-inline.vjs-slider-active .vjs-menu,.vjs-no-flex .vjs-menu-button-inline:focus .vjs-menu,.vjs-no-flex .vjs-menu-button-inline:hover .vjs-menu{width:auto}.vjs-menu-button-inline .vjs-menu-content{width:auto;height:100%;margin:0;overflow:hidden}.video-js .vjs-control-bar{display:none;width:100%;position:absolute;bottom:0;left:0;right:0;height:3em;background-color:#2b333f;background-color:rgba(43,51,63,.7)}.vjs-has-started .vjs-control-bar{display:flex;visibility:visible;opacity:1;transition:visibility .1s,opacity .1s}.vjs-has-started.vjs-user-inactive.vjs-playing .vjs-control-bar{visibility:visible;opacity:0;transition:visibility 1s,opacity 1s}.vjs-controls-disabled .vjs-control-bar,.vjs-error .vjs-control-bar,.vjs-using-native-controls .vjs-control-bar{display:none!important}.vjs-audio.vjs-has-started.vjs-user-inactive.vjs-playing .vjs-control-bar{opacity:1;visibility:visible}.vjs-has-started.vjs-no-flex .vjs-control-bar{display:table}.video-js .vjs-control{position:relative;text-align:center;margin:0;padding:0;height:100%;width:4em;flex:none}.vjs-button>.vjs-icon-placeholder:before{font-size:1.8em;line-height:1.67}.video-js .vjs-control:focus,.video-js .vjs-control:focus:before,.video-js .vjs-control:hover:before{text-shadow:0 0 1em #fff}.video-js .vjs-control-text{border:0;clip:rect(0 0 0 0);height:1px;overflow:hidden;padding:0;position:absolute;width:1px}.vjs-no-flex .vjs-control{display:table-cell;vertical-align:middle}.video-js .vjs-custom-control-spacer{display:none}.video-js .vjs-progress-control{cursor:pointer;flex:auto;display:flex;align-items:center;min-width:4em;touch-action:none}.video-js .vjs-progress-control.disabled{cursor:default}.vjs-live .vjs-progress-control{display:none}.vjs-liveui .vjs-progress-control{display:flex;align-items:center}.vjs-no-flex .vjs-progress-control{width:auto}.video-js .vjs-progress-holder{flex:auto;transition:all .2s;height:.3em}.video-js .vjs-progress-control .vjs-progress-holder{margin:0 10px}.video-js .vjs-progress-control:hover .vjs-progress-holder{font-size:1.6666666667em}.video-js .vjs-progress-control:hover .vjs-progress-holder.disabled{font-size:1em}.video-js .vjs-progress-holder .vjs-load-progress,.video-js .vjs-progress-holder .vjs-load-progress div,.video-js .vjs-progress-holder .vjs-play-progress{position:absolute;display:block;height:100%;margin:0;padding:0;width:0}.video-js .vjs-play-progress{background-color:#fff}.video-js .vjs-play-progress:before{font-size:.9em;position:absolute;right:-.5em;top:-.3333333333em;z-index:1}.video-js .vjs-load-progress{background:rgba(115,133,159,.5)}.video-js .vjs-load-progress div{background:rgba(115,133,159,.75)}.video-js .vjs-time-tooltip{background-color:#fff;background-color:hsla(0,0%,100%,.8);border-radius:.3em;color:#000;float:right;font-family:Arial,Helvetica,sans-serif;font-size:1em;padding:6px 8px 8px;pointer-events:none;position:absolute;top:-3.4em;visibility:hidden;z-index:1}.video-js .vjs-progress-holder:focus .vjs-time-tooltip{display:none}.video-js .vjs-progress-control:hover .vjs-progress-holder:focus .vjs-time-tooltip,.video-js .vjs-progress-control:hover .vjs-time-tooltip{display:block;font-size:.6em;visibility:visible}.video-js .vjs-progress-control.disabled:hover .vjs-time-tooltip{font-size:1em}.video-js .vjs-progress-control .vjs-mouse-display{display:none;position:absolute;width:1px;height:100%;background-color:#000;z-index:1}.vjs-no-flex .vjs-progress-control .vjs-mouse-display{z-index:0}.video-js .vjs-progress-control:hover .vjs-mouse-display{display:block}.video-js.vjs-user-inactive .vjs-progress-control .vjs-mouse-display{visibility:hidden;opacity:0;transition:visibility 1s,opacity 1s}.video-js.vjs-user-inactive.vjs-no-flex .vjs-progress-control .vjs-mouse-display{display:none}.vjs-mouse-display .vjs-time-tooltip{color:#fff;background-color:#000;background-color:rgba(0,0,0,.8)}.video-js .vjs-slider{position:relative;cursor:pointer;padding:0;margin:0 .45em;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:#73859f;background-color:rgba(115,133,159,.5)}.video-js .vjs-slider.disabled{cursor:default}.video-js .vjs-slider:focus{text-shadow:0 0 1em #fff;box-shadow:0 0 1em #fff}.video-js .vjs-mute-control{cursor:pointer;flex:none}.video-js .vjs-volume-control{cursor:pointer;margin-right:1em;display:flex}.video-js .vjs-volume-control.vjs-volume-horizontal{width:5em}.video-js .vjs-volume-panel .vjs-volume-control{visibility:visible;opacity:0;width:1px;height:1px;margin-left:-1px}.video-js .vjs-volume-panel{transition:width 1s}.video-js .vjs-volume-panel.vjs-hover .vjs-mute-control~.vjs-volume-control,.video-js .vjs-volume-panel.vjs-hover .vjs-volume-control,.video-js .vjs-volume-panel .vjs-volume-control.vjs-slider-active,.video-js .vjs-volume-panel .vjs-volume-control:active,.video-js .vjs-volume-panel:active .vjs-volume-control,.video-js .vjs-volume-panel:focus .vjs-volume-control{visibility:visible;opacity:1;position:relative;transition:visibility .1s,opacity .1s,height .1s,width .1s,left 0s,top 0s}.video-js .vjs-volume-panel.vjs-hover .vjs-mute-control~.vjs-volume-control.vjs-volume-horizontal,.video-js .vjs-volume-panel.vjs-hover .vjs-volume-control.vjs-volume-horizontal,.video-js .vjs-volume-panel .vjs-volume-control.vjs-slider-active.vjs-volume-horizontal,.video-js .vjs-volume-panel .vjs-volume-control:active.vjs-volume-horizontal,.video-js .vjs-volume-panel:active .vjs-volume-control.vjs-volume-horizontal,.video-js .vjs-volume-panel:focus .vjs-volume-control.vjs-volume-horizontal{width:5em;height:3em}.video-js .vjs-volume-panel.vjs-hover .vjs-mute-control~.vjs-volume-control.vjs-volume-vertical,.video-js .vjs-volume-panel.vjs-hover .vjs-volume-control.vjs-volume-vertical,.video-js .vjs-volume-panel .vjs-volume-control.vjs-slider-active.vjs-volume-vertical,.video-js .vjs-volume-panel .vjs-volume-control:active.vjs-volume-vertical,.video-js .vjs-volume-panel:active .vjs-volume-control.vjs-volume-vertical,.video-js .vjs-volume-panel:focus .vjs-volume-control.vjs-volume-vertical{left:-3.5em;transition:left 0s}.video-js .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-hover,.video-js .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-slider-active,.video-js .vjs-volume-panel.vjs-volume-panel-horizontal:active{width:9em;transition:width .1s}.video-js .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-mute-toggle-only{width:4em}.video-js .vjs-volume-panel .vjs-volume-control.vjs-volume-vertical{height:8em;width:3em;left:-3000em;transition:visibility 1s,opacity 1s,height 1s 1s,width 1s 1s,left 1s 1s,top 1s 1s}.video-js .vjs-volume-panel .vjs-volume-control.vjs-volume-horizontal{transition:visibility 1s,opacity 1s,height 1s 1s,width 1s,left 1s 1s,top 1s 1s}.video-js.vjs-no-flex .vjs-volume-panel .vjs-volume-control.vjs-volume-horizontal{width:5em;height:3em;visibility:visible;opacity:1;position:relative;transition:none}.video-js.vjs-no-flex .vjs-volume-control.vjs-volume-vertical,.video-js.vjs-no-flex .vjs-volume-panel .vjs-volume-control.vjs-volume-vertical{position:absolute;bottom:3em;left:.5em}.video-js .vjs-volume-panel{display:flex}.video-js .vjs-volume-bar{margin:1.35em .45em}.vjs-volume-bar.vjs-slider-horizontal{width:5em;height:.3em}.vjs-volume-bar.vjs-slider-vertical{width:.3em;height:5em;margin:1.35em auto}.video-js .vjs-volume-level{position:absolute;bottom:0;left:0;background-color:#fff}.video-js .vjs-volume-level:before{position:absolute;font-size:.9em}.vjs-slider-vertical .vjs-volume-level{width:.3em}.vjs-slider-vertical .vjs-volume-level:before{top:-.5em;left:-.3em}.vjs-slider-horizontal .vjs-volume-level{height:.3em}.vjs-slider-horizontal .vjs-volume-level:before{top:-.3em;right:-.5em}.video-js .vjs-volume-panel.vjs-volume-panel-vertical{width:4em}.vjs-volume-bar.vjs-slider-vertical .vjs-volume-level{height:100%}.vjs-volume-bar.vjs-slider-horizontal .vjs-volume-level{width:100%}.video-js .vjs-volume-vertical{width:3em;height:8em;bottom:8em;background-color:#2b333f;background-color:rgba(43,51,63,.7)}.video-js .vjs-volume-horizontal .vjs-menu{left:-2em}.vjs-poster{display:inline-block;vertical-align:middle;background-repeat:no-repeat;background-position:50% 50%;background-size:contain;background-color:#000;cursor:pointer;margin:0;padding:0;position:absolute;top:0;right:0;bottom:0;left:0;height:100%}.vjs-has-started .vjs-poster{display:none}.vjs-audio.vjs-has-started .vjs-poster{display:block}.vjs-using-native-controls .vjs-poster{display:none}.video-js .vjs-live-control{display:flex;align-items:flex-start;flex:auto;font-size:1em;line-height:3em}.vjs-no-flex .vjs-live-control{display:table-cell;width:auto;text-align:left}.video-js.vjs-liveui .vjs-live-control,.video-js:not(.vjs-live) .vjs-live-control{display:none}.video-js .vjs-seek-to-live-control{cursor:pointer;flex:none;display:inline-flex;height:100%;padding-left:.5em;padding-right:.5em;font-size:1em;line-height:3em;width:auto;min-width:4em}.vjs-no-flex .vjs-seek-to-live-control{display:table-cell;width:auto;text-align:left}.video-js.vjs-live:not(.vjs-liveui) .vjs-seek-to-live-control,.video-js:not(.vjs-live) .vjs-seek-to-live-control{display:none}.vjs-seek-to-live-control.vjs-control.vjs-at-live-edge{cursor:auto}.vjs-seek-to-live-control .vjs-icon-placeholder{margin-right:.5em;color:#888}.vjs-seek-to-live-control.vjs-control.vjs-at-live-edge .vjs-icon-placeholder{color:red}.video-js .vjs-time-control{flex:none;font-size:1em;line-height:3em;min-width:2em;width:auto;padding-left:1em;padding-right:1em}.video-js .vjs-current-time,.video-js .vjs-duration,.vjs-live .vjs-time-control,.vjs-no-flex .vjs-current-time,.vjs-no-flex .vjs-duration{display:none}.vjs-time-divider{display:none;line-height:3em}.vjs-live .vjs-time-divider{display:none}.video-js .vjs-play-control{cursor:pointer}.video-js .vjs-play-control .vjs-icon-placeholder{flex:none}.vjs-text-track-display{position:absolute;bottom:3em;left:0;right:0;top:0;pointer-events:none}.video-js.vjs-user-inactive.vjs-playing .vjs-text-track-display{bottom:1em}.video-js .vjs-text-track{font-size:1.4em;text-align:center;margin-bottom:.1em}.vjs-subtitles{color:#fff}.vjs-captions{color:#fc6}.vjs-tt-cue{display:block}video::-webkit-media-text-track-display{transform:translateY(-3em)}.video-js.vjs-user-inactive.vjs-playing video::-webkit-media-text-track-display{transform:translateY(-1.5em)}.video-js .vjs-fullscreen-control,.video-js .vjs-picture-in-picture-control{cursor:pointer;flex:none}.vjs-playback-rate .vjs-playback-rate-value,.vjs-playback-rate>.vjs-menu-button{position:absolute;top:0;left:0;width:100%;height:100%}.vjs-playback-rate .vjs-playback-rate-value{pointer-events:none;font-size:1.5em;line-height:2;text-align:center}.vjs-playback-rate .vjs-menu{width:4em;left:0}.vjs-error .vjs-error-display .vjs-modal-dialog-content{font-size:1.4em;text-align:center}.vjs-error .vjs-error-display:before{color:#fff;content:"X";font-family:Arial,Helvetica,sans-serif;font-size:4em;left:0;line-height:1;margin-top:-.5em;position:absolute;text-shadow:.05em .05em .1em #000;text-align:center;top:50%;vertical-align:middle;width:100%}.vjs-loading-spinner{display:none;position:absolute;top:50%;left:50%;margin:-25px 0 0 -25px;opacity:.85;text-align:left;border:6px solid rgba(43,51,63,.7);box-sizing:border-box;background-clip:padding-box;width:50px;height:50px;border-radius:25px;visibility:hidden}.vjs-seeking .vjs-loading-spinner,.vjs-waiting .vjs-loading-spinner{display:block;-webkit-animation:vjs-spinner-show 0s linear .3s forwards;animation:vjs-spinner-show 0s linear .3s forwards}.vjs-loading-spinner:after,.vjs-loading-spinner:before{content:"";position:absolute;margin:-6px;box-sizing:inherit;width:inherit;height:inherit;border-radius:inherit;opacity:1;border:inherit;border-color:transparent;border-top-color:#fff}.vjs-seeking .vjs-loading-spinner:after,.vjs-seeking .vjs-loading-spinner:before,.vjs-waiting .vjs-loading-spinner:after,.vjs-waiting .vjs-loading-spinner:before{-webkit-animation:vjs-spinner-spin 1.1s cubic-bezier(.6,.2,0,.8) infinite,vjs-spinner-fade 1.1s linear infinite;animation:vjs-spinner-spin 1.1s cubic-bezier(.6,.2,0,.8) infinite,vjs-spinner-fade 1.1s linear infinite}.vjs-seeking .vjs-loading-spinner:before,.vjs-waiting .vjs-loading-spinner:before{border-top-color:#fff}.vjs-seeking .vjs-loading-spinner:after,.vjs-waiting .vjs-loading-spinner:after{border-top-color:#fff;-webkit-animation-delay:.44s;animation-delay:.44s}@keyframes vjs-spinner-show{to{visibility:visible}}@-webkit-keyframes vjs-spinner-show{to{visibility:visible}}@keyframes vjs-spinner-spin{to{transform:rotate(1turn)}}@-webkit-keyframes vjs-spinner-spin{to{-webkit-transform:rotate(1turn)}}@keyframes vjs-spinner-fade{0%{border-top-color:#73859f}20%{border-top-color:#73859f}35%{border-top-color:#fff}60%{border-top-color:#73859f}to{border-top-color:#73859f}}@-webkit-keyframes vjs-spinner-fade{0%{border-top-color:#73859f}20%{border-top-color:#73859f}35%{border-top-color:#fff}60%{border-top-color:#73859f}to{border-top-color:#73859f}}.vjs-chapters-button .vjs-menu ul{width:24em}.video-js .vjs-subs-caps-button+.vjs-menu .vjs-captions-menu-item .vjs-menu-item-text .vjs-icon-placeholder{vertical-align:middle;display:inline-block;margin-bottom:-.1em}.video-js .vjs-subs-caps-button+.vjs-menu .vjs-captions-menu-item .vjs-menu-item-text .vjs-icon-placeholder:before{font-family:VideoJS;content:"\\F10D";font-size:1.5em;line-height:inherit}.video-js .vjs-audio-button+.vjs-menu .vjs-main-desc-menu-item .vjs-menu-item-text .vjs-icon-placeholder{vertical-align:middle;display:inline-block;margin-bottom:-.1em}.video-js .vjs-audio-button+.vjs-menu .vjs-main-desc-menu-item .vjs-menu-item-text .vjs-icon-placeholder:before{font-family:VideoJS;content:" \\F11D";font-size:1.5em;line-height:inherit}.video-js:not(.vjs-fullscreen).vjs-layout-small .vjs-audio-button,.video-js:not(.vjs-fullscreen).vjs-layout-small .vjs-captions-button,.video-js:not(.vjs-fullscreen).vjs-layout-small .vjs-chapters-button,.video-js:not(.vjs-fullscreen).vjs-layout-small .vjs-current-time,.video-js:not(.vjs-fullscreen).vjs-layout-small .vjs-descriptions-button,.video-js:not(.vjs-fullscreen).vjs-layout-small .vjs-duration,.video-js:not(.vjs-fullscreen).vjs-layout-small .vjs-playback-rate,.video-js:not(.vjs-fullscreen).vjs-layout-small .vjs-remaining-time,.video-js:not(.vjs-fullscreen).vjs-layout-small .vjs-subtitles-button,.video-js:not(.vjs-fullscreen).vjs-layout-small .vjs-time-divider,.video-js:not(.vjs-fullscreen).vjs-layout-small .vjs-volume-control,.video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-audio-button,.video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-captions-button,.video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-chapters-button,.video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-current-time,.video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-descriptions-button,.video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-duration,.video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-playback-rate,.video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-remaining-time,.video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-subtitles-button,.video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-time-divider,.video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-volume-control,.video-js:not(.vjs-fullscreen).vjs-layout-x-small .vjs-audio-button,.video-js:not(.vjs-fullscreen).vjs-layout-x-small .vjs-captions-button,.video-js:not(.vjs-fullscreen).vjs-layout-x-small .vjs-chapters-button,.video-js:not(.vjs-fullscreen).vjs-layout-x-small .vjs-current-time,.video-js:not(.vjs-fullscreen).vjs-layout-x-small .vjs-descriptions-button,.video-js:not(.vjs-fullscreen).vjs-layout-x-small .vjs-duration,.video-js:not(.vjs-fullscreen).vjs-layout-x-small .vjs-playback-rate,.video-js:not(.vjs-fullscreen).vjs-layout-x-small .vjs-remaining-time,.video-js:not(.vjs-fullscreen).vjs-layout-x-small .vjs-subtitles-button,.video-js:not(.vjs-fullscreen).vjs-layout-x-small .vjs-time-divider,.video-js:not(.vjs-fullscreen).vjs-layout-x-small .vjs-volume-control{display:none}.video-js:not(.vjs-fullscreen).vjs-layout-small .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-slider-active,.video-js:not(.vjs-fullscreen).vjs-layout-small .vjs-volume-panel.vjs-volume-panel-horizontal:active,.video-js:not(.vjs-fullscreen).vjs-layout-small .vjs-volume-panel.vjs-volume-panel-horizontal:hover,.video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-slider-active,.video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-volume-panel.vjs-volume-panel-horizontal:active,.video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-volume-panel.vjs-volume-panel-horizontal:hover,.video-js:not(.vjs-fullscreen).vjs-layout-x-small .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-slider-active,.video-js:not(.vjs-fullscreen).vjs-layout-x-small .vjs-volume-panel.vjs-volume-panel-horizontal:active,.video-js:not(.vjs-fullscreen).vjs-layout-x-small .vjs-volume-panel.vjs-volume-panel-horizontal:hover{width:auto}.video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-subs-caps-button,.video-js:not(.vjs-fullscreen).vjs-layout-x-small:not(.vjs-live) .vjs-subs-caps-button,.video-js:not(.vjs-fullscreen).vjs-layout-x-small:not(.vjs-liveui) .vjs-subs-caps-button{display:none}.video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-custom-control-spacer,.video-js:not(.vjs-fullscreen).vjs-layout-x-small.vjs-liveui .vjs-custom-control-spacer{flex:auto;display:block}.video-js:not(.vjs-fullscreen).vjs-layout-tiny.vjs-no-flex .vjs-custom-control-spacer,.video-js:not(.vjs-fullscreen).vjs-layout-x-small.vjs-liveui.vjs-no-flex .vjs-custom-control-spacer{width:auto}.video-js:not(.vjs-fullscreen).vjs-layout-tiny .vjs-progress-control,.video-js:not(.vjs-fullscreen).vjs-layout-x-small.vjs-liveui .vjs-progress-control{display:none}.vjs-modal-dialog.vjs-text-track-settings{background-color:#2b333f;background-color:rgba(43,51,63,.75);color:#fff;height:70%}.vjs-text-track-settings .vjs-modal-dialog-content{display:table}.vjs-text-track-settings .vjs-track-settings-colors,.vjs-text-track-settings .vjs-track-settings-controls,.vjs-text-track-settings .vjs-track-settings-font{display:table-cell}.vjs-text-track-settings .vjs-track-settings-controls{text-align:right;vertical-align:bottom}@supports (display:grid){.vjs-text-track-settings .vjs-modal-dialog-content{display:grid;grid-template-columns:1fr 1fr;grid-template-rows:1fr;padding:20px 24px 0}.vjs-track-settings-controls .vjs-default-button{margin-bottom:20px}.vjs-text-track-settings .vjs-track-settings-controls{grid-column:1/-1}.vjs-layout-small .vjs-text-track-settings .vjs-modal-dialog-content,.vjs-layout-tiny .vjs-text-track-settings .vjs-modal-dialog-content,.vjs-layout-x-small .vjs-text-track-settings .vjs-modal-dialog-content{grid-template-columns:1fr}}.vjs-track-setting>select{margin-right:1em;margin-bottom:.5em}.vjs-text-track-settings fieldset{margin:5px;padding:3px;border:none}.vjs-text-track-settings fieldset span{display:inline-block}.vjs-text-track-settings fieldset span>select{max-width:7.3em}.vjs-text-track-settings legend{color:#fff;margin:0 0 5px}.vjs-text-track-settings .vjs-label{position:absolute;clip:rect(1px 1px 1px 1px);clip:rect(1px,1px,1px,1px);display:block;margin:0 0 5px;padding:0;border:0;height:1px;width:1px;overflow:hidden}.vjs-track-settings-controls button:active,.vjs-track-settings-controls button:focus{outline-style:solid;outline-width:medium;background-image:linear-gradient(0deg,#fff 88%,#73859f)}.vjs-track-settings-controls button:hover{color:rgba(43,51,63,.75)}.vjs-track-settings-controls button{background-color:#fff;background-image:linear-gradient(-180deg,#fff 88%,#73859f);color:#2b333f;cursor:pointer;border-radius:2px}.vjs-track-settings-controls .vjs-default-button{margin-right:1em}@media print{.video-js>:not(.vjs-tech):not(.vjs-poster){visibility:hidden}}.vjs-resize-manager{position:absolute;top:0;left:0;width:100%;height:100%;border:none;z-index:-1000}.js-focus-visible .video-js :focus:not(.focus-visible),.video-js .vjs-menu :focus:not(:focus-visible),.video-js :focus:not(:focus-visible){outline:none;background:none}',""])},"gvu/":function(t,e,n){"use strict";function i(){this.handlers=[]}var r=n("gvuQ");i.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},i.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},i.prototype.forEach=function(t){r.forEach(this.handlers,function(e){null!==e&&t(e)})},t.exports=i},gvuQ:function(t,e,n){"use strict";function i(t){return"[object Array]"===l.call(t)}function r(t){return null!==t&&"object"==typeof t}function o(t){return"[object Function]"===l.call(t)}function s(t,e){if(null!==t&&void 0!==t)if("object"!=typeof t&&(t=[t]),i(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.call(null,t[o],o,t)}var a=n("IKeO"),u=n("5SCX"),l=Object.prototype.toString;t.exports={isArray:i,isArrayBuffer:function(t){return"[object ArrayBuffer]"===l.call(t)},isBuffer:u,isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:r,isUndefined:function(t){return void 0===t},isDate:function(t){return"[object Date]"===l.call(t)},isFile:function(t){return"[object File]"===l.call(t)},isBlob:function(t){return"[object Blob]"===l.call(t)},isFunction:o,isStream:function(t){return r(t)&&o(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:s,merge:function t(){function e(e,i){"object"==typeof n[i]&&"object"==typeof e?n[i]=t(n[i],e):n[i]=e}for(var n={},i=0,r=arguments.length;i<r;i++)s(arguments[i],e);return n},extend:function(t,e,n){return s(e,function(e,i){t[i]=n&&"function"==typeof e?a(e,n):e}),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},h1nK:function(t,e,n){"use strict";var i=n("gvuQ");t.exports=i.isStandardBrowserEnv()?{write:function(t,e,n,r,o,s){var a=[];a.push(t+"="+encodeURIComponent(e)),i.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),i.isString(r)&&a.push("path="+r),i.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},ifc8:function(t,e,n){(t.exports=n("BkJT")(void 0)).push([t.i,'.video-wrapper .live .vjs-progress-control{visibility:hidden}.video-wrapper .live .vjs-remaining-time{display:none}.video-wrapper .hide-waiting .vjs-waiting .vjs-loading-spinner{display:none!important}.video-wrapper .alt{position:absolute;left:0;top:0;right:0;bottom:0;background:#000;color:#fff;text-align:center}.video-wrapper .alt>table{width:100%;height:100%}.video-wrapper .alt>table tr>td{vertical-align:middle}.video-wrapper .video-title{position:absolute;top:5px;right:5px;color:#fff;background-color:hsla(0,0%,50%,.5);border-radius:2px;padding:2px 5px;max-width:120px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.video-wrapper .video-js .vjs-control-bar .vjs-button{cursor:pointer}.video-wrapper .video-js .vjs-control-bar .vjs-icon-spinner:before{font-size:1.4em;line-height:1.87}.video-wrapper .vjs-error-display{display:none}@media screen and (min-device-width:1920px) and (-webkit-min-device-pixel-ratio:0){.video-wrapper .video-js .vjs-control-bar{font-size:14px}}.video-wrapper .video-js .vjs-time-control{font-size:1.035em;line-height:2.93em}.video-wrapper .vjs-resolution-button{color:#ccc;font-family:VideoJS}.video-wrapper .vjs-resolution-button .vjs-resolution-button-staticlabel:before{content:"\\F110";font-size:1.8em;line-height:1.7em}.video-wrapper .vjs-resolution-button .vjs-resolution-button-label{width:100%;height:.6em;display:block!important}.video-wrapper .vjs-resolution-button .vjs-resolution-button-label-ie{width:100%;height:.4em;display:block!important}.video-wrapper .vjs-resolution-button ul.vjs-menu-content{width:4em!important}.video-wrapper .vjs-resolution-button .vjs-menu{left:0}.video-wrapper .vjs-resolution-button .vjs-menu li{text-transform:none;font-size:1em;line-height:1.5em;font-family:Arial,Helvetica,sans-serif}.video-wrapper .vjs-audio-button{display:none!important}.video-wrapper .video-js .vjs-big-play-button .vjs-icon-placeholder:before,.video-wrapper .vjs-button>.vjs-icon-placeholder:before{position:relative!important}',""])},izNw:function(t,e,n){"use strict";var i=n("/TTR"),r=(n.n(i),n("psq8")),o=n.n(r),s=n("2sCs"),a=n.n(s),u=n("N3gQ"),l=n.n(u);videojs.options.flash.swf="liveplayer.swf",videojs.options.techOrder=["html5","flash"],videojs.browser.IE_VERSION&&videojs.browser.IE_VERSION<11&&(videojs.options.techOrder=["flash","html5"]),e.a={name:"live-player",data:function(){return{player:null,timer:0,fluentBtnCls:"live-player-fluent-btn",stretchBtnCls:"live-player-stretch-btn",snapFromOutside:!1,_fluent:!0,_stretch:!1,resolutionName:{sd:"标清",hd:"高清",fhd:"超清",yh:"原画"}}},props:{videoUrl:{type:String,default:""},videoTitle:{type:String,default:""},snapUrl:{default:""},poster:{default:""},autoplay:{type:Boolean,default:!0},live:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},currentTime:{type:Number,default:0},timeout:{type:Number,default:20},alt:{type:String,default:"无信号"},muted:{type:Boolean,default:!1},aspect:{type:String,default:"16:9"},videoBufferSize:{type:Number,default:204800},audioBufferSize:{type:Number,default:131072},pauseWhenHidden:{type:Boolean,default:!0},fluent:{type:Boolean,default:!0},stretch:{type:Boolean,default:!1},loop:{type:Boolean,default:!1},controls:{type:Boolean,default:!0},hideWaiting:{type:Boolean,default:!0},showCustomButton:{type:Boolean,default:!0},debug:{type:Boolean,default:!1},hasvideo:{type:Boolean,default:void 0},hasaudio:{type:Boolean,default:void 0},resolution:{type:String,default:""},resolutiondefault:{type:String,default:"hd"},reconnect:{type:Boolean,default:!1}},beforeDestroy:function(){this.destroyVideoJS()},deactivated:function(){this.destroyVideoJS()},watch:{videoUrl:function(t){this.reload()},fluent:function(t){this._fluent=t,this.reload()},stretch:function(t){this._stretch=t,this.reload()},loop:function(t){this.reload()},currentTime:function(t){this.player&&this.player.currentTime(t)}},mounted:function(){flvjs.reconnect=this.reconnect,this._fluent=this.fluent,this._stretch=this.stretch,this.initVideoJS()},computed:{videoType:function(){var t="video/mp4";return this.rtmp?t="rtmp/mp4":(this.http||this.ws)&&this.flv?t="video/x-flv":this.m3u8&&(t="application/x-mpegURL"),t},videoWrapperStyle:function(){if("100%"==this.aspect||"fullscreen"==this.aspect)return{width:"100%",height:"100%"};var t=this.aspect.split(":"),e=parseInt(t[0])||16;return{paddingBottom:(parseInt(t[1])||9)/e*100+"%",position:"relative",margin:"0 auto",overflow:"hidden"}},rtmp:function(){return 0==(this.src||"").indexOf("rtmp")},http:function(){return 0==(this.src||"").indexOf("http")},ws:function(){return 0==(this.src||"").indexOf("ws")},mp4:function(){return/\.mp4.*$/.test(this.src||"")},m3u8:function(){return/\.m3u8.*$/.test(this.src||"")},flv:function(){return/\.flv.*$/.test(this.src||"")},src:function(){return this.videoUrl?0===this.videoUrl.indexOf("/")?location.protocol+"//"+location.host+this.videoUrl:this.videoUrl:""},videoHtml:function(){return this.src?this.rtmp||this.http||this.flv?'\n                        <video class="video-js vjs-default-skin vjs-big-play-centered" style="width: 100%; height: 100%; '+(this._stretch?"object-fit: fill;":"")+'" controls\n                        preload="none" '+(this.mp4&&this.autoplay?"autoplay":"")+' poster="'+(this.poster||this.snapUrl)+'" '+(this.muted?"muted":"")+" "+(this.loop?"loop":"")+'>\n                            <source src="'+this.src+'" type="'+this.videoType+'"></source>\n                            <p class="vjs-no-js">\n                                To view this video please enable JavaScript, and consider upgrading to a web browser that\n                                <a href="http://videojs.com/html5-video-support/" target="_blank">\n                                    supports HTML5 video\n                                </a>\n                            </p>\n                        </video>\n                    ':'\n                        <canvas style="width: 100%; height: 100%;"></canvas>\n                    ':'\n                    <div class="alt">\n                        <table>\n                            <tr>\n                                <td>'+this.alt+"</td>\n                            </tr>\n                        </table>\n                    </div>\n                "}},methods:{isMobile:function(){return videojs.browser.IS_IOS||videojs.browser.IS_ANDROID},hasUsableSWF:function(){return!!(void 0!==window.ActiveXObject?new ActiveXObject("ShockwaveFlash.ShockwaveFlash"):navigator.plugins["Shockwave Flash"])},reload:function(){this.destroyVideoJS(),this.initVideoJS()},loadResolutionlist:function(t){if(""!=this.resolution){for(var e,n=this.resolution.split(","),i=[],r=0;r<n.length;r++)n[r],this.resolutiondefault,e="yh"==n[r]?this.videoUrl:this.videoUrl.replace(".m3u8","_"+n[r]+".m3u8"),i.push({src:e,type:this.videoType,label:this.resolutionName[n[r]],res:n[r]});t.updateSrc(i),t.on("resolutionchange",function(){})}},getCustomBtn:function(t){var e=this.$el.querySelectorAll(".video-js .vjs-control-bar .vjs-button."+t);return e.length>0?e[0]:null},customFlashButton:function(){var t=this;if(!this.getCustomBtn(this.fluentBtnCls)){var e=this.player.controlBar.addChild("button");e.el_.classList.add(this.fluentBtnCls),e.el_.innerText=this._fluent?"流畅":"极速",e.el_.title=this._fluent?"点击切换到极速播放":"点击切换到流畅播放";var n=function(){t._fluent=!t._fluent,e.el_.innerText=t._fluent?"流畅":"极速",e.el_.title=t._fluent?"点击切换到极速播放":"点击切换到流畅播放",t.player.tech_.setFluent(t._fluent)};e.on("click",n),e.on("tap",n)}if(!this.getCustomBtn(this.stretchBtnCls)){var i=this.player.controlBar.addChild("button");i.el_.classList.add(this.stretchBtnCls),i.el_.innerText=this._stretch?"拉伸":"标准",i.el_.title=this._stretch?"点击切换到标准显示":"点击切换到拉伸显示";n=function(){t._stretch=!t._stretch,i.el_.innerText=t._stretch?"拉伸":"标准",i.el_.title=t._stretch?"点击切换到标准显示":"点击切换到拉伸显示",t.player.tech_.setStretch(t._stretch)};i.on("click",n),i.on("tap",n)}},customH5Button:function(){var t=this;if(!this.getCustomBtn(this.stretchBtnCls)&&!videojs.browser.IE_VERSION){var e=this.player.controlBar.addChild("button");e.el_.classList.add(this.stretchBtnCls),e.el_.innerText=this._stretch?"拉伸":"标准",e.el_.title=this._stretch?"点击切换到标准显示":"点击切换到拉伸显示";var n=function(){t._stretch=!t._stretch,e.el_.innerText=t._stretch?"拉伸":"标准",e.el_.title=t._stretch?"点击切换到标准显示":"点击切换到拉伸显示";var n=t.$el.querySelector("video");n?n.style.objectFit=t._stretch?"fill":"":t.player.tech_.setStretch(t._stretch)};e.on("click",n),e.on("tap",n)}},destroyVideoJS:function(){this.player&&this.player.dispose&&(this.player.dispose(),this.player=null),this.player&&this.player.destroy&&(this.player.destroy(),this.player=null),this.timer&&(clearInterval(this.timer),this.timer=0),this.$el.querySelector(".video-inner").innerHTML='\n                <div class="alt">\n                    <table>\n                        <tr>\n                            <td></td>\n                        </tr>\n                    </table>\n                </div>\n            ',this.$emit("update:loading",!1)},getCurrentTime:function(){return this.player&&"function"==typeof this.player.currentTime?this.player.currentTime():-1},snap:function(){this.player&&this.player.cameraButton&&(this.snapFromOutside=!0,this.player.cameraButton.el().click())},play:function(){this.player&&this.player.play()},pause:function(){this.player&&this.player.pause()},paused:function(){return!!this.player&&this.player.paused()},setMuted:function(t){this.player&&this.player.muted(!!t)},getMuted:function(){return!!this.player&&this.player.muted()},convertDataURIToBinary:function(t){for(var e=t.indexOf(";base64,")+";base64,".length,n=t.substring(e),i=window.atob(n),r=i.length,o=new Uint8Array(r),s=0;s<r;s++)o[s]=i.charCodeAt(s);return o},convertDataURIToMIME:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=t.indexOf("data:");0==e&&(e+="data:".length);var n=t.indexOf(";base64,");return e>=0&&n>e?t.substring(e,n):""},saveFile:function(t){if(this.snapFromOutside)return this.$emit("snapOutside",t),void(this.snapFromOutside=!1);this.$emit("snapInside",t);var e=this.convertDataURIToBinary(t),n=this.convertDataURIToMIME(t),i=".jpg",r=n.indexOf("/");r>0&&(i="."+n.substring(r+1)),l.a.saveAs(new Blob([e],{type:n}),(this.videoTitle||"snap")+i)},debounceInitVideoJS:o.a.debounce(function(){this.initVideoJS()},500),initVideoJS:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(this.$el.querySelector(".video-inner").innerHTML=this.videoHtml,this.src)if(this.rtmp||videojs.browser.IE_VERSION&&this.http&&this.flv){var n=document.title;this.player=videojs(this.$el.querySelector("video"),{notSupportedMessage:"您的浏览器没有安装或开启Flash",tech:["flash"],autoplay:this.autoplay,stretch:this.stretch,fluent:this.fluent,controls:this.controls}),this.player.snapshot(),this.player.one("ready",function(){videojs.browser.IE_VERSION&&t.player.tech_.off("fullscreentoggle"),t.$emit("update:loading",!1),document.title=n,t.player.hotkeys({volumeStep:.1,seekStep:5,enableModifiersForNumbers:!1,enableVolumeScroll:!1}),t.player.muted(t.muted),t.player.on("ended",function(){t.$emit("ended")}),t.player.on("error",function(e){t.$emit("error",e)}),t.player.on("timeupdate",function(){t.$emit("timeupdate",t.player.currentTime())}),t.player.on("pause",function(){t.$emit("pause",t.player.currentTime())}),t.player.on("playing",function(){t.$emit("play",t.player.currentTime())}),t.player.on("snap",function(e,n){t.saveFile(n)}),t.showCustomButton&&t.customFlashButton();var e=t.$el.querySelectorAll(".video-js .vjs-control-bar .vjs-button"),i=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done);i=!0)s.value.addEventListener("mouseup",function(){t.player.focus()})}catch(t){r=!0,o=t}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}if(!t.hasUsableSWF()){var u=t.$el.querySelector(".vjs-poster");u&&(u.style.display="none")}document.getElementsByClassName("vjs-picture-in-picture-control")[0].style.display="none"}),document.title=n,this.player.on("error",function(e){(e=t.$el.querySelector(".vjs-error .vjs-error-display .vjs-modal-dialog-content")).innerHTML="<a href='http://www.adobe.com/go/getflashplayer' target='_blank'>"+e.textContent+"</a>"})}else if((this.http||this.ws)&&this.flv){this.debug||(flvjs.LoggingControl.enableWarn=!1,flvjs.LoggingControl.enableInfo=!1,flvjs.LoggingControl.enableVerbose=!1,flvjs.LoggingControl.enableDebug=!1);var i={isLive:this.live,cors:!0,withCredentials:!1};void 0!=this.hasaudio&&(i.hasAudio=this.hasaudio),void 0!=this.hasvideo&&(i.hasVideo=this.hasvideo),this.player=videojs(this.$el.querySelector("video"),{techOrder:["flvjs","html5"],controls:this.controls,flvjs:{mediaDataSource:i,config:{enableWorker:!1,enableStashBuffer:!1,accurateSeek:!0}}}),this.player.snapshot(),this.player.one("ready",function(){t.$emit("update:loading",!1),t._stretch&&(t.player.tech_.el_.style.objectFit="fill"),t.player.hotkeys({volumeStep:.1,seekStep:5,enableModifiersForNumbers:!1,enableVolumeScroll:!1}),t.player.muted(t.muted),t.player.one("canplay",function(){t.autoplay&&t.player.tech_.flvPlayer.play().catch(function(){})}),t.player.on("timeupdate",function(){t.$emit("timeupdate",t.player.currentTime())}),t.player.on("error",function(e){t.$emit("error",e)}),t.player.on("ended",function(){t.live&&t.reload(),t.$emit("ended")}),t.player.on("pause",function(){t.$emit("pause",t.player.currentTime())}),t.player.on("playing",function(){t.$emit("play",t.player.currentTime())}),t.player.on("snap",function(e,n){t.saveFile(n)}),t.showCustomButton&&t.customH5Button();var e=t.$el.querySelectorAll(".video-js .vjs-control-bar .vjs-button"),n=!0,i=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done);n=!0)o.value.addEventListener("mouseup",function(){t.player.focus()})}catch(t){i=!0,r=t}finally{try{!n&&s.return&&s.return()}finally{if(i)throw r}}})}else if(this.http&&this.m3u8){var r=(new Date).getTime();this.$emit("update:loading",!0),this.timer=setInterval(function(){var n=(new Date).getTime();if(t.timeout>0&&n-r>1e3*t.timeout)return clearInterval(t.timer),t.timer=0,t.$emit("update:loading",!1),void t.$emit("message",{type:"error",message:"加载播放资源失败"});a.a.head(t.src).then(function(n){clearInterval(t.timer),t.timer=0;var i=document.title;""!=t.resolution?(-1==t.resolution.indexOf(t.resolutiondefault)&&(t.resolutiondefault="yh"),t.player=videojs(t.$el.querySelector("video"),{autoplay:t.autoplay,stretch:t.stretch,controls:t.controls,plugins:{videoJsResolutionSwitcher:{default:t.resolutiondefault,dynamicLabel:!0}}})):t.player=videojs(t.$el.querySelector("video"),{autoplay:t.autoplay,stretch:t.stretch,controls:t.controls}),t.loadResolutionlist(t.player),t.player.snapshot(),t.player.one("ready",function(){0==e||t.live||(t.player.currentTime(e),t.player.handleTechSeeked_()),t.$emit("update:loading",!1),document.title=i,t.player.hotkeys({volumeStep:.1,seekStep:5,enableModifiersForNumbers:!1,enableVolumeScroll:!1}),t.player.muted(t.muted),t.player.on("ended",function(){t.$emit("ended")}),t.player.on("timeupdate",function(){t.$emit("timeupdate",t.player.currentTime())}),t.player.on("pause",function(){t.$emit("pause",t.player.currentTime())}),t.player.on("playing",function(){t.$emit("play",t.player.currentTime())}),t.player.on("snap",function(e,n){t.saveFile(n)}),t.player.on("error",function(n,i){t.$emit("error",n),t.destroyVideoJS(),t.live?t.initVideoJS():(e+=3,t.initVideoJS(e))}),t.showCustomButton&&t.customH5Button();var n=t.$el.querySelectorAll(".video-js .vjs-control-bar .vjs-button"),r=!0,o=!1,s=void 0;try{for(var a,u=n[Symbol.iterator]();!(r=(a=u.next()).done);r=!0)a.value.addEventListener("mouseup",function(){t.player.focus()})}catch(t){o=!0,s=t}finally{try{!r&&u.return&&u.return()}finally{if(o)throw s}}}),document.title=i,t.player&&t.player.reloadSourceOnError(),t.player&&t.currentTime>0&&(videojs.browser.IE_VERSION?t.player.on("loadeddata",function(){setTimeout(function(){t.player.currentTime(t.currentTime)},500)}):t.player.currentTime(t.currentTime)),t.autoplay&&setTimeout(function(){var e=t.$el.querySelector(".vjs-big-play-button");if(e){var n=window.getComputedStyle(e);n&&"block"===n.display&&e.click()}},1e3)}).catch(function(t){})},500)}else this.ws?(this.player=new EPlayer.Player(this.src,{canvas:this.$el.querySelector(".video-inner canvas"),pauseWhenHidden:this.pauseWhenHidden,audio:!this.muted,videoBufferSize:this.videoBufferSize,audioBufferSize:this.audioBufferSize}),this.muted||document.body.addEventListener("touchstart",function(){t.player.audioOut.unlock(function(){})})):videojs(this.$el.querySelector("video"),{})}}}},mFPK:function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},psq8:function(t,e,n){(function(t,i){var r;(function(){function o(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function s(t,e,n,i){for(var r=-1,o=null==t?0:t.length;++r<o;){var s=t[r];e(i,s,n(s),t)}return i}function a(t,e){for(var n=-1,i=null==t?0:t.length;++n<i&&!1!==e(t[n],n,t););return t}function u(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(!e(t[n],n,t))return!1;return!0}function l(t,e){for(var n=-1,i=null==t?0:t.length,r=0,o=[];++n<i;){var s=t[n];e(s,n,t)&&(o[r++]=s)}return o}function c(t,e){return!(null==t||!t.length)&&w(t,e,0)>-1}function h(t,e,n){for(var i=-1,r=null==t?0:t.length;++i<r;)if(n(e,t[i]))return!0;return!1}function f(t,e){for(var n=-1,i=null==t?0:t.length,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}function p(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}function d(t,e,n,i){var r=-1,o=null==t?0:t.length;for(i&&o&&(n=t[++r]);++r<o;)n=e(n,t[r],r,t);return n}function v(t,e,n,i){var r=null==t?0:t.length;for(i&&r&&(n=t[--r]);r--;)n=e(n,t[r],r,t);return n}function g(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}function m(t){return t.match(Ce)||[]}function y(t,e,n){var i;return n(t,function(t,n,r){if(e(t,n,r))return i=n,!1}),i}function _(t,e,n,i){for(var r=t.length,o=n+(i?1:-1);i?o--:++o<r;)if(e(t[o],o,t))return o;return-1}function w(t,e,n){return e==e?function(t,e,n){for(var i=n-1,r=t.length;++i<r;)if(t[i]===e)return i;return-1}(t,e,n):_(t,x,n)}function b(t,e,n,i){for(var r=n-1,o=t.length;++r<o;)if(i(t[r],e))return r;return-1}function x(t){return t!=t}function E(t,e){var n=null==t?0:t.length;return n?T(t,e)/n:wt}function C(t){return function(e){return null==e?Y:e[t]}}function j(t){return function(e){return null==t?Y:t[e]}}function S(t,e,n,i,r){return r(t,function(t,r,o){n=i?(i=!1,t):e(n,t,r,o)}),n}function T(t,e){for(var n,i=-1,r=t.length;++i<r;){var o=e(t[i]);o!==Y&&(n=n===Y?o:n+o)}return n}function R(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}function I(t){return function(e){return t(e)}}function O(t,e){return f(e,function(e){return t[e]})}function A(t,e){return t.has(e)}function L(t,e){for(var n=-1,i=t.length;++n<i&&w(e,t[n],0)>-1;);return n}function k(t,e){for(var n=t.length;n--&&w(e,t[n],0)>-1;);return n}function M(t){return"\\"+an[t]}function P(t){return tn.test(t)}function D(t){return en.test(t)}function F(t){var e=-1,n=Array(t.size);return t.forEach(function(t,i){n[++e]=[i,t]}),n}function N(t,e){return function(n){return t(e(n))}}function G(t,e){for(var n=-1,i=t.length,r=0,o=[];++n<i;){var s=t[n];s!==e&&s!==K||(t[n]=K,o[r++]=n)}return o}function W(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function B(t){return P(t)?function(t){for(var e=Qe.lastIndex=0;Qe.test(t);)++e;return e}(t):Cn(t)}function z(t){return P(t)?function(t){return t.match(Qe)||[]}(t):function(t){return t.split("")}(t)}function U(t){return t.match($e)||[]}var Y,V=200,X="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",H="Expected a function",Z="__lodash_hash_undefined__",K="__lodash_placeholder__",q=1,J=2,Q=4,$=1,tt=2,et=1,nt=2,it=4,rt=8,ot=16,st=32,at=64,ut=128,lt=256,ct=512,ht=30,ft="...",pt=800,dt=16,vt=1,gt=2,mt=1/0,yt=9007199254740991,_t=1.7976931348623157e308,wt=NaN,bt=4294967295,xt=bt-1,Et=bt>>>1,Ct=[["ary",ut],["bind",et],["bindKey",nt],["curry",rt],["curryRight",ot],["flip",ct],["partial",st],["partialRight",at],["rearg",lt]],jt="[object Arguments]",St="[object Array]",Tt="[object AsyncFunction]",Rt="[object Boolean]",It="[object Date]",Ot="[object DOMException]",At="[object Error]",Lt="[object Function]",kt="[object GeneratorFunction]",Mt="[object Map]",Pt="[object Number]",Dt="[object Null]",Ft="[object Object]",Nt="[object Proxy]",Gt="[object RegExp]",Wt="[object Set]",Bt="[object String]",zt="[object Symbol]",Ut="[object Undefined]",Yt="[object WeakMap]",Vt="[object WeakSet]",Xt="[object ArrayBuffer]",Ht="[object DataView]",Zt="[object Float32Array]",Kt="[object Float64Array]",qt="[object Int8Array]",Jt="[object Int16Array]",Qt="[object Int32Array]",$t="[object Uint8Array]",te="[object Uint8ClampedArray]",ee="[object Uint16Array]",ne="[object Uint32Array]",ie=/\b__p \+= '';/g,re=/\b(__p \+=) '' \+/g,oe=/(__e\(.*?\)|\b__t\)) \+\n'';/g,se=/&(?:amp|lt|gt|quot|#39);/g,ae=/[&<>"']/g,ue=RegExp(se.source),le=RegExp(ae.source),ce=/<%-([\s\S]+?)%>/g,he=/<%([\s\S]+?)%>/g,fe=/<%=([\s\S]+?)%>/g,pe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,de=/^\w*$/,ve=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ge=/[\\^$.*+?()[\]{}|]/g,me=RegExp(ge.source),ye=/^\s+|\s+$/g,_e=/^\s+/,we=/\s+$/,be=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,xe=/\{\n\/\* \[wrapped with (.+)\] \*/,Ee=/,? & /,Ce=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,je=/\\(\\)?/g,Se=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Te=/\w*$/,Re=/^[-+]0x[0-9a-f]+$/i,Ie=/^0b[01]+$/i,Oe=/^\[object .+?Constructor\]$/,Ae=/^0o[0-7]+$/i,Le=/^(?:0|[1-9]\d*)$/,ke=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Me=/($^)/,Pe=/['\n\r\u2028\u2029\\]/g,De="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Fe="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ne="["+Fe+"]",Ge="["+De+"]",We="[a-z\\xdf-\\xf6\\xf8-\\xff]",Be="\\ud83c[\\udffb-\\udfff]",ze="(?:\\ud83c[\\udde6-\\uddff]){2}",Ue="[\\ud800-\\udbff][\\udc00-\\udfff]",Ye="[A-Z\\xc0-\\xd6\\xd8-\\xde]",Ve="(?:"+We+"|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])",Xe="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",He="[\\ufe0e\\ufe0f]?"+Xe+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",ze,Ue].join("|")+")[\\ufe0e\\ufe0f]?"+Xe+")*"),Ze="(?:"+["[\\u2700-\\u27bf]",ze,Ue].join("|")+")"+He,Ke="(?:"+["[^\\ud800-\\udfff]"+Ge+"?",Ge,ze,Ue,"[\\ud800-\\udfff]"].join("|")+")",qe=RegExp("['’]","g"),Je=RegExp(Ge,"g"),Qe=RegExp(Be+"(?="+Be+")|"+Ke+He,"g"),$e=RegExp([Ye+"?"+We+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[Ne,Ye,"$"].join("|")+")","(?:[A-Z\\xc0-\\xd6\\xd8-\\xde]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[Ne,Ye+Ve,"$"].join("|")+")",Ye+"?"+Ve+"+(?:['’](?:d|ll|m|re|s|t|ve))?",Ye+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])","\\d+",Ze].join("|"),"g"),tn=RegExp("[\\u200d\\ud800-\\udfff"+De+"\\ufe0e\\ufe0f]"),en=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,nn=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],rn=-1,on={};on[Zt]=on[Kt]=on[qt]=on[Jt]=on[Qt]=on[$t]=on[te]=on[ee]=on[ne]=!0,on[jt]=on[St]=on[Xt]=on[Rt]=on[Ht]=on[It]=on[At]=on[Lt]=on[Mt]=on[Pt]=on[Ft]=on[Gt]=on[Wt]=on[Bt]=on[Yt]=!1;var sn={};sn[jt]=sn[St]=sn[Xt]=sn[Ht]=sn[Rt]=sn[It]=sn[Zt]=sn[Kt]=sn[qt]=sn[Jt]=sn[Qt]=sn[Mt]=sn[Pt]=sn[Ft]=sn[Gt]=sn[Wt]=sn[Bt]=sn[zt]=sn[$t]=sn[te]=sn[ee]=sn[ne]=!0,sn[At]=sn[Lt]=sn[Yt]=!1;var an={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},un=parseFloat,ln=parseInt,cn="object"==typeof t&&t&&t.Object===Object&&t,hn="object"==typeof self&&self&&self.Object===Object&&self,fn=cn||hn||Function("return this")(),pn="object"==typeof e&&e&&!e.nodeType&&e,dn=pn&&"object"==typeof i&&i&&!i.nodeType&&i,vn=dn&&dn.exports===pn,gn=vn&&cn.process,mn=function(){try{return dn&&dn.require&&dn.require("util").types||gn&&gn.binding&&gn.binding("util")}catch(t){}}(),yn=mn&&mn.isArrayBuffer,_n=mn&&mn.isDate,wn=mn&&mn.isMap,bn=mn&&mn.isRegExp,xn=mn&&mn.isSet,En=mn&&mn.isTypedArray,Cn=C("length"),jn=j({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Sn=j({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}),Tn=j({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Rn=function t(e){function n(t){if(no(t)&&!Xa(t)&&!(t instanceof j)){if(t instanceof r)return t;if(Xo.call(t,"__wrapped__"))return Rr(t)}return new r(t)}function i(){}function r(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=Y}function j(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=bt,this.__views__=[]}function Ce(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function De(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function Fe(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function Ne(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Fe;++e<n;)this.add(t[e])}function Ge(t){var e=this.__data__=new De(t);this.size=e.size}function We(t,e){var n=Xa(t),i=!n&&Va(t),r=!n&&!i&&Za(t),o=!n&&!i&&!r&&$a(t),s=n||i||r||o,a=s?R(t.length,Go):[],u=a.length;for(var l in t)!e&&!Xo.call(t,l)||s&&("length"==l||r&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||pr(l,u))||a.push(l);return a}function Be(t){var e=t.length;return e?t[$n(0,e-1)]:Y}function ze(t,e,n){(n===Y||Zr(t[e],n))&&(n!==Y||e in t)||He(t,e,n)}function Ue(t,e,n){var i=t[e];Xo.call(t,e)&&Zr(i,n)&&(n!==Y||e in t)||He(t,e,n)}function Ye(t,e){for(var n=t.length;n--;)if(Zr(t[n][0],e))return n;return-1}function Ve(t,e,n,i){return Ys(t,function(t,r,o){e(i,t,n(t),o)}),i}function Xe(t,e){return t&&Ri(e,mo(e),t)}function He(t,e,n){"__proto__"==e&&cs?cs(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Ze(t,e){for(var n=-1,i=e.length,r=Lo(i),o=null==t;++n<i;)r[n]=o?Y:vo(t,e[n]);return r}function Ke(t,e,n){return t==t&&(n!==Y&&(t=t<=n?t:n),e!==Y&&(t=t>=e?t:e)),t}function Qe(t,e,n,i,r,o){var s,u=e&q,l=e&J,c=e&Q;if(n&&(s=r?n(t,i,r,o):n(t)),s!==Y)return s;if(!eo(t))return t;var h=Xa(t);if(h){if(s=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&Xo.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!u)return Ti(t,s)}else{var f=na(t),p=f==Lt||f==kt;if(Za(t))return bi(t,u);if(f==Ft||f==jt||p&&!r){if(s=l||p?{}:hr(t),!u)return l?function(t,e){return Ri(t,ea(t),e)}(t,function(t,e){return t&&Ri(e,yo(e),t)}(s,t)):function(t,e){return Ri(t,ta(t),e)}(t,Xe(s,t))}else{if(!sn[f])return r?t:{};s=function(t,e,n){var i=t.constructor;switch(e){case Xt:return xi(t);case Rt:case It:return new i(+t);case Ht:return function(t,e){var n=e?xi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case Zt:case Kt:case qt:case Jt:case Qt:case $t:case te:case ee:case ne:return Ei(t,n);case Mt:return new i;case Pt:case Bt:return new i(t);case Gt:return function(t){var e=new t.constructor(t.source,Te.exec(t));return e.lastIndex=t.lastIndex,e}(t);case Wt:return new i;case zt:return function(t){return Bs?Fo(Bs.call(t)):{}}(t)}}(t,f,u)}}o||(o=new Ge);var d=o.get(t);if(d)return d;if(o.set(t,s),Qa(t))return t.forEach(function(i){s.add(Qe(i,e,n,i,t,o))}),s;if(qa(t))return t.forEach(function(i,r){s.set(r,Qe(i,e,n,r,t,o))}),s;var v=h?Y:(c?l?ir:nr:l?yo:mo)(t);return a(v||t,function(i,r){v&&(i=t[r=i]),Ue(s,r,Qe(i,e,n,r,t,o))}),s}function $e(t,e,n){var i=n.length;if(null==t)return!i;for(t=Fo(t);i--;){var r=n[i],o=e[r],s=t[r];if(s===Y&&!(r in t)||!o(s))return!1}return!0}function tn(t,e,n){if("function"!=typeof t)throw new Wo(H);return oa(function(){t.apply(Y,n)},e)}function en(t,e,n,i){var r=-1,o=c,s=!0,a=t.length,u=[],l=e.length;if(!a)return u;n&&(e=f(e,I(n))),i?(o=h,s=!1):e.length>=V&&(o=A,s=!1,e=new Ne(e));t:for(;++r<a;){var p=t[r],d=null==n?p:n(p);if(p=i||0!==p?p:0,s&&d==d){for(var v=l;v--;)if(e[v]===d)continue t;u.push(p)}else o(e,d,i)||u.push(p)}return u}function an(t,e){var n=!0;return Ys(t,function(t,i,r){return n=!!e(t,i,r)}),n}function cn(t,e,n){for(var i=-1,r=t.length;++i<r;){var o=t[i],s=e(o);if(null!=s&&(a===Y?s==s&&!so(s):n(s,a)))var a=s,u=o}return u}function hn(t,e){var n=[];return Ys(t,function(t,i,r){e(t,i,r)&&n.push(t)}),n}function pn(t,e,n,i,r){var o=-1,s=t.length;for(n||(n=fr),r||(r=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?pn(a,e-1,n,i,r):p(r,a):i||(r[r.length]=a)}return r}function dn(t,e){return t&&Xs(t,e,mo)}function gn(t,e){return t&&Hs(t,e,mo)}function mn(t,e){return l(e,function(e){return Qr(t[e])})}function Cn(t,e){for(var n=0,i=(e=_i(e,t)).length;null!=t&&n<i;)t=t[Sr(e[n++])];return n&&n==i?t:Y}function In(t,e,n){var i=e(t);return Xa(t)?i:p(i,n(t))}function On(t){return null==t?t===Y?Ut:Dt:ls&&ls in Fo(t)?function(t){var e=Xo.call(t,ls),n=t[ls];try{t[ls]=Y;var i=!0}catch(t){}var r=Ko.call(t);return i&&(e?t[ls]=n:delete t[ls]),r}(t):function(t){return Ko.call(t)}(t)}function An(t,e){return t>e}function Ln(t,e){return null!=t&&Xo.call(t,e)}function kn(t,e){return null!=t&&e in Fo(t)}function Mn(t,e,n){for(var i=n?h:c,r=t[0].length,o=t.length,s=o,a=Lo(o),u=1/0,l=[];s--;){var p=t[s];s&&e&&(p=f(p,I(e))),u=xs(p.length,u),a[s]=!n&&(e||r>=120&&p.length>=120)?new Ne(s&&p):Y}p=t[0];var d=-1,v=a[0];t:for(;++d<r&&l.length<u;){var g=p[d],m=e?e(g):g;if(g=n||0!==g?g:0,!(v?A(v,m):i(l,m,n))){for(s=o;--s;){var y=a[s];if(!(y?A(y,m):i(t[s],m,n)))continue t}v&&v.push(m),l.push(g)}}return l}function Pn(t,e,n){var i=null==(t=br(t,e=_i(e,t)))?t:t[Sr(kr(e))];return null==i?Y:o(i,t,n)}function Dn(t){return no(t)&&On(t)==jt}function Fn(t,e,n,i,r){return t===e||(null==t||null==e||!no(t)&&!no(e)?t!=t&&e!=e:function(t,e,n,i,r,o){var s=Xa(t),a=Xa(e),u=s?St:na(t),l=a?St:na(e),c=(u=u==jt?Ft:u)==Ft,h=(l=l==jt?Ft:l)==Ft,f=u==l;if(f&&Za(t)){if(!Za(e))return!1;s=!0,c=!1}if(f&&!c)return o||(o=new Ge),s||$a(t)?tr(t,e,n,i,r,o):function(t,e,n,i,r,o,s){switch(n){case Ht:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Xt:return!(t.byteLength!=e.byteLength||!o(new es(t),new es(e)));case Rt:case It:case Pt:return Zr(+t,+e);case At:return t.name==e.name&&t.message==e.message;case Gt:case Bt:return t==e+"";case Mt:var a=F;case Wt:var u=i&$;if(a||(a=W),t.size!=e.size&&!u)return!1;var l=s.get(t);if(l)return l==e;i|=tt,s.set(t,e);var c=tr(a(t),a(e),i,r,o,s);return s.delete(t),c;case zt:if(Bs)return Bs.call(t)==Bs.call(e)}return!1}(t,e,u,n,i,r,o);if(!(n&$)){var p=c&&Xo.call(t,"__wrapped__"),d=h&&Xo.call(e,"__wrapped__");if(p||d){var v=p?t.value():t,g=d?e.value():e;return o||(o=new Ge),r(v,g,n,i,o)}}return!!f&&(o||(o=new Ge),function(t,e,n,i,r,o){var s=n&$,a=nr(t),u=a.length;if(u!=nr(e).length&&!s)return!1;for(var l=u;l--;){var c=a[l];if(!(s?c in e:Xo.call(e,c)))return!1}var h=o.get(t);if(h&&o.get(e))return h==e;var f=!0;o.set(t,e),o.set(e,t);for(var p=s;++l<u;){c=a[l];var d=t[c],v=e[c];if(i)var g=s?i(v,d,c,e,t,o):i(d,v,c,t,e,o);if(!(g===Y?d===v||r(d,v,n,i,o):g)){f=!1;break}p||(p="constructor"==c)}if(f&&!p){var m=t.constructor,y=e.constructor;m!=y&&"constructor"in t&&"constructor"in e&&!("function"==typeof m&&m instanceof m&&"function"==typeof y&&y instanceof y)&&(f=!1)}return o.delete(t),o.delete(e),f}(t,e,n,i,r,o))}(t,e,n,i,Fn,r))}function Nn(t,e,n,i){var r=n.length,o=r,s=!i;if(null==t)return!o;for(t=Fo(t);r--;){var a=n[r];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++r<o;){var u=(a=n[r])[0],l=t[u],c=a[1];if(s&&a[2]){if(l===Y&&!(u in t))return!1}else{var h=new Ge;if(i)var f=i(l,c,u,t,e,h);if(!(f===Y?Fn(c,l,$|tt,i,h):f))return!1}}return!0}function Gn(t){return!(!eo(t)||function(t){return!!Zo&&Zo in t}(t))&&(Qr(t)?Qo:Oe).test(Tr(t))}function Wn(t){return"function"==typeof t?t:null==t?jo:"object"==typeof t?Xa(t)?Xn(t[0],t[1]):Vn(t):Io(t)}function Bn(t){if(!mr(t))return ws(t);var e=[];for(var n in Fo(t))Xo.call(t,n)&&"constructor"!=n&&e.push(n);return e}function zn(t){if(!eo(t))return function(t){var e=[];if(null!=t)for(var n in Fo(t))e.push(n);return e}(t);var e=mr(t),n=[];for(var i in t)("constructor"!=i||!e&&Xo.call(t,i))&&n.push(i);return n}function Un(t,e){return t<e}function Yn(t,e){var n=-1,i=Kr(t)?Lo(t.length):[];return Ys(t,function(t,r,o){i[++n]=e(t,r,o)}),i}function Vn(t){var e=ur(t);return 1==e.length&&e[0][2]?_r(e[0][0],e[0][1]):function(n){return n===t||Nn(n,t,e)}}function Xn(t,e){return vr(t)&&yr(e)?_r(Sr(t),e):function(n){var i=vo(n,t);return i===Y&&i===e?go(n,t):Fn(e,i,$|tt)}}function Hn(t,e,n,i,r){t!==e&&Xs(e,function(o,s){if(eo(o))r||(r=new Ge),function(t,e,n,i,r,o,s){var a=xr(t,n),u=xr(e,n),l=s.get(u);if(l)return void ze(t,n,l);var c=o?o(a,u,n+"",t,e,s):Y,h=c===Y;if(h){var f=Xa(u),p=!f&&Za(u),d=!f&&!p&&$a(u);c=u,f||p||d?Xa(a)?c=a:qr(a)?c=Ti(a):p?(h=!1,c=bi(u,!0)):d?(h=!1,c=Ei(u,!0)):c=[]:ro(u)||Va(u)?(c=a,Va(a)?c=fo(a):eo(a)&&!Qr(a)||(c=hr(u))):h=!1}h&&(s.set(u,c),r(c,u,i,o,s),s.delete(u)),ze(t,n,c)}(t,e,s,n,Hn,i,r);else{var a=i?i(xr(t,s),o,s+"",t,e,r):Y;a===Y&&(a=o),ze(t,s,a)}},yo)}function Zn(t,e){var n=t.length;if(n)return pr(e+=e<0?n:0,n)?t[e]:Y}function Kn(t,e,n){var i=-1;return e=f(e.length?e:[jo],I(sr())),function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(Yn(t,function(t,n,r){return{criteria:f(e,function(e){return e(t)}),index:++i,value:t}}),function(t,e){return function(t,e,n){for(var i=-1,r=t.criteria,o=e.criteria,s=r.length,a=n.length;++i<s;){var u=Ci(r[i],o[i]);if(u)return i>=a?u:u*("desc"==n[i]?-1:1)}return t.index-e.index}(t,e,n)})}function qn(t,e,n){for(var i=-1,r=e.length,o={};++i<r;){var s=e[i],a=Cn(t,s);n(a,s)&&ni(o,_i(s,t),a)}return o}function Jn(t,e,n,i){var r=i?b:w,o=-1,s=e.length,a=t;for(t===e&&(e=Ti(e)),n&&(a=f(t,I(n)));++o<s;)for(var u=0,l=e[o],c=n?n(l):l;(u=r(a,c,u,i))>-1;)a!==t&&ss.call(a,u,1),ss.call(t,u,1);return t}function Qn(t,e){for(var n=t?e.length:0,i=n-1;n--;){var r=e[n];if(n==i||r!==o){var o=r;pr(r)?ss.call(t,r,1):hi(t,r)}}return t}function $n(t,e){return t+vs(js()*(e-t+1))}function ti(t,e){var n="";if(!t||e<1||e>yt)return n;do{e%2&&(n+=t),(e=vs(e/2))&&(t+=t)}while(e);return n}function ei(t,e){return sa(wr(t,e,jo),t+"")}function ni(t,e,n,i){if(!eo(t))return t;for(var r=-1,o=(e=_i(e,t)).length,s=o-1,a=t;null!=a&&++r<o;){var u=Sr(e[r]),l=n;if(r!=s){var c=a[u];(l=i?i(c,u,a):Y)===Y&&(l=eo(c)?c:pr(e[r+1])?[]:{})}Ue(a,u,l),a=a[u]}return t}function ii(t,e,n){var i=-1,r=t.length;e<0&&(e=-e>r?0:r+e),(n=n>r?r:n)<0&&(n+=r),r=e>n?0:n-e>>>0,e>>>=0;for(var o=Lo(r);++i<r;)o[i]=t[i+e];return o}function ri(t,e){var n;return Ys(t,function(t,i,r){return!(n=e(t,i,r))}),!!n}function oi(t,e,n){var i=0,r=null==t?i:t.length;if("number"==typeof e&&e==e&&r<=Et){for(;i<r;){var o=i+r>>>1,s=t[o];null!==s&&!so(s)&&(n?s<=e:s<e)?i=o+1:r=o}return r}return si(t,e,jo,n)}function si(t,e,n,i){e=n(e);for(var r=0,o=null==t?0:t.length,s=e!=e,a=null===e,u=so(e),l=e===Y;r<o;){var c=vs((r+o)/2),h=n(t[c]),f=h!==Y,p=null===h,d=h==h,v=so(h);if(s)var g=i||d;else g=l?d&&(i||f):a?d&&f&&(i||!p):u?d&&f&&!p&&(i||!v):!p&&!v&&(i?h<=e:h<e);g?r=c+1:o=c}return xs(o,xt)}function ai(t,e){for(var n=-1,i=t.length,r=0,o=[];++n<i;){var s=t[n],a=e?e(s):s;if(!n||!Zr(a,u)){var u=a;o[r++]=0===s?0:s}}return o}function ui(t){return"number"==typeof t?t:so(t)?wt:+t}function li(t){if("string"==typeof t)return t;if(Xa(t))return f(t,li)+"";if(so(t))return zs?zs.call(t):"";var e=t+"";return"0"==e&&1/t==-mt?"-0":e}function ci(t,e,n){var i=-1,r=c,o=t.length,s=!0,a=[],u=a;if(n)s=!1,r=h;else if(o>=V){var l=e?null:Qs(t);if(l)return W(l);s=!1,r=A,u=new Ne}else u=e?[]:a;t:for(;++i<o;){var f=t[i],p=e?e(f):f;if(f=n||0!==f?f:0,s&&p==p){for(var d=u.length;d--;)if(u[d]===p)continue t;e&&u.push(p),a.push(f)}else r(u,p,n)||(u!==a&&u.push(p),a.push(f))}return a}function hi(t,e){return null==(t=br(t,e=_i(e,t)))||delete t[Sr(kr(e))]}function fi(t,e,n,i){return ni(t,e,n(Cn(t,e)),i)}function pi(t,e,n,i){for(var r=t.length,o=i?r:-1;(i?o--:++o<r)&&e(t[o],o,t););return n?ii(t,i?0:o,i?o+1:r):ii(t,i?o+1:0,i?r:o)}function di(t,e){var n=t;return n instanceof j&&(n=n.value()),d(e,function(t,e){return e.func.apply(e.thisArg,p([t],e.args))},n)}function vi(t,e,n){var i=t.length;if(i<2)return i?ci(t[0]):[];for(var r=-1,o=Lo(i);++r<i;)for(var s=t[r],a=-1;++a<i;)a!=r&&(o[r]=en(o[r]||s,t[a],e,n));return ci(pn(o,1),e,n)}function gi(t,e,n){for(var i=-1,r=t.length,o=e.length,s={};++i<r;){var a=i<o?e[i]:Y;n(s,t[i],a)}return s}function mi(t){return qr(t)?t:[]}function yi(t){return"function"==typeof t?t:jo}function _i(t,e){return Xa(t)?t:vr(t,e)?[t]:aa(po(t))}function wi(t,e,n){var i=t.length;return n=n===Y?i:n,!e&&n>=i?t:ii(t,e,n)}function bi(t,e){if(e)return t.slice();var n=t.length,i=ns?ns(n):new t.constructor(n);return t.copy(i),i}function xi(t){var e=new t.constructor(t.byteLength);return new es(e).set(new es(t)),e}function Ei(t,e){var n=e?xi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Ci(t,e){if(t!==e){var n=t!==Y,i=null===t,r=t==t,o=so(t),s=e!==Y,a=null===e,u=e==e,l=so(e);if(!a&&!l&&!o&&t>e||o&&s&&u&&!a&&!l||i&&s&&u||!n&&u||!r)return 1;if(!i&&!o&&!l&&t<e||l&&n&&r&&!i&&!o||a&&n&&r||!s&&r||!u)return-1}return 0}function ji(t,e,n,i){for(var r=-1,o=t.length,s=n.length,a=-1,u=e.length,l=bs(o-s,0),c=Lo(u+l),h=!i;++a<u;)c[a]=e[a];for(;++r<s;)(h||r<o)&&(c[n[r]]=t[r]);for(;l--;)c[a++]=t[r++];return c}function Si(t,e,n,i){for(var r=-1,o=t.length,s=-1,a=n.length,u=-1,l=e.length,c=bs(o-a,0),h=Lo(c+l),f=!i;++r<c;)h[r]=t[r];for(var p=r;++u<l;)h[p+u]=e[u];for(;++s<a;)(f||r<o)&&(h[p+n[s]]=t[r++]);return h}function Ti(t,e){var n=-1,i=t.length;for(e||(e=Lo(i));++n<i;)e[n]=t[n];return e}function Ri(t,e,n,i){var r=!n;n||(n={});for(var o=-1,s=e.length;++o<s;){var a=e[o],u=i?i(n[a],t[a],a,n,t):Y;u===Y&&(u=t[a]),r?He(n,a,u):Ue(n,a,u)}return n}function Ii(t,e){return function(n,i){var r=Xa(n)?s:Ve,o=e?e():{};return r(n,t,sr(i,2),o)}}function Oi(t){return ei(function(e,n){var i=-1,r=n.length,o=r>1?n[r-1]:Y,s=r>2?n[2]:Y;for(o=t.length>3&&"function"==typeof o?(r--,o):Y,s&&dr(n[0],n[1],s)&&(o=r<3?Y:o,r=1),e=Fo(e);++i<r;){var a=n[i];a&&t(e,a,i,o)}return e})}function Ai(t,e){return function(n,i){if(null==n)return n;if(!Kr(n))return t(n,i);for(var r=n.length,o=e?r:-1,s=Fo(n);(e?o--:++o<r)&&!1!==i(s[o],o,s););return n}}function Li(t){return function(e,n,i){for(var r=-1,o=Fo(e),s=i(e),a=s.length;a--;){var u=s[t?a:++r];if(!1===n(o[u],u,o))break}return e}}function ki(t){return function(e){var n=P(e=po(e))?z(e):Y,i=n?n[0]:e.charAt(0),r=n?wi(n,1).join(""):e.slice(1);return i[t]()+r}}function Mi(t){return function(e){return d(Eo(xo(e).replace(qe,"")),t,"")}}function Pi(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Us(t.prototype),i=t.apply(n,e);return eo(i)?i:n}}function Di(t,e,n){var i=Pi(t);return function r(){for(var s=arguments.length,a=Lo(s),u=s,l=or(r);u--;)a[u]=arguments[u];var c=s<3&&a[0]!==l&&a[s-1]!==l?[]:G(a,l);return(s-=c.length)<n?Hi(t,e,Gi,r.placeholder,Y,a,c,Y,Y,n-s):o(this&&this!==fn&&this instanceof r?i:t,this,a)}}function Fi(t){return function(e,n,i){var r=Fo(e);if(!Kr(e)){var o=sr(n,3);e=mo(e),n=function(t){return o(r[t],t,r)}}var s=t(e,n,i);return s>-1?r[o?e[s]:s]:Y}}function Ni(t){return er(function(e){var n=e.length,i=n,o=r.prototype.thru;for(t&&e.reverse();i--;){var s=e[i];if("function"!=typeof s)throw new Wo(H);if(o&&!a&&"wrapper"==rr(s))var a=new r([],!0)}for(i=a?i:n;++i<n;){var u=rr(s=e[i]),l="wrapper"==u?$s(s):Y;a=l&&gr(l[0])&&l[1]==(ut|rt|st|lt)&&!l[4].length&&1==l[9]?a[rr(l[0])].apply(a,l[3]):1==s.length&&gr(s)?a[u]():a.thru(s)}return function(){var t=arguments,i=t[0];if(a&&1==t.length&&Xa(i))return a.plant(i).value();for(var r=0,o=n?e[r].apply(this,t):i;++r<n;)o=e[r].call(this,o);return o}})}function Gi(t,e,n,i,r,o,s,a,u,l){var c=e&ut,h=e&et,f=e&nt,p=e&(rt|ot),d=e&ct,v=f?Y:Pi(t);return function g(){for(var m=arguments.length,y=Lo(m),_=m;_--;)y[_]=arguments[_];if(p)var w=or(g),b=function(t,e){for(var n=t.length,i=0;n--;)t[n]===e&&++i;return i}(y,w);if(i&&(y=ji(y,i,r,p)),o&&(y=Si(y,o,s,p)),m-=b,p&&m<l){var x=G(y,w);return Hi(t,e,Gi,g.placeholder,n,y,x,a,u,l-m)}var E=h?n:this,C=f?E[t]:t;return m=y.length,a?y=function(t,e){for(var n=t.length,i=xs(e.length,n),r=Ti(t);i--;){var o=e[i];t[i]=pr(o,n)?r[o]:Y}return t}(y,a):d&&m>1&&y.reverse(),c&&u<m&&(y.length=u),this&&this!==fn&&this instanceof g&&(C=v||Pi(C)),C.apply(E,y)}}function Wi(t,e){return function(n,i){return function(t,e,n,i){return dn(t,function(t,r,o){e(i,n(t),r,o)}),i}(n,t,e(i),{})}}function Bi(t,e){return function(n,i){var r;if(n===Y&&i===Y)return e;if(n!==Y&&(r=n),i!==Y){if(r===Y)return i;"string"==typeof n||"string"==typeof i?(n=li(n),i=li(i)):(n=ui(n),i=ui(i)),r=t(n,i)}return r}}function zi(t){return er(function(e){return e=f(e,I(sr())),ei(function(n){var i=this;return t(e,function(t){return o(t,i,n)})})})}function Ui(t,e){var n=(e=e===Y?" ":li(e)).length;if(n<2)return n?ti(e,t):e;var i=ti(e,ds(t/B(e)));return P(e)?wi(z(i),0,t).join(""):i.slice(0,t)}function Yi(t,e,n,i){var r=e&et,s=Pi(t);return function e(){for(var a=-1,u=arguments.length,l=-1,c=i.length,h=Lo(c+u),f=this&&this!==fn&&this instanceof e?s:t;++l<c;)h[l]=i[l];for(;u--;)h[l++]=arguments[++a];return o(f,r?n:this,h)}}function Vi(t){return function(e,n,i){return i&&"number"!=typeof i&&dr(e,n,i)&&(n=i=Y),e=uo(e),n===Y?(n=e,e=0):n=uo(n),function(t,e,n,i){for(var r=-1,o=bs(ds((e-t)/(n||1)),0),s=Lo(o);o--;)s[i?o:++r]=t,t+=n;return s}(e,n,i=i===Y?e<n?1:-1:uo(i),t)}}function Xi(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=ho(e),n=ho(n)),t(e,n)}}function Hi(t,e,n,i,r,o,s,a,u,l){var c=e&rt;e|=c?st:at,(e&=~(c?at:st))&it||(e&=~(et|nt));var h=[t,e,r,c?o:Y,c?s:Y,c?Y:o,c?Y:s,a,u,l],f=n.apply(Y,h);return gr(t)&&ra(f,h),f.placeholder=i,Er(f,t,e)}function Zi(t){var e=Do[t];return function(t,n){if(t=ho(t),n=null==n?0:xs(lo(n),292)){var i=(po(t)+"e").split("e");return+((i=(po(e(i[0]+"e"+(+i[1]+n)))+"e").split("e"))[0]+"e"+(+i[1]-n))}return e(t)}}function Ki(t){return function(e){var n=na(e);return n==Mt?F(e):n==Wt?function(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}(e):function(t,e){return f(e,function(e){return[e,t[e]]})}(e,t(e))}}function qi(t,e,n,i,r,o,s,a){var u=e&nt;if(!u&&"function"!=typeof t)throw new Wo(H);var l=i?i.length:0;if(l||(e&=~(st|at),i=r=Y),s=s===Y?s:bs(lo(s),0),a=a===Y?a:lo(a),l-=r?r.length:0,e&at){var c=i,h=r;i=r=Y}var f=u?Y:$s(t),p=[t,e,n,i,r,c,h,o,s,a];if(f&&function(t,e){var n=t[1],i=e[1],r=n|i,o=r<(et|nt|ut),s=i==ut&&n==rt||i==ut&&n==lt&&t[7].length<=e[8]||i==(ut|lt)&&e[7].length<=e[8]&&n==rt;if(!o&&!s)return t;i&et&&(t[2]=e[2],r|=n&et?0:it);var a=e[3];if(a){var u=t[3];t[3]=u?ji(u,a,e[4]):a,t[4]=u?G(t[3],K):e[4]}(a=e[5])&&(u=t[5],t[5]=u?Si(u,a,e[6]):a,t[6]=u?G(t[5],K):e[6]),(a=e[7])&&(t[7]=a),i&ut&&(t[8]=null==t[8]?e[8]:xs(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=r}(p,f),t=p[0],e=p[1],n=p[2],i=p[3],r=p[4],!(a=p[9]=p[9]===Y?u?0:t.length:bs(p[9]-l,0))&&e&(rt|ot)&&(e&=~(rt|ot)),e&&e!=et)d=e==rt||e==ot?Di(t,e,a):e!=st&&e!=(et|st)||r.length?Gi.apply(Y,p):Yi(t,e,n,i);else var d=function(t,e,n){var i=e&et,r=Pi(t);return function e(){return(this&&this!==fn&&this instanceof e?r:t).apply(i?n:this,arguments)}}(t,e,n);return Er((f?Zs:ra)(d,p),t,e)}function Ji(t,e,n,i){return t===Y||Zr(t,Uo[n])&&!Xo.call(i,n)?e:t}function Qi(t,e,n,i,r,o){return eo(t)&&eo(e)&&(o.set(e,t),Hn(t,e,Y,Qi,o),o.delete(e)),t}function $i(t){return ro(t)?Y:t}function tr(t,e,n,i,r,o){var s=n&$,a=t.length,u=e.length;if(a!=u&&!(s&&u>a))return!1;var l=o.get(t);if(l&&o.get(e))return l==e;var c=-1,h=!0,f=n&tt?new Ne:Y;for(o.set(t,e),o.set(e,t);++c<a;){var p=t[c],d=e[c];if(i)var v=s?i(d,p,c,e,t,o):i(p,d,c,t,e,o);if(v!==Y){if(v)continue;h=!1;break}if(f){if(!g(e,function(t,e){if(!A(f,e)&&(p===t||r(p,t,n,i,o)))return f.push(e)})){h=!1;break}}else if(p!==d&&!r(p,d,n,i,o)){h=!1;break}}return o.delete(t),o.delete(e),h}function er(t){return sa(wr(t,Y,Ar),t+"")}function nr(t){return In(t,mo,ta)}function ir(t){return In(t,yo,ea)}function rr(t){for(var e=t.name+"",n=Ms[e],i=Xo.call(Ms,e)?n.length:0;i--;){var r=n[i],o=r.func;if(null==o||o==t)return r.name}return e}function or(t){return(Xo.call(n,"placeholder")?n:t).placeholder}function sr(){var t=n.iteratee||So;return t=t===So?Wn:t,arguments.length?t(arguments[0],arguments[1]):t}function ar(t,e){var n=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map}function ur(t){for(var e=mo(t),n=e.length;n--;){var i=e[n],r=t[i];e[n]=[i,r,yr(r)]}return e}function lr(t,e){var n=function(t,e){return null==t?Y:t[e]}(t,e);return Gn(n)?n:Y}function cr(t,e,n){for(var i=-1,r=(e=_i(e,t)).length,o=!1;++i<r;){var s=Sr(e[i]);if(!(o=null!=t&&n(t,s)))break;t=t[s]}return o||++i!=r?o:!!(r=null==t?0:t.length)&&to(r)&&pr(s,r)&&(Xa(t)||Va(t))}function hr(t){return"function"!=typeof t.constructor||mr(t)?{}:Us(is(t))}function fr(t){return Xa(t)||Va(t)||!!(as&&t&&t[as])}function pr(t,e){var n=typeof t;return!!(e=null==e?yt:e)&&("number"==n||"symbol"!=n&&Le.test(t))&&t>-1&&t%1==0&&t<e}function dr(t,e,n){if(!eo(n))return!1;var i=typeof e;return!!("number"==i?Kr(n)&&pr(e,n.length):"string"==i&&e in n)&&Zr(n[e],t)}function vr(t,e){if(Xa(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!so(t))||de.test(t)||!pe.test(t)||null!=e&&t in Fo(e)}function gr(t){var e=rr(t),i=n[e];if("function"!=typeof i||!(e in j.prototype))return!1;if(t===i)return!0;var r=$s(i);return!!r&&t===r[0]}function mr(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Uo)}function yr(t){return t==t&&!eo(t)}function _r(t,e){return function(n){return null!=n&&n[t]===e&&(e!==Y||t in Fo(n))}}function wr(t,e,n){return e=bs(e===Y?t.length-1:e,0),function(){for(var i=arguments,r=-1,s=bs(i.length-e,0),a=Lo(s);++r<s;)a[r]=i[e+r];r=-1;for(var u=Lo(e+1);++r<e;)u[r]=i[r];return u[e]=n(a),o(t,this,u)}}function br(t,e){return e.length<2?t:Cn(t,ii(e,0,-1))}function xr(t,e){if("__proto__"!=e)return t[e]}function Er(t,e,n){var i=e+"";return sa(t,function(t,e){var n=e.length;if(!n)return t;var i=n-1;return e[i]=(n>1?"& ":"")+e[i],e=e.join(n>2?", ":" "),t.replace(be,"{\n/* [wrapped with "+e+"] */\n")}(i,function(t,e){return a(Ct,function(n){var i="_."+n[0];e&n[1]&&!c(t,i)&&t.push(i)}),t.sort()}(function(t){var e=t.match(xe);return e?e[1].split(Ee):[]}(i),n)))}function Cr(t){var e=0,n=0;return function(){var i=Es(),r=dt-(i-n);if(n=i,r>0){if(++e>=pt)return arguments[0]}else e=0;return t.apply(Y,arguments)}}function jr(t,e){var n=-1,i=t.length,r=i-1;for(e=e===Y?i:e;++n<e;){var o=$n(n,r),s=t[o];t[o]=t[n],t[n]=s}return t.length=e,t}function Sr(t){if("string"==typeof t||so(t))return t;var e=t+"";return"0"==e&&1/t==-mt?"-0":e}function Tr(t){if(null!=t){try{return Vo.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Rr(t){if(t instanceof j)return t.clone();var e=new r(t.__wrapped__,t.__chain__);return e.__actions__=Ti(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function Ir(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:lo(n);return r<0&&(r=bs(i+r,0)),_(t,sr(e,3),r)}function Or(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=i-1;return n!==Y&&(r=lo(n),r=n<0?bs(i+r,0):xs(r,i-1)),_(t,sr(e,3),r,!0)}function Ar(t){return null!=t&&t.length?pn(t,1):[]}function Lr(t){return t&&t.length?t[0]:Y}function kr(t){var e=null==t?0:t.length;return e?t[e-1]:Y}function Mr(t,e){return t&&t.length&&e&&e.length?Jn(t,e):t}function Pr(t){return null==t?t:Ss.call(t)}function Dr(t){if(!t||!t.length)return[];var e=0;return t=l(t,function(t){if(qr(t))return e=bs(t.length,e),!0}),R(e,function(e){return f(t,C(e))})}function Fr(t,e){if(!t||!t.length)return[];var n=Dr(t);return null==e?n:f(n,function(t){return o(e,Y,t)})}function Nr(t){var e=n(t);return e.__chain__=!0,e}function Gr(t,e){return e(t)}function Wr(t,e){return(Xa(t)?a:Ys)(t,sr(e,3))}function Br(t,e){return(Xa(t)?function(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}:Vs)(t,sr(e,3))}function zr(t,e){return(Xa(t)?f:Yn)(t,sr(e,3))}function Ur(t,e,n){return e=n?Y:e,e=t&&null==e?t.length:e,qi(t,ut,Y,Y,Y,Y,e)}function Yr(t,e){var n;if("function"!=typeof e)throw new Wo(H);return t=lo(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=Y),n}}function Vr(t,e,n){function i(e){var n=u,i=l;return u=l=Y,d=e,h=t.apply(i,n)}function r(t){var n=t-p;return p===Y||n>=e||n<0||g&&t-d>=c}function o(){var t=Ma();if(r(t))return s(t);f=oa(o,function(t){var n=e-(t-p);return g?xs(n,c-(t-d)):n}(t))}function s(t){return f=Y,m&&u?i(t):(u=l=Y,h)}function a(){var t=Ma(),n=r(t);if(u=arguments,l=this,p=t,n){if(f===Y)return function(t){return d=t,f=oa(o,e),v?i(t):h}(p);if(g)return f=oa(o,e),i(p)}return f===Y&&(f=oa(o,e)),h}var u,l,c,h,f,p,d=0,v=!1,g=!1,m=!0;if("function"!=typeof t)throw new Wo(H);return e=ho(e)||0,eo(n)&&(v=!!n.leading,c=(g="maxWait"in n)?bs(ho(n.maxWait)||0,e):c,m="trailing"in n?!!n.trailing:m),a.cancel=function(){f!==Y&&Js(f),d=0,u=p=l=f=Y},a.flush=function(){return f===Y?h:s(Ma())},a}function Xr(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new Wo(H);var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var s=t.apply(this,i);return n.cache=o.set(r,s)||o,s};return n.cache=new(Xr.Cache||Fe),n}function Hr(t){if("function"!=typeof t)throw new Wo(H);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function Zr(t,e){return t===e||t!=t&&e!=e}function Kr(t){return null!=t&&to(t.length)&&!Qr(t)}function qr(t){return no(t)&&Kr(t)}function Jr(t){if(!no(t))return!1;var e=On(t);return e==At||e==Ot||"string"==typeof t.message&&"string"==typeof t.name&&!ro(t)}function Qr(t){if(!eo(t))return!1;var e=On(t);return e==Lt||e==kt||e==Tt||e==Nt}function $r(t){return"number"==typeof t&&t==lo(t)}function to(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=yt}function eo(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function no(t){return null!=t&&"object"==typeof t}function io(t){return"number"==typeof t||no(t)&&On(t)==Pt}function ro(t){if(!no(t)||On(t)!=Ft)return!1;var e=is(t);if(null===e)return!0;var n=Xo.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Vo.call(n)==qo}function oo(t){return"string"==typeof t||!Xa(t)&&no(t)&&On(t)==Bt}function so(t){return"symbol"==typeof t||no(t)&&On(t)==zt}function ao(t){if(!t)return[];if(Kr(t))return oo(t)?z(t):Ti(t);if(us&&t[us])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[us]());var e=na(t);return(e==Mt?F:e==Wt?W:wo)(t)}function uo(t){return t?(t=ho(t))===mt||t===-mt?(t<0?-1:1)*_t:t==t?t:0:0===t?t:0}function lo(t){var e=uo(t),n=e%1;return e==e?n?e-n:e:0}function co(t){return t?Ke(lo(t),0,bt):0}function ho(t){if("number"==typeof t)return t;if(so(t))return wt;if(eo(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=eo(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(ye,"");var n=Ie.test(t);return n||Ae.test(t)?ln(t.slice(2),n?2:8):Re.test(t)?wt:+t}function fo(t){return Ri(t,yo(t))}function po(t){return null==t?"":li(t)}function vo(t,e,n){var i=null==t?Y:Cn(t,e);return i===Y?n:i}function go(t,e){return null!=t&&cr(t,e,kn)}function mo(t){return Kr(t)?We(t):Bn(t)}function yo(t){return Kr(t)?We(t,!0):zn(t)}function _o(t,e){if(null==t)return{};var n=f(ir(t),function(t){return[t]});return e=sr(e),qn(t,n,function(t,n){return e(t,n[0])})}function wo(t){return null==t?[]:O(t,mo(t))}function bo(t){return ju(po(t).toLowerCase())}function xo(t){return(t=po(t))&&t.replace(ke,jn).replace(Je,"")}function Eo(t,e,n){return t=po(t),(e=n?Y:e)===Y?D(t)?U(t):m(t):t.match(e)||[]}function Co(t){return function(){return t}}function jo(t){return t}function So(t){return Wn("function"==typeof t?t:Qe(t,q))}function To(t,e,n){var i=mo(e),r=mn(e,i);null!=n||eo(e)&&(r.length||!i.length)||(n=e,e=t,t=this,r=mn(e,mo(e)));var o=!(eo(n)&&"chain"in n&&!n.chain),s=Qr(t);return a(r,function(n){var i=e[n];t[n]=i,s&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__);return(n.__actions__=Ti(this.__actions__)).push({func:i,args:arguments,thisArg:t}),n.__chain__=e,n}return i.apply(t,p([this.value()],arguments))})}),t}function Ro(){}function Io(t){return vr(t)?C(Sr(t)):function(t){return function(e){return Cn(e,t)}}(t)}function Oo(){return[]}function Ao(){return!1}var Lo=(e=null==e?fn:Rn.defaults(fn.Object(),e,Rn.pick(fn,nn))).Array,ko=e.Date,Mo=e.Error,Po=e.Function,Do=e.Math,Fo=e.Object,No=e.RegExp,Go=e.String,Wo=e.TypeError,Bo=Lo.prototype,zo=Po.prototype,Uo=Fo.prototype,Yo=e["__core-js_shared__"],Vo=zo.toString,Xo=Uo.hasOwnProperty,Ho=0,Zo=function(){var t=/[^.]+$/.exec(Yo&&Yo.keys&&Yo.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Ko=Uo.toString,qo=Vo.call(Fo),Jo=fn._,Qo=No("^"+Vo.call(Xo).replace(ge,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),$o=vn?e.Buffer:Y,ts=e.Symbol,es=e.Uint8Array,ns=$o?$o.allocUnsafe:Y,is=N(Fo.getPrototypeOf,Fo),rs=Fo.create,os=Uo.propertyIsEnumerable,ss=Bo.splice,as=ts?ts.isConcatSpreadable:Y,us=ts?ts.iterator:Y,ls=ts?ts.toStringTag:Y,cs=function(){try{var t=lr(Fo,"defineProperty");return t({},"",{}),t}catch(t){}}(),hs=e.clearTimeout!==fn.clearTimeout&&e.clearTimeout,fs=ko&&ko.now!==fn.Date.now&&ko.now,ps=e.setTimeout!==fn.setTimeout&&e.setTimeout,ds=Do.ceil,vs=Do.floor,gs=Fo.getOwnPropertySymbols,ms=$o?$o.isBuffer:Y,ys=e.isFinite,_s=Bo.join,ws=N(Fo.keys,Fo),bs=Do.max,xs=Do.min,Es=ko.now,Cs=e.parseInt,js=Do.random,Ss=Bo.reverse,Ts=lr(e,"DataView"),Rs=lr(e,"Map"),Is=lr(e,"Promise"),Os=lr(e,"Set"),As=lr(e,"WeakMap"),Ls=lr(Fo,"create"),ks=As&&new As,Ms={},Ps=Tr(Ts),Ds=Tr(Rs),Fs=Tr(Is),Ns=Tr(Os),Gs=Tr(As),Ws=ts?ts.prototype:Y,Bs=Ws?Ws.valueOf:Y,zs=Ws?Ws.toString:Y,Us=function(){function t(){}return function(e){if(!eo(e))return{};if(rs)return rs(e);t.prototype=e;var n=new t;return t.prototype=Y,n}}();n.templateSettings={escape:ce,evaluate:he,interpolate:fe,variable:"",imports:{_:n}},n.prototype=i.prototype,n.prototype.constructor=n,r.prototype=Us(i.prototype),r.prototype.constructor=r,j.prototype=Us(i.prototype),j.prototype.constructor=j,Ce.prototype.clear=function(){this.__data__=Ls?Ls(null):{},this.size=0},Ce.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Ce.prototype.get=function(t){var e=this.__data__;if(Ls){var n=e[t];return n===Z?Y:n}return Xo.call(e,t)?e[t]:Y},Ce.prototype.has=function(t){var e=this.__data__;return Ls?e[t]!==Y:Xo.call(e,t)},Ce.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Ls&&e===Y?Z:e,this},De.prototype.clear=function(){this.__data__=[],this.size=0},De.prototype.delete=function(t){var e=this.__data__,n=Ye(e,t);return!(n<0||(n==e.length-1?e.pop():ss.call(e,n,1),--this.size,0))},De.prototype.get=function(t){var e=this.__data__,n=Ye(e,t);return n<0?Y:e[n][1]},De.prototype.has=function(t){return Ye(this.__data__,t)>-1},De.prototype.set=function(t,e){var n=this.__data__,i=Ye(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this},Fe.prototype.clear=function(){this.size=0,this.__data__={hash:new Ce,map:new(Rs||De),string:new Ce}},Fe.prototype.delete=function(t){var e=ar(this,t).delete(t);return this.size-=e?1:0,e},Fe.prototype.get=function(t){return ar(this,t).get(t)},Fe.prototype.has=function(t){return ar(this,t).has(t)},Fe.prototype.set=function(t,e){var n=ar(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this},Ne.prototype.add=Ne.prototype.push=function(t){return this.__data__.set(t,Z),this},Ne.prototype.has=function(t){return this.__data__.has(t)},Ge.prototype.clear=function(){this.__data__=new De,this.size=0},Ge.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Ge.prototype.get=function(t){return this.__data__.get(t)},Ge.prototype.has=function(t){return this.__data__.has(t)},Ge.prototype.set=function(t,e){var n=this.__data__;if(n instanceof De){var i=n.__data__;if(!Rs||i.length<V-1)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new Fe(i)}return n.set(t,e),this.size=n.size,this};var Ys=Ai(dn),Vs=Ai(gn,!0),Xs=Li(),Hs=Li(!0),Zs=ks?function(t,e){return ks.set(t,e),t}:jo,Ks=cs?function(t,e){return cs(t,"toString",{configurable:!0,enumerable:!1,value:Co(e),writable:!0})}:jo,qs=ei,Js=hs||function(t){return fn.clearTimeout(t)},Qs=Os&&1/W(new Os([,-0]))[1]==mt?function(t){return new Os(t)}:Ro,$s=ks?function(t){return ks.get(t)}:Ro,ta=gs?function(t){return null==t?[]:(t=Fo(t),l(gs(t),function(e){return os.call(t,e)}))}:Oo,ea=gs?function(t){for(var e=[];t;)p(e,ta(t)),t=is(t);return e}:Oo,na=On;(Ts&&na(new Ts(new ArrayBuffer(1)))!=Ht||Rs&&na(new Rs)!=Mt||Is&&"[object Promise]"!=na(Is.resolve())||Os&&na(new Os)!=Wt||As&&na(new As)!=Yt)&&(na=function(t){var e=On(t),n=e==Ft?t.constructor:Y,i=n?Tr(n):"";if(i)switch(i){case Ps:return Ht;case Ds:return Mt;case Fs:return"[object Promise]";case Ns:return Wt;case Gs:return Yt}return e});var ia=Yo?Qr:Ao,ra=Cr(Zs),oa=ps||function(t,e){return fn.setTimeout(t,e)},sa=Cr(Ks),aa=function(t){var e=Xr(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(ve,function(t,n,i,r){e.push(i?r.replace(je,"$1"):n||t)}),e},function(t){return 500===n.size&&n.clear(),t}),n=e.cache;return e}(),ua=ei(function(t,e){return qr(t)?en(t,pn(e,1,qr,!0)):[]}),la=ei(function(t,e){var n=kr(e);return qr(n)&&(n=Y),qr(t)?en(t,pn(e,1,qr,!0),sr(n,2)):[]}),ca=ei(function(t,e){var n=kr(e);return qr(n)&&(n=Y),qr(t)?en(t,pn(e,1,qr,!0),Y,n):[]}),ha=ei(function(t){var e=f(t,mi);return e.length&&e[0]===t[0]?Mn(e):[]}),fa=ei(function(t){var e=kr(t),n=f(t,mi);return e===kr(n)?e=Y:n.pop(),n.length&&n[0]===t[0]?Mn(n,sr(e,2)):[]}),pa=ei(function(t){var e=kr(t),n=f(t,mi);return(e="function"==typeof e?e:Y)&&n.pop(),n.length&&n[0]===t[0]?Mn(n,Y,e):[]}),da=ei(Mr),va=er(function(t,e){var n=null==t?0:t.length,i=Ze(t,e);return Qn(t,f(e,function(t){return pr(t,n)?+t:t}).sort(Ci)),i}),ga=ei(function(t){return ci(pn(t,1,qr,!0))}),ma=ei(function(t){var e=kr(t);return qr(e)&&(e=Y),ci(pn(t,1,qr,!0),sr(e,2))}),ya=ei(function(t){var e=kr(t);return e="function"==typeof e?e:Y,ci(pn(t,1,qr,!0),Y,e)}),_a=ei(function(t,e){return qr(t)?en(t,e):[]}),wa=ei(function(t){return vi(l(t,qr))}),ba=ei(function(t){var e=kr(t);return qr(e)&&(e=Y),vi(l(t,qr),sr(e,2))}),xa=ei(function(t){var e=kr(t);return e="function"==typeof e?e:Y,vi(l(t,qr),Y,e)}),Ea=ei(Dr),Ca=ei(function(t){var e=t.length,n=e>1?t[e-1]:Y;return Fr(t,n="function"==typeof n?(t.pop(),n):Y)}),ja=er(function(t){var e=t.length,n=e?t[0]:0,i=this.__wrapped__,o=function(e){return Ze(e,t)};return!(e>1||this.__actions__.length)&&i instanceof j&&pr(n)?((i=i.slice(n,+n+(e?1:0))).__actions__.push({func:Gr,args:[o],thisArg:Y}),new r(i,this.__chain__).thru(function(t){return e&&!t.length&&t.push(Y),t})):this.thru(o)}),Sa=Ii(function(t,e,n){Xo.call(t,n)?++t[n]:He(t,n,1)}),Ta=Fi(Ir),Ra=Fi(Or),Ia=Ii(function(t,e,n){Xo.call(t,n)?t[n].push(e):He(t,n,[e])}),Oa=ei(function(t,e,n){var i=-1,r="function"==typeof e,s=Kr(t)?Lo(t.length):[];return Ys(t,function(t){s[++i]=r?o(e,t,n):Pn(t,e,n)}),s}),Aa=Ii(function(t,e,n){He(t,n,e)}),La=Ii(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),ka=ei(function(t,e){if(null==t)return[];var n=e.length;return n>1&&dr(t,e[0],e[1])?e=[]:n>2&&dr(e[0],e[1],e[2])&&(e=[e[0]]),Kn(t,pn(e,1),[])}),Ma=fs||function(){return fn.Date.now()},Pa=ei(function(t,e,n){var i=et;if(n.length){var r=G(n,or(Pa));i|=st}return qi(t,i,e,n,r)}),Da=ei(function(t,e,n){var i=et|nt;if(n.length){var r=G(n,or(Da));i|=st}return qi(e,i,t,n,r)}),Fa=ei(function(t,e){return tn(t,1,e)}),Na=ei(function(t,e,n){return tn(t,ho(e)||0,n)});Xr.Cache=Fe;var Ga=qs(function(t,e){var n=(e=1==e.length&&Xa(e[0])?f(e[0],I(sr())):f(pn(e,1),I(sr()))).length;return ei(function(i){for(var r=-1,s=xs(i.length,n);++r<s;)i[r]=e[r].call(this,i[r]);return o(t,this,i)})}),Wa=ei(function(t,e){var n=G(e,or(Wa));return qi(t,st,Y,e,n)}),Ba=ei(function(t,e){var n=G(e,or(Ba));return qi(t,at,Y,e,n)}),za=er(function(t,e){return qi(t,lt,Y,Y,Y,e)}),Ua=Xi(An),Ya=Xi(function(t,e){return t>=e}),Va=Dn(function(){return arguments}())?Dn:function(t){return no(t)&&Xo.call(t,"callee")&&!os.call(t,"callee")},Xa=Lo.isArray,Ha=yn?I(yn):function(t){return no(t)&&On(t)==Xt},Za=ms||Ao,Ka=_n?I(_n):function(t){return no(t)&&On(t)==It},qa=wn?I(wn):function(t){return no(t)&&na(t)==Mt},Ja=bn?I(bn):function(t){return no(t)&&On(t)==Gt},Qa=xn?I(xn):function(t){return no(t)&&na(t)==Wt},$a=En?I(En):function(t){return no(t)&&to(t.length)&&!!on[On(t)]},tu=Xi(Un),eu=Xi(function(t,e){return t<=e}),nu=Oi(function(t,e){if(mr(e)||Kr(e))Ri(e,mo(e),t);else for(var n in e)Xo.call(e,n)&&Ue(t,n,e[n])}),iu=Oi(function(t,e){Ri(e,yo(e),t)}),ru=Oi(function(t,e,n,i){Ri(e,yo(e),t,i)}),ou=Oi(function(t,e,n,i){Ri(e,mo(e),t,i)}),su=er(Ze),au=ei(function(t,e){t=Fo(t);var n=-1,i=e.length,r=i>2?e[2]:Y;for(r&&dr(e[0],e[1],r)&&(i=1);++n<i;)for(var o=e[n],s=yo(o),a=-1,u=s.length;++a<u;){var l=s[a],c=t[l];(c===Y||Zr(c,Uo[l])&&!Xo.call(t,l))&&(t[l]=o[l])}return t}),uu=ei(function(t){return t.push(Y,Qi),o(pu,Y,t)}),lu=Wi(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Ko.call(e)),t[e]=n},Co(jo)),cu=Wi(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Ko.call(e)),Xo.call(t,e)?t[e].push(n):t[e]=[n]},sr),hu=ei(Pn),fu=Oi(function(t,e,n){Hn(t,e,n)}),pu=Oi(function(t,e,n,i){Hn(t,e,n,i)}),du=er(function(t,e){var n={};if(null==t)return n;var i=!1;e=f(e,function(e){return e=_i(e,t),i||(i=e.length>1),e}),Ri(t,ir(t),n),i&&(n=Qe(n,q|J|Q,$i));for(var r=e.length;r--;)hi(n,e[r]);return n}),vu=er(function(t,e){return null==t?{}:function(t,e){return qn(t,e,function(e,n){return go(t,n)})}(t,e)}),gu=Ki(mo),mu=Ki(yo),yu=Mi(function(t,e,n){return e=e.toLowerCase(),t+(n?bo(e):e)}),_u=Mi(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),wu=Mi(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),bu=ki("toLowerCase"),xu=Mi(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),Eu=Mi(function(t,e,n){return t+(n?" ":"")+ju(e)}),Cu=Mi(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),ju=ki("toUpperCase"),Su=ei(function(t,e){try{return o(t,Y,e)}catch(t){return Jr(t)?t:new Mo(t)}}),Tu=er(function(t,e){return a(e,function(e){e=Sr(e),He(t,e,Pa(t[e],t))}),t}),Ru=Ni(),Iu=Ni(!0),Ou=ei(function(t,e){return function(n){return Pn(n,t,e)}}),Au=ei(function(t,e){return function(n){return Pn(t,n,e)}}),Lu=zi(f),ku=zi(u),Mu=zi(g),Pu=Vi(),Du=Vi(!0),Fu=Bi(function(t,e){return t+e},0),Nu=Zi("ceil"),Gu=Bi(function(t,e){return t/e},1),Wu=Zi("floor"),Bu=Bi(function(t,e){return t*e},1),zu=Zi("round"),Uu=Bi(function(t,e){return t-e},0);return n.after=function(t,e){if("function"!=typeof e)throw new Wo(H);return t=lo(t),function(){if(--t<1)return e.apply(this,arguments)}},n.ary=Ur,n.assign=nu,n.assignIn=iu,n.assignInWith=ru,n.assignWith=ou,n.at=su,n.before=Yr,n.bind=Pa,n.bindAll=Tu,n.bindKey=Da,n.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Xa(t)?t:[t]},n.chain=Nr,n.chunk=function(t,e,n){e=(n?dr(t,e,n):e===Y)?1:bs(lo(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];for(var r=0,o=0,s=Lo(ds(i/e));r<i;)s[o++]=ii(t,r,r+=e);return s},n.compact=function(t){for(var e=-1,n=null==t?0:t.length,i=0,r=[];++e<n;){var o=t[e];o&&(r[i++]=o)}return r},n.concat=function(){var t=arguments.length;if(!t)return[];for(var e=Lo(t-1),n=arguments[0],i=t;i--;)e[i-1]=arguments[i];return p(Xa(n)?Ti(n):[n],pn(e,1))},n.cond=function(t){var e=null==t?0:t.length,n=sr();return t=e?f(t,function(t){if("function"!=typeof t[1])throw new Wo(H);return[n(t[0]),t[1]]}):[],ei(function(n){for(var i=-1;++i<e;){var r=t[i];if(o(r[0],this,n))return o(r[1],this,n)}})},n.conforms=function(t){return function(t){var e=mo(t);return function(n){return $e(n,t,e)}}(Qe(t,q))},n.constant=Co,n.countBy=Sa,n.create=function(t,e){var n=Us(t);return null==e?n:Xe(n,e)},n.curry=function t(e,n,i){var r=qi(e,rt,Y,Y,Y,Y,Y,n=i?Y:n);return r.placeholder=t.placeholder,r},n.curryRight=function t(e,n,i){var r=qi(e,ot,Y,Y,Y,Y,Y,n=i?Y:n);return r.placeholder=t.placeholder,r},n.debounce=Vr,n.defaults=au,n.defaultsDeep=uu,n.defer=Fa,n.delay=Na,n.difference=ua,n.differenceBy=la,n.differenceWith=ca,n.drop=function(t,e,n){var i=null==t?0:t.length;return i?ii(t,(e=n||e===Y?1:lo(e))<0?0:e,i):[]},n.dropRight=function(t,e,n){var i=null==t?0:t.length;return i?ii(t,0,(e=i-(e=n||e===Y?1:lo(e)))<0?0:e):[]},n.dropRightWhile=function(t,e){return t&&t.length?pi(t,sr(e,3),!0,!0):[]},n.dropWhile=function(t,e){return t&&t.length?pi(t,sr(e,3),!0):[]},n.fill=function(t,e,n,i){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&dr(t,e,n)&&(n=0,i=r),function(t,e,n,i){var r=t.length;for((n=lo(n))<0&&(n=-n>r?0:r+n),(i=i===Y||i>r?r:lo(i))<0&&(i+=r),i=n>i?0:co(i);n<i;)t[n++]=e;return t}(t,e,n,i)):[]},n.filter=function(t,e){return(Xa(t)?l:hn)(t,sr(e,3))},n.flatMap=function(t,e){return pn(zr(t,e),1)},n.flatMapDeep=function(t,e){return pn(zr(t,e),mt)},n.flatMapDepth=function(t,e,n){return n=n===Y?1:lo(n),pn(zr(t,e),n)},n.flatten=Ar,n.flattenDeep=function(t){return null!=t&&t.length?pn(t,mt):[]},n.flattenDepth=function(t,e){return null!=t&&t.length?pn(t,e=e===Y?1:lo(e)):[]},n.flip=function(t){return qi(t,ct)},n.flow=Ru,n.flowRight=Iu,n.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,i={};++e<n;){var r=t[e];i[r[0]]=r[1]}return i},n.functions=function(t){return null==t?[]:mn(t,mo(t))},n.functionsIn=function(t){return null==t?[]:mn(t,yo(t))},n.groupBy=Ia,n.initial=function(t){return null!=t&&t.length?ii(t,0,-1):[]},n.intersection=ha,n.intersectionBy=fa,n.intersectionWith=pa,n.invert=lu,n.invertBy=cu,n.invokeMap=Oa,n.iteratee=So,n.keyBy=Aa,n.keys=mo,n.keysIn=yo,n.map=zr,n.mapKeys=function(t,e){var n={};return e=sr(e,3),dn(t,function(t,i,r){He(n,e(t,i,r),t)}),n},n.mapValues=function(t,e){var n={};return e=sr(e,3),dn(t,function(t,i,r){He(n,i,e(t,i,r))}),n},n.matches=function(t){return Vn(Qe(t,q))},n.matchesProperty=function(t,e){return Xn(t,Qe(e,q))},n.memoize=Xr,n.merge=fu,n.mergeWith=pu,n.method=Ou,n.methodOf=Au,n.mixin=To,n.negate=Hr,n.nthArg=function(t){return t=lo(t),ei(function(e){return Zn(e,t)})},n.omit=du,n.omitBy=function(t,e){return _o(t,Hr(sr(e)))},n.once=function(t){return Yr(2,t)},n.orderBy=function(t,e,n,i){return null==t?[]:(Xa(e)||(e=null==e?[]:[e]),Xa(n=i?Y:n)||(n=null==n?[]:[n]),Kn(t,e,n))},n.over=Lu,n.overArgs=Ga,n.overEvery=ku,n.overSome=Mu,n.partial=Wa,n.partialRight=Ba,n.partition=La,n.pick=vu,n.pickBy=_o,n.property=Io,n.propertyOf=function(t){return function(e){return null==t?Y:Cn(t,e)}},n.pull=da,n.pullAll=Mr,n.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Jn(t,e,sr(n,2)):t},n.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?Jn(t,e,Y,n):t},n.pullAt=va,n.range=Pu,n.rangeRight=Du,n.rearg=za,n.reject=function(t,e){return(Xa(t)?l:hn)(t,Hr(sr(e,3)))},n.remove=function(t,e){var n=[];if(!t||!t.length)return n;var i=-1,r=[],o=t.length;for(e=sr(e,3);++i<o;){var s=t[i];e(s,i,t)&&(n.push(s),r.push(i))}return Qn(t,r),n},n.rest=function(t,e){if("function"!=typeof t)throw new Wo(H);return ei(t,e=e===Y?e:lo(e))},n.reverse=Pr,n.sampleSize=function(t,e,n){return e=(n?dr(t,e,n):e===Y)?1:lo(e),(Xa(t)?function(t,e){return jr(Ti(t),Ke(e,0,t.length))}:function(t,e){var n=wo(t);return jr(n,Ke(e,0,n.length))})(t,e)},n.set=function(t,e,n){return null==t?t:ni(t,e,n)},n.setWith=function(t,e,n,i){return i="function"==typeof i?i:Y,null==t?t:ni(t,e,n,i)},n.shuffle=function(t){return(Xa(t)?function(t){return jr(Ti(t))}:function(t){return jr(wo(t))})(t)},n.slice=function(t,e,n){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&dr(t,e,n)?(e=0,n=i):(e=null==e?0:lo(e),n=n===Y?i:lo(n)),ii(t,e,n)):[]},n.sortBy=ka,n.sortedUniq=function(t){return t&&t.length?ai(t):[]},n.sortedUniqBy=function(t,e){return t&&t.length?ai(t,sr(e,2)):[]},n.split=function(t,e,n){return n&&"number"!=typeof n&&dr(t,e,n)&&(e=n=Y),(n=n===Y?bt:n>>>0)?(t=po(t))&&("string"==typeof e||null!=e&&!Ja(e))&&!(e=li(e))&&P(t)?wi(z(t),0,n):t.split(e,n):[]},n.spread=function(t,e){if("function"!=typeof t)throw new Wo(H);return e=null==e?0:bs(lo(e),0),ei(function(n){var i=n[e],r=wi(n,0,e);return i&&p(r,i),o(t,this,r)})},n.tail=function(t){var e=null==t?0:t.length;return e?ii(t,1,e):[]},n.take=function(t,e,n){return t&&t.length?ii(t,0,(e=n||e===Y?1:lo(e))<0?0:e):[]},n.takeRight=function(t,e,n){var i=null==t?0:t.length;return i?ii(t,(e=i-(e=n||e===Y?1:lo(e)))<0?0:e,i):[]},n.takeRightWhile=function(t,e){return t&&t.length?pi(t,sr(e,3),!1,!0):[]},n.takeWhile=function(t,e){return t&&t.length?pi(t,sr(e,3)):[]},n.tap=function(t,e){return e(t),t},n.throttle=function(t,e,n){var i=!0,r=!0;if("function"!=typeof t)throw new Wo(H);return eo(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),Vr(t,e,{leading:i,maxWait:e,trailing:r})},n.thru=Gr,n.toArray=ao,n.toPairs=gu,n.toPairsIn=mu,n.toPath=function(t){return Xa(t)?f(t,Sr):so(t)?[t]:Ti(aa(po(t)))},n.toPlainObject=fo,n.transform=function(t,e,n){var i=Xa(t),r=i||Za(t)||$a(t);if(e=sr(e,4),null==n){var o=t&&t.constructor;n=r?i?new o:[]:eo(t)&&Qr(o)?Us(is(t)):{}}return(r?a:dn)(t,function(t,i,r){return e(n,t,i,r)}),n},n.unary=function(t){return Ur(t,1)},n.union=ga,n.unionBy=ma,n.unionWith=ya,n.uniq=function(t){return t&&t.length?ci(t):[]},n.uniqBy=function(t,e){return t&&t.length?ci(t,sr(e,2)):[]},n.uniqWith=function(t,e){return e="function"==typeof e?e:Y,t&&t.length?ci(t,Y,e):[]},n.unset=function(t,e){return null==t||hi(t,e)},n.unzip=Dr,n.unzipWith=Fr,n.update=function(t,e,n){return null==t?t:fi(t,e,yi(n))},n.updateWith=function(t,e,n,i){return i="function"==typeof i?i:Y,null==t?t:fi(t,e,yi(n),i)},n.values=wo,n.valuesIn=function(t){return null==t?[]:O(t,yo(t))},n.without=_a,n.words=Eo,n.wrap=function(t,e){return Wa(yi(e),t)},n.xor=wa,n.xorBy=ba,n.xorWith=xa,n.zip=Ea,n.zipObject=function(t,e){return gi(t||[],e||[],Ue)},n.zipObjectDeep=function(t,e){return gi(t||[],e||[],ni)},n.zipWith=Ca,n.entries=gu,n.entriesIn=mu,n.extend=iu,n.extendWith=ru,To(n,n),n.add=Fu,n.attempt=Su,n.camelCase=yu,n.capitalize=bo,n.ceil=Nu,n.clamp=function(t,e,n){return n===Y&&(n=e,e=Y),n!==Y&&(n=(n=ho(n))==n?n:0),e!==Y&&(e=(e=ho(e))==e?e:0),Ke(ho(t),e,n)},n.clone=function(t){return Qe(t,Q)},n.cloneDeep=function(t){return Qe(t,q|Q)},n.cloneDeepWith=function(t,e){return Qe(t,q|Q,e="function"==typeof e?e:Y)},n.cloneWith=function(t,e){return Qe(t,Q,e="function"==typeof e?e:Y)},n.conformsTo=function(t,e){return null==e||$e(t,e,mo(e))},n.deburr=xo,n.defaultTo=function(t,e){return null==t||t!=t?e:t},n.divide=Gu,n.endsWith=function(t,e,n){t=po(t),e=li(e);var i=t.length,r=n=n===Y?i:Ke(lo(n),0,i);return(n-=e.length)>=0&&t.slice(n,r)==e},n.eq=Zr,n.escape=function(t){return(t=po(t))&&le.test(t)?t.replace(ae,Sn):t},n.escapeRegExp=function(t){return(t=po(t))&&me.test(t)?t.replace(ge,"\\$&"):t},n.every=function(t,e,n){var i=Xa(t)?u:an;return n&&dr(t,e,n)&&(e=Y),i(t,sr(e,3))},n.find=Ta,n.findIndex=Ir,n.findKey=function(t,e){return y(t,sr(e,3),dn)},n.findLast=Ra,n.findLastIndex=Or,n.findLastKey=function(t,e){return y(t,sr(e,3),gn)},n.floor=Wu,n.forEach=Wr,n.forEachRight=Br,n.forIn=function(t,e){return null==t?t:Xs(t,sr(e,3),yo)},n.forInRight=function(t,e){return null==t?t:Hs(t,sr(e,3),yo)},n.forOwn=function(t,e){return t&&dn(t,sr(e,3))},n.forOwnRight=function(t,e){return t&&gn(t,sr(e,3))},n.get=vo,n.gt=Ua,n.gte=Ya,n.has=function(t,e){return null!=t&&cr(t,e,Ln)},n.hasIn=go,n.head=Lr,n.identity=jo,n.includes=function(t,e,n,i){t=Kr(t)?t:wo(t),n=n&&!i?lo(n):0;var r=t.length;return n<0&&(n=bs(r+n,0)),oo(t)?n<=r&&t.indexOf(e,n)>-1:!!r&&w(t,e,n)>-1},n.indexOf=function(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:lo(n);return r<0&&(r=bs(i+r,0)),w(t,e,r)},n.inRange=function(t,e,n){return e=uo(e),n===Y?(n=e,e=0):n=uo(n),function(t,e,n){return t>=xs(e,n)&&t<bs(e,n)}(t=ho(t),e,n)},n.invoke=hu,n.isArguments=Va,n.isArray=Xa,n.isArrayBuffer=Ha,n.isArrayLike=Kr,n.isArrayLikeObject=qr,n.isBoolean=function(t){return!0===t||!1===t||no(t)&&On(t)==Rt},n.isBuffer=Za,n.isDate=Ka,n.isElement=function(t){return no(t)&&1===t.nodeType&&!ro(t)},n.isEmpty=function(t){if(null==t)return!0;if(Kr(t)&&(Xa(t)||"string"==typeof t||"function"==typeof t.splice||Za(t)||$a(t)||Va(t)))return!t.length;var e=na(t);if(e==Mt||e==Wt)return!t.size;if(mr(t))return!Bn(t).length;for(var n in t)if(Xo.call(t,n))return!1;return!0},n.isEqual=function(t,e){return Fn(t,e)},n.isEqualWith=function(t,e,n){var i=(n="function"==typeof n?n:Y)?n(t,e):Y;return i===Y?Fn(t,e,Y,n):!!i},n.isError=Jr,n.isFinite=function(t){return"number"==typeof t&&ys(t)},n.isFunction=Qr,n.isInteger=$r,n.isLength=to,n.isMap=qa,n.isMatch=function(t,e){return t===e||Nn(t,e,ur(e))},n.isMatchWith=function(t,e,n){return n="function"==typeof n?n:Y,Nn(t,e,ur(e),n)},n.isNaN=function(t){return io(t)&&t!=+t},n.isNative=function(t){if(ia(t))throw new Mo(X);return Gn(t)},n.isNil=function(t){return null==t},n.isNull=function(t){return null===t},n.isNumber=io,n.isObject=eo,n.isObjectLike=no,n.isPlainObject=ro,n.isRegExp=Ja,n.isSafeInteger=function(t){return $r(t)&&t>=-yt&&t<=yt},n.isSet=Qa,n.isString=oo,n.isSymbol=so,n.isTypedArray=$a,n.isUndefined=function(t){return t===Y},n.isWeakMap=function(t){return no(t)&&na(t)==Yt},n.isWeakSet=function(t){return no(t)&&On(t)==Vt},n.join=function(t,e){return null==t?"":_s.call(t,e)},n.kebabCase=_u,n.last=kr,n.lastIndexOf=function(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=i;return n!==Y&&(r=(r=lo(n))<0?bs(i+r,0):xs(r,i-1)),e==e?function(t,e,n){for(var i=n+1;i--;)if(t[i]===e)return i;return i}(t,e,r):_(t,x,r,!0)},n.lowerCase=wu,n.lowerFirst=bu,n.lt=tu,n.lte=eu,n.max=function(t){return t&&t.length?cn(t,jo,An):Y},n.maxBy=function(t,e){return t&&t.length?cn(t,sr(e,2),An):Y},n.mean=function(t){return E(t,jo)},n.meanBy=function(t,e){return E(t,sr(e,2))},n.min=function(t){return t&&t.length?cn(t,jo,Un):Y},n.minBy=function(t,e){return t&&t.length?cn(t,sr(e,2),Un):Y},n.stubArray=Oo,n.stubFalse=Ao,n.stubObject=function(){return{}},n.stubString=function(){return""},n.stubTrue=function(){return!0},n.multiply=Bu,n.nth=function(t,e){return t&&t.length?Zn(t,lo(e)):Y},n.noConflict=function(){return fn._===this&&(fn._=Jo),this},n.noop=Ro,n.now=Ma,n.pad=function(t,e,n){t=po(t);var i=(e=lo(e))?B(t):0;if(!e||i>=e)return t;var r=(e-i)/2;return Ui(vs(r),n)+t+Ui(ds(r),n)},n.padEnd=function(t,e,n){t=po(t);var i=(e=lo(e))?B(t):0;return e&&i<e?t+Ui(e-i,n):t},n.padStart=function(t,e,n){t=po(t);var i=(e=lo(e))?B(t):0;return e&&i<e?Ui(e-i,n)+t:t},n.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),Cs(po(t).replace(_e,""),e||0)},n.random=function(t,e,n){if(n&&"boolean"!=typeof n&&dr(t,e,n)&&(e=n=Y),n===Y&&("boolean"==typeof e?(n=e,e=Y):"boolean"==typeof t&&(n=t,t=Y)),t===Y&&e===Y?(t=0,e=1):(t=uo(t),e===Y?(e=t,t=0):e=uo(e)),t>e){var i=t;t=e,e=i}if(n||t%1||e%1){var r=js();return xs(t+r*(e-t+un("1e-"+((r+"").length-1))),e)}return $n(t,e)},n.reduce=function(t,e,n){var i=Xa(t)?d:S,r=arguments.length<3;return i(t,sr(e,4),n,r,Ys)},n.reduceRight=function(t,e,n){var i=Xa(t)?v:S,r=arguments.length<3;return i(t,sr(e,4),n,r,Vs)},n.repeat=function(t,e,n){return e=(n?dr(t,e,n):e===Y)?1:lo(e),ti(po(t),e)},n.replace=function(){var t=arguments,e=po(t[0]);return t.length<3?e:e.replace(t[1],t[2])},n.result=function(t,e,n){var i=-1,r=(e=_i(e,t)).length;for(r||(r=1,t=Y);++i<r;){var o=null==t?Y:t[Sr(e[i])];o===Y&&(i=r,o=n),t=Qr(o)?o.call(t):o}return t},n.round=zu,n.runInContext=t,n.sample=function(t){return(Xa(t)?Be:function(t){return Be(wo(t))})(t)},n.size=function(t){if(null==t)return 0;if(Kr(t))return oo(t)?B(t):t.length;var e=na(t);return e==Mt||e==Wt?t.size:Bn(t).length},n.snakeCase=xu,n.some=function(t,e,n){var i=Xa(t)?g:ri;return n&&dr(t,e,n)&&(e=Y),i(t,sr(e,3))},n.sortedIndex=function(t,e){return oi(t,e)},n.sortedIndexBy=function(t,e,n){return si(t,e,sr(n,2))},n.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var i=oi(t,e);if(i<n&&Zr(t[i],e))return i}return-1},n.sortedLastIndex=function(t,e){return oi(t,e,!0)},n.sortedLastIndexBy=function(t,e,n){return si(t,e,sr(n,2),!0)},n.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var n=oi(t,e,!0)-1;if(Zr(t[n],e))return n}return-1},n.startCase=Eu,n.startsWith=function(t,e,n){return t=po(t),n=null==n?0:Ke(lo(n),0,t.length),e=li(e),t.slice(n,n+e.length)==e},n.subtract=Uu,n.sum=function(t){return t&&t.length?T(t,jo):0},n.sumBy=function(t,e){return t&&t.length?T(t,sr(e,2)):0},n.template=function(t,e,i){var r=n.templateSettings;i&&dr(t,e,i)&&(e=Y),t=po(t),e=ru({},e,r,Ji);var o,s,a=ru({},e.imports,r.imports,Ji),u=mo(a),l=O(a,u),c=0,h=e.interpolate||Me,f="__p += '",p=No((e.escape||Me).source+"|"+h.source+"|"+(h===fe?Se:Me).source+"|"+(e.evaluate||Me).source+"|$","g"),d="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++rn+"]")+"\n";t.replace(p,function(e,n,i,r,a,u){return i||(i=r),f+=t.slice(c,u).replace(Pe,M),n&&(o=!0,f+="' +\n__e("+n+") +\n'"),a&&(s=!0,f+="';\n"+a+";\n__p += '"),i&&(f+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),c=u+e.length,e}),f+="';\n";var v=e.variable;v||(f="with (obj) {\n"+f+"\n}\n"),f=(s?f.replace(ie,""):f).replace(re,"$1").replace(oe,"$1;"),f="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var g=Su(function(){return Po(u,d+"return "+f).apply(Y,l)});if(g.source=f,Jr(g))throw g;return g},n.times=function(t,e){if((t=lo(t))<1||t>yt)return[];var n=bt,i=xs(t,bt);e=sr(e),t-=bt;for(var r=R(i,e);++n<t;)e(n);return r},n.toFinite=uo,n.toInteger=lo,n.toLength=co,n.toLower=function(t){return po(t).toLowerCase()},n.toNumber=ho,n.toSafeInteger=function(t){return t?Ke(lo(t),-yt,yt):0===t?t:0},n.toString=po,n.toUpper=function(t){return po(t).toUpperCase()},n.trim=function(t,e,n){if((t=po(t))&&(n||e===Y))return t.replace(ye,"");if(!t||!(e=li(e)))return t;var i=z(t),r=z(e);return wi(i,L(i,r),k(i,r)+1).join("")},n.trimEnd=function(t,e,n){if((t=po(t))&&(n||e===Y))return t.replace(we,"");if(!t||!(e=li(e)))return t;var i=z(t);return wi(i,0,k(i,z(e))+1).join("")},n.trimStart=function(t,e,n){if((t=po(t))&&(n||e===Y))return t.replace(_e,"");if(!t||!(e=li(e)))return t;var i=z(t);return wi(i,L(i,z(e))).join("")},n.truncate=function(t,e){var n=ht,i=ft;if(eo(e)){var r="separator"in e?e.separator:r;n="length"in e?lo(e.length):n,i="omission"in e?li(e.omission):i}var o=(t=po(t)).length;if(P(t)){var s=z(t);o=s.length}if(n>=o)return t;var a=n-B(i);if(a<1)return i;var u=s?wi(s,0,a).join(""):t.slice(0,a);if(r===Y)return u+i;if(s&&(a+=u.length-a),Ja(r)){if(t.slice(a).search(r)){var l,c=u;for(r.global||(r=No(r.source,po(Te.exec(r))+"g")),r.lastIndex=0;l=r.exec(c);)var h=l.index;u=u.slice(0,h===Y?a:h)}}else if(t.indexOf(li(r),a)!=a){var f=u.lastIndexOf(r);f>-1&&(u=u.slice(0,f))}return u+i},n.unescape=function(t){return(t=po(t))&&ue.test(t)?t.replace(se,Tn):t},n.uniqueId=function(t){var e=++Ho;return po(t)+e},n.upperCase=Cu,n.upperFirst=ju,n.each=Wr,n.eachRight=Br,n.first=Lr,To(n,function(){var t={};return dn(n,function(e,i){Xo.call(n.prototype,i)||(t[i]=e)}),t}(),{chain:!1}),n.VERSION="4.17.11",a(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){n[t].placeholder=n}),a(["drop","take"],function(t,e){j.prototype[t]=function(n){n=n===Y?1:bs(lo(n),0);var i=this.__filtered__&&!e?new j(this):this.clone();return i.__filtered__?i.__takeCount__=xs(n,i.__takeCount__):i.__views__.push({size:xs(n,bt),type:t+(i.__dir__<0?"Right":"")}),i},j.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),a(["filter","map","takeWhile"],function(t,e){var n=e+1,i=n==vt||3==n;j.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:sr(t,3),type:n}),e.__filtered__=e.__filtered__||i,e}}),a(["head","last"],function(t,e){var n="take"+(e?"Right":"");j.prototype[t]=function(){return this[n](1).value()[0]}}),a(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");j.prototype[t]=function(){return this.__filtered__?new j(this):this[n](1)}}),j.prototype.compact=function(){return this.filter(jo)},j.prototype.find=function(t){return this.filter(t).head()},j.prototype.findLast=function(t){return this.reverse().find(t)},j.prototype.invokeMap=ei(function(t,e){return"function"==typeof t?new j(this):this.map(function(n){return Pn(n,t,e)})}),j.prototype.reject=function(t){return this.filter(Hr(sr(t)))},j.prototype.slice=function(t,e){t=lo(t);var n=this;return n.__filtered__&&(t>0||e<0)?new j(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==Y&&(n=(e=lo(e))<0?n.dropRight(-e):n.take(e-t)),n)},j.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},j.prototype.toArray=function(){return this.take(bt)},dn(j.prototype,function(t,e){var i=/^(?:filter|find|map|reject)|While$/.test(e),o=/^(?:head|last)$/.test(e),s=n[o?"take"+("last"==e?"Right":""):e],a=o||/^find/.test(e);s&&(n.prototype[e]=function(){var e=this.__wrapped__,u=o?[1]:arguments,l=e instanceof j,c=u[0],h=l||Xa(e),f=function(t){var e=s.apply(n,p([t],u));return o&&d?e[0]:e};h&&i&&"function"==typeof c&&1!=c.length&&(l=h=!1);var d=this.__chain__,v=!!this.__actions__.length,g=a&&!d,m=l&&!v;if(!a&&h){e=m?e:new j(this);var y=t.apply(e,u);return y.__actions__.push({func:Gr,args:[f],thisArg:Y}),new r(y,d)}return g&&m?t.apply(this,u):(y=this.thru(f),g?o?y.value()[0]:y.value():y)})}),a(["pop","push","shift","sort","splice","unshift"],function(t){var e=Bo[t],i=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);n.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var n=this.value();return e.apply(Xa(n)?n:[],t)}return this[i](function(n){return e.apply(Xa(n)?n:[],t)})}}),dn(j.prototype,function(t,e){var i=n[e];if(i){var r=i.name+"";(Ms[r]||(Ms[r]=[])).push({name:e,func:i})}}),Ms[Gi(Y,nt).name]=[{name:"wrapper",func:Y}],j.prototype.clone=function(){var t=new j(this.__wrapped__);return t.__actions__=Ti(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Ti(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Ti(this.__views__),t},j.prototype.reverse=function(){if(this.__filtered__){var t=new j(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},j.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Xa(t),i=e<0,r=n?t.length:0,o=function(t,e,n){for(var i=-1,r=n.length;++i<r;){var o=n[i],s=o.size;switch(o.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=xs(e,t+s);break;case"takeRight":t=bs(t,e-s)}}return{start:t,end:e}}(0,r,this.__views__),s=o.start,a=o.end,u=a-s,l=i?a:s-1,c=this.__iteratees__,h=c.length,f=0,p=xs(u,this.__takeCount__);if(!n||!i&&r==u&&p==u)return di(t,this.__actions__);var d=[];t:for(;u--&&f<p;){for(var v=-1,g=t[l+=e];++v<h;){var m=c[v],y=m.iteratee,_=m.type,w=y(g);if(_==gt)g=w;else if(!w){if(_==vt)continue t;break t}}d[f++]=g}return d},n.prototype.at=ja,n.prototype.chain=function(){return Nr(this)},n.prototype.commit=function(){return new r(this.value(),this.__chain__)},n.prototype.next=function(){this.__values__===Y&&(this.__values__=ao(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?Y:this.__values__[this.__index__++]}},n.prototype.plant=function(t){for(var e,n=this;n instanceof i;){var r=Rr(n);r.__index__=0,r.__values__=Y,e?o.__wrapped__=r:e=r;var o=r;n=n.__wrapped__}return o.__wrapped__=t,e},n.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof j){var e=t;return this.__actions__.length&&(e=new j(this)),(e=e.reverse()).__actions__.push({func:Gr,args:[Pr],thisArg:Y}),new r(e,this.__chain__)}return this.thru(Pr)},n.prototype.toJSON=n.prototype.valueOf=n.prototype.value=function(){return di(this.__wrapped__,this.__actions__)},n.prototype.first=n.prototype.head,us&&(n.prototype[us]=function(){return this}),n}();fn._=Rn,(r=function(){return Rn}.call(e,n,e,i))!==Y&&(i.exports=r)}).call(this)}).call(e,n("mFPK"),n("y5YM")(t))},rBbO:function(t,e,n){"use strict";function i(t){var e=new s(t),n=o(s.prototype.request,e);return r.extend(n,s.prototype,e),r.extend(n,e),n}var r=n("gvuQ"),o=n("IKeO"),s=n("NQr8"),a=n("XL/d"),u=i(a);u.Axios=s,u.create=function(t){return i(r.merge(a,t))},u.Cancel=n("DkjP"),u.CancelToken=n("68ub"),u.isCancel=n("eoZI"),u.all=function(t){return Promise.all(t)},u.spread=n("EZEp"),t.exports=u,t.exports.default=u},uOJK:function(t,e,n){function i(t,e){for(var n=0;n<t.length;n++){var i=t[n],r=f[i.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](i.parts[o]);for(;o<i.parts.length;o++)r.parts.push(c(i.parts[o],e))}else{var s=[];for(o=0;o<i.parts.length;o++)s.push(c(i.parts[o],e));f[i.id]={id:i.id,refs:1,parts:s}}}}function r(t,e){for(var n=[],i={},r=0;r<t.length;r++){var o=t[r],s=e.base?o[0]+e.base:o[0],a={css:o[1],media:o[2],sourceMap:o[3]};i[s]?i[s].parts.push(a):n.push(i[s]={id:s,parts:[a]})}return n}function o(t,e){var n=d(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=m[m.length-1];if("top"===t.insertAt)i?i.nextSibling?n.insertBefore(e,i.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),m.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=d(t.insertInto+" "+t.insertAt.before);n.insertBefore(e,r)}}function s(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=m.indexOf(t);e>=0&&m.splice(e,1)}function a(t){var e=document.createElement("style");return t.attrs.type="text/css",l(e,t.attrs),o(t,e),e}function u(t){var e=document.createElement("link");return t.attrs.type="text/css",t.attrs.rel="stylesheet",l(e,t.attrs),o(t,e),e}function l(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function c(t,e){var n,i,r,o;if(e.transform&&t.css){if(!(o=e.transform(t.css)))return function(){};t.css=o}if(e.singleton){var l=g++;n=v||(v=a(e)),i=h.bind(null,n,l,!1),r=h.bind(null,n,l,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=u(e),i=function(t,e,n){var i=n.css,r=n.sourceMap,o=void 0===e.convertToAbsoluteUrls&&r;(e.convertToAbsoluteUrls||o)&&(i=y(i)),r&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var s=new Blob([i],{type:"text/css"}),a=t.href;t.href=URL.createObjectURL(s),a&&URL.revokeObjectURL(a)}.bind(null,n,e),r=function(){s(n),n.href&&URL.revokeObjectURL(n.href)}):(n=a(e),i=function(t,e){var n=e.css,i=e.media;if(i&&t.setAttribute("media",i),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,n),r=function(){s(n)});return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else r()}}function h(t,e,n,i){var r=n?"":i.css;if(t.styleSheet)t.styleSheet.cssText=_(e,r);else{var o=document.createTextNode(r),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(o,s[e]):t.appendChild(o)}}var f={},p=function(t){var e;return function(){return void 0===e&&(e=function(){return window&&document&&document.all&&!window.atob}.apply(this,arguments)),e}}(),d=function(t){var e={};return function(t){if(void 0===e[t]){var n=function(t){return document.querySelector(t)}.call(this,t);if(n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}}(),v=null,g=0,m=[],y=n("udGk");t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||(e.singleton=p()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=r(t,e);return i(n,e),function(t){for(var o=[],s=0;s<n.length;s++){var a=n[s];(u=f[a.id]).refs--,o.push(u)}t&&i(r(t,e),e);for(s=0;s<o.length;s++){var u;if(0===(u=o[s]).refs){for(var l=0;l<u.parts.length;l++)u.parts[l]();delete f[u.id]}}}};var _=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},udGk:function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,i=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var r,o=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(o)?t:(r=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:i+o.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")})}},v7nT:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("yFfH");i.a.install=function(t){"undefined"!=typeof window&&window.Vue&&(t=window.Vue),t.component(i.a.name,i.a)},e.default=i.a},vyL3:function(t,e,n){"use strict";var i=n("gvuQ");t.exports=function(t,e){i.forEach(t,function(n,i){i!==e&&i.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[i])})}},xxJ0:function(t,e,n){"use strict";var i=n("OIH2");t.exports=function(t,e,n,r,o){var s=new Error(t);return i(s,e,n,r,o)}},y5YM:function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},yFfH:function(t,e,n){"use strict";var i=n("izNw"),r=n("ZMF+"),o=function(t){n("ME29")},s=n("C7Lr")(i.a,r.a,!1,o,null,null);e.a=s.exports}})},t.exports=i()},emf4:function(t,e,n){"use strict";t.exports=r,t.exports.default=r;var i=n("SpdK");function r(t,e){if(!(this instanceof r))return new r(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),this.clear()}function o(t,e,n){if(!n)return e.indexOf(t);for(var i=0;i<e.length;i++)if(n(t,e[i]))return i;return-1}function s(t,e){a(t,0,t.children.length,e,t)}function a(t,e,n,i,r){r||(r=v(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(var o,s=e;s<n;s++)o=t.children[s],u(r,t.leaf?i(o):o);return r}function u(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function l(t,e){return t.minX-e.minX}function c(t,e){return t.minY-e.minY}function h(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function f(t){return t.maxX-t.minX+(t.maxY-t.minY)}function p(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function d(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function v(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function g(t,e,n,r,o){for(var s,a=[e,n];a.length;)(n=a.pop())-(e=a.pop())<=r||(s=e+Math.ceil((n-e)/r/2)*r,i(t,s,e,n,o),a.push(e,s,s,n))}r.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,n=[],i=this.toBBox;if(!d(t,e))return n;for(var r,o,s,a,u=[];e;){for(r=0,o=e.children.length;r<o;r++)s=e.children[r],d(t,a=e.leaf?i(s):s)&&(e.leaf?n.push(s):p(t,a)?this._all(s,n):u.push(s));e=u.pop()}return n},collides:function(t){var e=this.data,n=this.toBBox;if(!d(t,e))return!1;for(var i,r,o,s,a=[];e;){for(i=0,r=e.children.length;i<r;i++)if(o=e.children[i],d(t,s=e.leaf?n(o):o)){if(e.leaf||p(t,s))return!0;a.push(o)}e=a.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,n=t.length;e<n;e++)this.insert(t[e]);return this}var i=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===i.height)this._splitRoot(this.data,i);else{if(this.data.height<i.height){var r=this.data;this.data=i,i=r}this._insert(i,this.data.height-i.height-1,!0)}else this.data=i;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=v([]),this},remove:function(t,e){if(!t)return this;for(var n,i,r,s,a=this.data,u=this.toBBox(t),l=[],c=[];a||l.length;){if(a||(a=l.pop(),i=l[l.length-1],n=c.pop(),s=!0),a.leaf&&-1!==(r=o(t,a.children,e)))return a.children.splice(r,1),l.push(a),this._condense(l),this;s||a.leaf||!p(a,u)?i?(n++,a=i.children[n],s=!1):a=null:(l.push(a),c.push(n),n=0,i=a,a=a.children[0])}return this},toBBox:function(t){return t},compareMinX:l,compareMinY:c,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},_build:function(t,e,n,i){var r,o=n-e+1,a=this._maxEntries;if(o<=a)return s(r=v(t.slice(e,n+1)),this.toBBox),r;i||(i=Math.ceil(Math.log(o)/Math.log(a)),a=Math.ceil(o/Math.pow(a,i-1))),(r=v([])).leaf=!1,r.height=i;var u,l,c,h,f=Math.ceil(o/a),p=f*Math.ceil(Math.sqrt(a));for(g(t,e,n,p,this.compareMinX),u=e;u<=n;u+=p)for(g(t,u,c=Math.min(u+p-1,n),f,this.compareMinY),l=u;l<=c;l+=f)h=Math.min(l+f-1,c),r.children.push(this._build(t,l,h,i-1));return s(r,this.toBBox),r},_chooseSubtree:function(t,e,n,i){for(var r,o,s,a,u,l,c,f,p,d;i.push(e),!e.leaf&&i.length-1!==n;){for(c=f=1/0,r=0,o=e.children.length;r<o;r++)u=h(s=e.children[r]),p=t,d=s,(l=(Math.max(d.maxX,p.maxX)-Math.min(d.minX,p.minX))*(Math.max(d.maxY,p.maxY)-Math.min(d.minY,p.minY))-u)<f?(f=l,c=u<c?u:c,a=s):l===f&&u<c&&(c=u,a=s);e=a||e.children[0]}return e},_insert:function(t,e,n){var i=this.toBBox,r=n?t:i(t),o=[],s=this._chooseSubtree(r,this.data,e,o);for(s.children.push(t),u(s,r);e>=0&&o[e].children.length>this._maxEntries;)this._split(o,e),e--;this._adjustParentBBoxes(r,o,e)},_split:function(t,e){var n=t[e],i=n.children.length,r=this._minEntries;this._chooseSplitAxis(n,r,i);var o=this._chooseSplitIndex(n,r,i),a=v(n.children.splice(o,n.children.length-o));a.height=n.height,a.leaf=n.leaf,s(n,this.toBBox),s(a,this.toBBox),e?t[e-1].children.push(a):this._splitRoot(n,a)},_splitRoot:function(t,e){this.data=v([t,e]),this.data.height=t.height+1,this.data.leaf=!1,s(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,n){var i,r,o,s,u,l,c,f,p,d,v,g,m,y;for(l=c=1/0,i=e;i<=n-e;i++)r=a(t,0,i,this.toBBox),o=a(t,i,n,this.toBBox),p=r,d=o,void 0,void 0,void 0,void 0,v=Math.max(p.minX,d.minX),g=Math.max(p.minY,d.minY),m=Math.min(p.maxX,d.maxX),y=Math.min(p.maxY,d.maxY),s=Math.max(0,m-v)*Math.max(0,y-g),u=h(r)+h(o),s<l?(l=s,f=i,c=u<c?u:c):s===l&&u<c&&(c=u,f=i);return f},_chooseSplitAxis:function(t,e,n){var i=t.leaf?this.compareMinX:l,r=t.leaf?this.compareMinY:c;this._allDistMargin(t,e,n,i)<this._allDistMargin(t,e,n,r)&&t.children.sort(i)},_allDistMargin:function(t,e,n,i){t.children.sort(i);var r,o,s=this.toBBox,l=a(t,0,e,s),c=a(t,n-e,n,s),h=f(l)+f(c);for(r=e;r<n-e;r++)o=t.children[r],u(l,t.leaf?s(o):o),h+=f(l);for(r=n-e-1;r>=e;r--)o=t.children[r],u(c,t.leaf?s(o):o),h+=f(c);return h},_adjustParentBBoxes:function(t,e,n){for(var i=n;i>=0;i--)u(e[i],t)},_condense:function(t){for(var e,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(e=t[n-1].children).splice(e.indexOf(t[n]),1):this.clear():s(t[n],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}},fZjL:function(t,e,n){t.exports={default:n("jFbC"),__esModule:!0}},h1jd:function(t,e){},hZ4t:function(t,e,n){"use strict";var i=n("eAMf"),r={name:"LivePlayerLive",props:{requestVideoUrl:[Function,String],params:Object,type:String,refreshFlag:{default:!1,type:Boolean},autoplay:{default:!1,type:Boolean},isBig:{default:!0,type:Boolean}},components:{LivePlayer:n.n(i).a},data:function(){return{videoUrl:"",isPause:!1,videoOption:{videoMaskFlag:!0,playFlag:!0,loadingFlag:!1,playError:!1,videoText:"暂无视频数据"},videoLoadingDelay:{timer:null,countTime:15,reloadTime:2,count:0}}},computed:{player:function(){return this.$refs.livePlayer.player}},watch:{deep:!0,"videoOption.loadingFlag":function(t,e){this.initVideoTimer(),t&&this.videoTimer()},"videoLoadingDelay.count":function(t,e){}},mounted:function(){this.autoplay&&this.requestVideo()},methods:{initVideoTimer:function(){clearInterval(this.videoLoadingDelay.timer),this.videoLoadingDelay.count=0},videoTimer:function(){var t=this;this.isPause||(this.videoLoadingDelay.timer=setInterval(function(){t.videoLoadingDelay.count>=t.videoLoadingDelay.countTime?(t.setVideoOptionError("此视频暂无法播放，请稍后再试"),t.videoUrl=""):t.videoLoadingDelay.count++},1e3))},videoTimerReload:function(){var t=this;this.videoLoadingDelay.timer=setInterval(function(){t.videoLoadingDelay.count>=t.videoLoadingDelay.reloadTime?t.requestVideo():t.videoLoadingDelay.count++},1e3)},setVideoOptionPause:function(){this.initVideoTimer(),this.videoOption.videoMaskFlag=!0,this.videoOption.playFlag=!0,this.videoOption.loadingFlag=!1,this.videoOption.playError=!1},setVideoOptionLoading:function(){this.videoOption.videoMaskFlag=!0,this.videoOption.playFlag=!1,this.videoOption.loadingFlag=!0,this.videoOption.playError=!1},setVideoOptionError:function(t){this.videoOption.videoMaskFlag=!0,this.videoOption.playFlag=!1,this.videoOption.loadingFlag=!1,this.videoOption.playError=!0,this.videoOption.videoText=t,this.videoUrl=""},setVideoOptionClose:function(){this.initVideoTimer(),this.videoOption.videoMaskFlag=!1,this.videoOption.playFlag=!1,this.videoOption.loadingFlag=!1,this.videoOption.playError=!1},onPlayerMessage:function(t){},onPlayerError:function(t){this.$emit("onPlayerError",t)},onPlayerEnded:function(t){},onPlayerTimeupdate:function(t){this.setVideoOptionClose()},onPlayerPause:function(){this.videoOption.videoMaskFlag=!1,this.videoOption.playFlag=!1,this.videoOption.loadingFlag=!1,this.videoOption.playError=!1,this.isPause=!0},onPlayerPlay:function(t){this.isPause=!1},requestVideo:function(){var t=this;if(this.setVideoOptionLoading(),this.videoUrl){var e=this.videoUrl;this.videoUrl="",setTimeout(function(){t.videoUrl=e},0)}else"function"==typeof this.requestVideoUrl?this.requestVideoUrl(this.params).then(function(e){200==e.status?e.data[t.type]?(t.videoUrl=e.data[t.type],t.params.videoUrl=t.videoUrl,t.$emit("videoLoadCompleted",t.params)):(t.videoUrl="",t.setVideoOptionError("暂无视频数据")):t.setVideoOptionError(e.message||"接口响应失败，请稍后再试")}).catch(function(e){t.setVideoOptionError("接口响应失败，请稍后再试")}):this.requestVideoUrl?(this.videoUrl=this.requestVideoUrl,this.params.videoUrl=this.videoUrl,this.$emit("videoLoadCompleted",this.params)):this.setVideoOptionError("暂无视频数据")},refreshVideo:function(){var t=this;this.videoUrl="",setTimeout(function(){t.requestVideo(),t.$emit("refreshVideo")},0)},initVideo:function(){this.setVideoOptionPause(),this.videoUrl=""}}},o={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:[t.isBig?"c-video-16-9":"c-video-4-3"]},[n("div",{staticClass:"c-video"},[n("div",{staticClass:"c-video-title"},[t._t("default"),t._v(" "),t.refreshFlag?n("i",{staticClass:"el-icon-refresh",on:{click:t.refreshVideo}}):t._e()],2),t._v(" "),t.videoOption.videoMaskFlag?n("div",{staticClass:"c-video-mask"},[t.videoOption.playFlag?n("i",{staticClass:"el-icon-video-play",on:{click:t.requestVideo}}):t._e(),t._v(" "),t.videoOption.loadingFlag?n("i",{staticClass:"el-icon-loading"}):t._e(),t._v(" "),t.videoOption.playError?n("span",{staticClass:"c-video-tip"},[t._v(t._s(t.videoOption.videoText))]):t._e(),t._v(" "),t.videoOption.playError?n("i",{staticClass:"el-icon-refresh",on:{click:t.refreshVideo}}):t._e()]):t._e(),t._v(" "),n("live-player",{ref:"livePlayer",staticClass:"c-live-player",attrs:{videoUrl:t.videoUrl,autoplay:"",muted:!0,fluent:!0,live:!0},on:{message:t.onPlayerMessage,error:t.onPlayerError,ended:t.onPlayerEnded,timeupdate:t.onPlayerTimeupdate,pause:t.onPlayerPause,play:t.onPlayerPlay}})],1)])},staticRenderFns:[]};var s=n("VU/8")(r,o,!1,function(t){n("P/7c")},null,null);e.a=s.exports},jFbC:function(t,e,n){n("Cdx3"),t.exports=n("FeBl").Object.keys},ktr9:function(t,e){},uC0P:function(t,e,n){"use strict";var i=n("bOdI"),r=n.n(i),o=n("Zrlr"),s=n.n(o),a=n("wxAW"),u=n.n(a),l=function(){function t(){s()(this,t),this.cesiumContainer=null,this.cesium={viewer:null},this.models={},this.defualtZ=window.defualtZ}return u()(t,[{key:"initload",value:function(t,e){this.cesiumContainer=document.getElementById(t),this.initCesium(),e||(this.cesium.viewer.scene.screenSpaceCameraController.minimumZoomDistance=55)}},{key:"initCesium",value:function(){this.cesium.viewer=new Cesium.Viewer(this.cesiumContainer,r()({projectionPicker:!0,animation:!1,timeline:!1,imageryProvider:new Cesium.SingleTileImageryProvider({url:"static/images/2.png"}),geocoder:!1,homeButton:!1,sceneModePicker:!1,baseLayerPicker:!1,navigationHelpButton:!1,fullscreenButton:!1,vrButton:!1,orderIndependentTranslucency:!1},"baseLayerPicker",!1)),this.cesium.viewer.scene.globe.depthTestAgainstTerrain=!1,this.cesium.viewer.scene.postProcessStages.fxaa.enabled=!0,this.cesium.viewer.scene.screenSpaceCameraController.zoomEventTypes=[Cesium.CameraEventType.WHEEL,Cesium.CameraEventType.PINCH],this.cesium.viewer.scene.screenSpaceCameraController.tiltEventTypes=[Cesium.CameraEventType.PINCH,Cesium.CameraEventType.RIGHT_DRAG],this.cesium.viewer.imageryLayers.remove(this.cesium.viewer.imageryLayers.get(1));var t=new Cesium.EllipsoidTerrainProvider;this.cesium.viewer.scene.terrainProvider=t,this.cesium.viewer.dataSources.add(Cesium.GeoJsonDataSource.load("static/data/changsha/3.geojson",{fill:Cesium.Color.ALICEBLUE.withAlpha(.996),stroke:Cesium.Color.fromCssColorString("#fff"),strokeWidth:0,markerSymbol:"?"})),this.cesium.viewer.dataSources.add(Cesium.GeoJsonDataSource.load("static/data/changsha/2.geojson",{stroke:Cesium.Color.ALICEBLUE.withAlpha(.996),strokeWidth:2,markerSymbol:"?"})),this.cesium.viewer.dataSources.add(Cesium.GeoJsonDataSource.load("static/data/changsha/1.geojson",{stroke:new Cesium.Color(.5372549019607843,.2941176470588235,.1686274509803922,.996),strokeWidth:2,markerSymbol:"?"})),this.cesium.viewer.imageryLayers.addImageryProvider(new Cesium.WebMapTileServiceImageryProvider({url:window.mapUrl,maximumLevel:20,id:"layer1"})),this.cesium.viewer._cesiumWidget._creditContainer.style.display="none";this.addPolygon([112.95365165280839,28.329121301607586,50,112.953927670285,28.32859782018619,50,112.95257076610437,28.32774359479407,50,112.95220196800335,28.328177801283175,50,112.95365165280828,28.329121301607586,50],this.defualtZ),this.initModel_pole();var e=this.cesium.viewer;this.cesium.viewer.scene.camera.moveEnd.addEventListener(function(){if(0!=e.dataSources.length)if(e.camera.getMagnitude()<=6374956.727578137){if(e.dataSources.length>0&&!e.dataSources._dataSources[0].show){for(var t=0;t<e.dataSources.length;t++)e.dataSources.get(t).show=!0;e.entities.getById("p1").show=!0}2==e.imageryLayers.length&&e.imageryLayers._layers[1]&&(e.imageryLayers.get(1).show=!1)}else{if(e.dataSources.length>0&&e.dataSources._dataSources[0].show){for(t=0;t<e.dataSources.length;t++)e.dataSources.get(t).show=!1;e.entities.getById("p1").show=!1}2==e.imageryLayers.length&&(e.imageryLayers._layers[1].show||(e.imageryLayers.get(1).show=!0))}})}},{key:"initModel_pole",value:function(){var t=sessionStorage.getItem("sideList"),e=JSON.parse(t);if(null!=e&&e.length>0){for(var n=[],i=this.cesium.viewer.scene.primitives.add(new Cesium.LabelCollection),r=0;r<e.length;r++){i.add({fillColor:Cesium.Color.BLACK,backgroundColor:Cesium.Color.fromCssColorString("#fff"),position:Cesium.Cartesian3.fromDegrees(e[r].longitude,e[r].latitude,5+this.defualtZ),text:e[r].devName,font:"14px sans-serif",showBackground:!0,horizontalOrigin:Cesium.HorizontalOrigin.CENTER,pixelOffset:new Cesium.Cartesian2(0,0),scaleByDistance:new Cesium.NearFarScalar(200,1,2e3,0)});var o=Cesium.Cartesian3.fromDegrees(e[r].longitude,e[r].latitude,this.defualtZ),s=Cesium.Math.toRadians(e[r].heading+90),a=Cesium.Math.toRadians(0),u=new Cesium.HeadingPitchRoll(s,a,0),l=Cesium.Transforms.headingPitchRollToFixedFrame(o,u);n.push({modelMatrix:l})}this.cesium.viewer.scene.primitives.add(new Cesium.ModelInstanceCollection({url:"./static/model/poleWith2Camera.glb",instances:n}))}}},{key:"computeCircle",value:function(t){for(var e=[],n=0;n<360;n++){var i=Cesium.Math.toRadians(n);e.push(new Cesium.Cartesian3(t*Math.cos(i),t*Math.sin(i),10))}return e}},{key:"remove3DInforLabel",value:function(t){var e=this.models[t];null!=e&&(this.cesium.viewer.entities.remove(e),delete this.models[t])}},{key:"add3DInfoLabel",value:function(t,e,n,i,r){var o=[];o.push(Cesium.Cartesian3.fromDegrees(n,i,0)),o.push(Cesium.Cartesian3.fromDegrees(n,i,20));var s=this.cesium.viewer.entities.add({id:t,position:Cesium.Cartesian3.fromDegrees(n,i,20),polyline:{positions:o,width:3,material:Cesium.Color.fromCssColorString("#ab6503")},label:{text:e,backgroundColor:Cesium.Color.fromCssColorString("#894b2b"),font:"30px sans-serif",showBackground:!0,horizontalOrigin:Cesium.HorizontalOrigin.CENTER,pixelOffset:new Cesium.Cartesian2(0,0),scaleByDistance:new Cesium.NearFarScalar(200,1,2e3,0)}});this.models[t]=s}},{key:"getExtent",value:function(){}},{key:"getCamera",value:function(){return{x:this.cesium.viewer.camera.position.x,y:this.cesium.viewer.camera.position.y,z:this.cesium.viewer.camera.position.z,radius:this.cesium.viewer.camera.heading,pitch:this.cesium.viewer.camera.pitch,yaw:this.cesium.viewer.camera.roll}}},{key:"addModel",value:function(t,e,n,i,r){var o=Cesium.Cartesian3.fromDegrees(n,i,r),s=Cesium.Math.toRadians(0),a=Cesium.Math.toRadians(0),u=new Cesium.HeadingPitchRoll(s,a,0),l=Cesium.Transforms.headingPitchRollToFixedFrame(o,u),c=Cesium.Model.fromGltf({id:t,modelMatrix:l,url:"./static/model/car.glb",minimumPixelSize:80,show:!1,maximumScale:5});this.cesium.viewer.scene.primitives.add(c)}},{key:"updateCameraPosition",value:function(t,e,n,i,r,o){var s=Cesium.Math.toRadians(i),a=new Cesium.HeadingPitchRoll(s,r,o);this.cesium.viewer.camera.flyTo({destination:Cesium.Cartesian3.fromDegrees(t,e,this.defualtZ+39.142101722743725),orientation:a})}},{key:"updatePosition",value:function(t,e,n,i){var r=new Cesium.Rectangle.fromDegrees(t,e,n,i);this.cesium.viewer.camera.flyTo({destination:r})}},{key:"initStreetLamp",value:function(){var t=[[112.95003033070373,28.326432159727982,0]];if(null!=t&&t.length>0){for(var e=[],n=this.cesium.viewer.scene.primitives.add(new Cesium.LabelCollection),i=0;i<t.length;i++){n.add({fillColor:Cesium.Color.BLACK,backgroundColor:Cesium.Color.fromCssColorString("#fff"),position:Cesium.Cartesian3.fromDegrees(t[i][0],t[i][1],5),text:"sdfsd",font:"20px sans-serif",showBackground:!0,horizontalOrigin:Cesium.HorizontalOrigin.CENTER,pixelOffset:new Cesium.Cartesian2(0,0),scaleByDistance:new Cesium.NearFarScalar(1e3,1,8e3,0)});var r=Cesium.Cartesian3.fromDegrees(t[i][0],t[i][1],0),o=Cesium.Math.toRadians(30),s=Cesium.Math.toRadians(0),a=new Cesium.HeadingPitchRoll(o,s,0),u=Cesium.Transforms.headingPitchRollToFixedFrame(r,a);e.push({modelMatrix:u})}this.cesium.viewer.scene.primitives.add(new Cesium.ModelInstanceCollection({url:"./static/model/street_lamp_two1.glb",instances:e}))}}},{key:"addPolygon",value:function(t,e){this.cesium.viewer.entities.add({id:"p1",polygon:{hierarchy:Cesium.Cartesian3.fromDegreesArrayHeights(t),extrudedHeight:e,perPositionHeight:!0,material:Cesium.Color.fromCssColorString("#71446b").withAlpha(.8),outline:!1}})}},{key:"textCar",value:function(){var t=[[112.95003033070373,28.326432159727982,0]],e=Cesium.Math.toRadians(270);if(null!=t&&t.length>0){for(var n=[],i=this.cesium.viewer.scene.primitives.add(new Cesium.LabelCollection),r=0;r<t.length;r++){i.add({fillColor:Cesium.Color.BLACK,backgroundColor:Cesium.Color.fromCssColorString("#fff"),position:Cesium.Cartesian3.fromDegrees(t[r][0],t[r][1],5),text:"航向角360",font:"20px sans-serif",showBackground:!0,horizontalOrigin:Cesium.HorizontalOrigin.CENTER,pixelOffset:new Cesium.Cartesian2(0,0),scaleByDistance:new Cesium.NearFarScalar(1e3,1,8e3,0)});var o=Cesium.Cartesian3.fromDegrees(t[r][0],t[r][1],5),s=Cesium.Math.toRadians(0),a=new Cesium.HeadingPitchRoll(e,s,0),u=Cesium.Transforms.headingPitchRollToFixedFrame(o,a);n.push({modelMatrix:u})}this.cesium.viewer.scene.primitives.add(new Cesium.ModelInstanceCollection({url:"./static/model/car_close.glb",instances:n,scale:10}))}}}]),t}();e.a=l},uqUo:function(t,e,n){var i=n("kM2E"),r=n("FeBl"),o=n("S82l");t.exports=function(t,e){var n=(r.Object||{})[t]||Object[t],s={};s[t]=e(n),i(i.S+i.F*o(function(){n(1)}),"Object",s)}}});